(this["webpackJsonpizze-admin"]=this["webpackJsonpizze-admin"]||[]).push([[21],{631:function(e,t,n){"use strict";n.r(t);var r=n(39),i=n(28),o=n.n(i),a=n(45),c=n(13),s=n(24),l=n(367),u=n(557),d=n(204),j=n(377),b=n(558),O=n(559),p=n(560),f=n(561),x=n(562),h=n(370),m=n(371),v=n(563),g=n(564),k=n(372),w=n(565),_=n(526),C=n(528),P=n(566),y=n(110),I=n(530),E=n(203),S=n(629),W=n(577),B=n(539),N=n(570),R=n(597),T=n(598),q=n(212),L=n.n(q),D=n(211),A=n.n(D),F=n(214),z=n.n(F),H=n(213),M=n.n(H),G=n(575),V=n(627),K=n(628),J=n(630),U=n(644),Y=n(210),Q=n(0),X=n.n(Q),Z=n(91),$=n(165),ee=n(55),te=n(209),ne=n(90),re=n(78),ie=n(111),oe=n(613),ae=n(4),ce=Object(l.a)((function(e){return{root:{width:e.breakpoints.values.lg,maxWidth:"100%",margin:"0 auto",padding:e.spacing(3)},themeButton:{color:e.palette.white,backgroundColor:e.palette.green.main,"&:hover":{backgroundColor:e.palette.green.dark}},dayPaper:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.green.main,color:"white"},lColor:{color:"white"},tabCard:{marginTop:e.spacing(3)},content:{padding:0},mTop:{marginTop:e.spacing(1.5)},jCenter:{display:"flex",justifyContent:"center"},sEvenly:{display:"flex",justifyContent:"space-evenly"},sBetween:{display:"flex",justifyContent:"space-between"},iconPadd:{padding:5},actions:{padding:e.spacing(1),justifyContent:"center"},ingredientsAvatarStyle:{width:e.spacing(10),height:e.spacing(10),margin:"auto",marginTop:"20px"},tabRoot:{minWidth:72},tabIndicator:{backgroundColor:e.palette.green.main},tabTextColorInherit:{backgroundColor:e.palette.green.main,color:"white",border:"1px solid white"},tabPanelRoot:{paddingTop:0,paddingBottom:0,width:"100%"},listItemRoot:{backgroundColor:"#7ac0af2b",margin:"10px 0px"},noListItemRoot:{backgroundColor:"#f500571c",margin:"10px 0px"},paperRoot:{display:"flex"}}})),se=[{id:"BEGINNER",name:"Beginner"},{id:"INTERMEDIATE",name:"Intermediate"},{id:"PROFESSIONAL",name:"Professional"}],le=[{id:"STRENGTH",name:"Strength Training"},{id:"HIIT",name:"HIIT"}],ue=[{id:"HOME",name:"Home Workout"},{id:"GYM",name:"Gym Workout"}],de=function(e){var t=e.isEdit,n=e.isOpen,i=e.okBtnText,o=void 0===i?"OK":i,a=e.onClose,l=e.data,b=e.title,O=e.onSuccess,p=ce(),f=Object(re.b)().Post,x=Object(ie.a)(),h=Object(Q.useRef)(null),m=X.a.useState([]),v=Object(s.a)(m,2),g=v[0],k=v[1],w={before_workout:[],workout:[],after_workout:[]},S={experience_level:"",preferred_workout:"",interests:"",workouts:Array(7).fill(null).map((function(e,t){return Object(c.a)({day:t+1},w)}))},W=X.a.useState(Object(c.a)({},S)),B=Object(s.a)(W,2),N=B[0],R=B[1],T=function(e,t){var n=t.setSubmitting,r=t.resetForm;n(!0),f("app/addWorkoutPlan",e).then((function(e){x.show(e.message,"success"),n(!1),r(),O()})).catch((function(e){var t=e.response.data.message,r=void 0===t?"Internal Server Error":t;n(!1),x.show(r,"error")}))},q=function(e,t){var n=t.setSubmitting,r=t.resetForm;n(!0),f("app/editWorkoutPlan",e).then((function(e){x.show(e.message,"success"),n(!1),r(),O()})).catch((function(e){var t=e.response.data.message,r=void 0===t?"Internal Server Error":t;n(!1),x.show(r,"error")}))};return Object(Q.useEffect)((function(){if(t){var e=Object(oe.cloneDeep)(l),n=e.workouts,i=e._id,o=Object(r.a)(e,["workouts","_id"]),a=Object(c.a)(Object(c.a)({},o),{},{id:i}),s=g.map((function(e){return e._id}));a.workouts=n.map((function(e){return e.before_workout=e.before_workout.filter((function(e){var t=e._id;return s.includes(t)})).map((function(e){return{id:e._id}})),e.workout=e.workout.filter((function(e){var t=e._id;return s.includes(t)})).map((function(e){return{id:e._id}})),e.after_workout=e.after_workout.filter((function(e){var t=e._id;return s.includes(t)})).map((function(e){return{id:e._id}})),e})),console.log("editData",a),R(a)}else R(S)}),[e,g]),Object(Q.useEffect)((function(){f("app/listAllWorkout",{}).then((function(e){e.error?x.show(e.message,"error"):k(e.data)})).catch((function(e){x.show(e.message,"error")}))}),[]),Object(ae.jsx)("div",{children:Object(ae.jsxs)(_.a,{open:n,disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,maxWidth:"lg","aria-labelledby":"dialog-title",children:[Object(ae.jsx)($.a,{id:"dialog-title",onClose:a,children:b}),Object(ae.jsx)(Y.b,{innerRef:h,enableReinitialize:!0,initialValues:N,onSubmit:function(e,n){n.setSubmitting(!0),!t&&T(e,n),t&&q(e,n)},validationSchema:Z.d().shape({experience_level:Z.f().trim().required("Experience Level is required"),preferred_workout:Z.f().trim().required("Preferred Workout is required"),interests:Z.f().trim().nullable().required("Interests is required"),workouts:Z.a().of(Z.d().shape({before_workout:Z.a().of(Z.d().shape({id:Z.f().trim().required("Before Workout is Required")})),workout:Z.a().of(Z.d().shape({id:Z.f().trim().required("Workout is Required")})),after_workout:Z.a().of(Z.d().shape({id:Z.f().trim().required("After Workout is Required")})),day:Z.f().trim().required("Day is Required")}))}),children:function(e){var t=e.values,n=e.errors,r=e.touched,i=(e.handleChange,e.handleBlur),s=e.setFieldValue,l=e.submitForm,b=e.isSubmitting;return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(C.a,{dividers:!0,children:Object(ae.jsxs)(u.a,{container:!0,spacing:2,children:[Object(ae.jsx)(u.a,{item:!0,md:4,xs:4,children:Object(ae.jsx)(U.a,{options:se,value:se.find((function(e){return e.id==t.experience_level})),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id==t.experience_level},onChange:function(e,t){s("experience_level",(null===t||void 0===t?void 0:t.id)||"")},onBlur:i,renderInput:function(e){return Object(ae.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{label:"Experience Level",variant:"outlined",error:Boolean(r.experience_level&&n.experience_level),helperText:r.experience_level&&n.experience_level,inputProps:Object(c.a)({},e.inputProps)}))}})}),Object(ae.jsx)(u.a,{item:!0,md:4,xs:4,children:Object(ae.jsx)(U.a,{options:le,value:le.find((function(e){return e.id==t.preferred_workout})),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id==t.preferred_workout},onChange:function(e,t){s("preferred_workout",(null===t||void 0===t?void 0:t.id)||"")},onBlur:i,renderInput:function(e){return Object(ae.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{label:"Preferred Workout",variant:"outlined",error:Boolean(r.preferred_workout&&n.preferred_workout),helperText:r.preferred_workout&&n.preferred_workout,inputProps:Object(c.a)({},e.inputProps)}))}})}),Object(ae.jsx)(u.a,{item:!0,md:4,xs:4,children:Object(ae.jsx)(U.a,{options:ue,value:ue.find((function(e){return e.id==t.interests})),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id==t.interests},onChange:function(e,t){s("interests",(null===t||void 0===t?void 0:t.id)||null)},onBlur:i,renderInput:function(e){return Object(ae.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{label:"Interests",variant:"outlined",error:Boolean(r.interests&&n.interests),helperText:r.interests&&n.interests,inputProps:Object(c.a)({},e.inputProps)}))}})}),t.workouts.map((function(e,t){return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(u.a,{md:1,item:!0,xs:1,children:Object(ae.jsx)(y.a,{elevation:0,component:"div",className:p.dayPaper,children:Object(ae.jsx)(d.a,{color:"inherit",align:"center",children:"Day - ".concat(e.day)})})}),Object(ae.jsx)(u.a,{item:!0,md:3,xs:3,children:Object(ae.jsx)(U.a,{multiple:!0,options:g,value:g.filter((function(t){return e.before_workout.map((function(e){return e.id})).includes(t._id)})),getOptionLabel:function(e){return e.workout_name},onChange:function(e,n){var r=n.map((function(e){return{id:e._id}}));s("workouts[".concat(t,"].before_workout"),r||[])},onBlur:i,renderInput:function(e){return Object(ae.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{label:"Pre Workout Warmup",variant:"outlined",inputProps:Object(c.a)({},e.inputProps)}))}})}),Object(ae.jsx)(u.a,{item:!0,md:4,xs:4,children:Object(ae.jsx)(U.a,{multiple:!0,options:g,value:g.filter((function(t){return e.workout.map((function(e){return e.id})).includes(t._id)})),getOptionLabel:function(e){return e.workout_name},onChange:function(e,n){var r=n.map((function(e){return{id:e._id}}));s("workouts[".concat(t,"].workout"),r||[])},onBlur:i,renderInput:function(e){return Object(ae.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{label:"Core Exercise",variant:"outlined",inputProps:Object(c.a)({},e.inputProps)}))}})}),Object(ae.jsx)(u.a,{item:!0,md:4,xs:4,children:Object(ae.jsx)(U.a,{multiple:!0,options:g,value:g.filter((function(t){return e.after_workout.map((function(e){return e.id})).includes(t._id)})),getOptionLabel:function(e){return e.workout_name},onChange:function(e,n){var r=n.map((function(e){return{id:e._id}}));s("workouts[".concat(t,"].after_workout"),r||[])},onBlur:i,renderInput:function(e){return Object(ae.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{label:"Post Workout Cooldown",variant:"outlined",inputProps:Object(c.a)({},e.inputProps)}))}})})]})}))]})}),Object(ae.jsxs)(I.a,{children:[Object(ae.jsx)(j.a,{onClick:a,variant:"outlined",color:"secondary",children:"Cancel"}),Object(ae.jsx)(j.a,{className:p.themeButton,onClick:function(){return l()},disabled:b,variant:"outlined",children:b?Object(ae.jsx)(E.a,{size:24,className:p.lColor}):o})]})]})}})]})})},je=function(e){var t=e.isOpen,n=e.title,r=e.onClose,i=e.data,o=ce(),a=Object(Q.useState)(i),c=Object(s.a)(a,2),l=c[0],u=c[1],d=X.a.useState("1"),b=Object(s.a)(d,2),O=b[0],p=b[1],x=function(e,t){var n;return(null===(n=e.find((function(e){return e.id==t})))||void 0===n?void 0:n.name)||""};return Object(Q.useEffect)((function(){console.log("view data",i),u(i)}),[e]),Object(ae.jsxs)(_.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,maxWidth:"md","aria-labelledby":"dialog-view-title",open:t,children:[Object(ae.jsx)($.a,{id:"dialog-view-title",onClose:r,children:n}),Object(ae.jsxs)(C.a,{dividers:!0,children:[Object(ae.jsx)(y.a,{children:Object(ae.jsx)(f.a,{children:Object(ae.jsxs)(v.a,{children:[Object(ae.jsxs)(h.a,{children:[Object(ae.jsx)(m.a,{children:"Experience Level"}),Object(ae.jsx)(m.a,{children:Object(ae.jsx)("strong",{children:x(se,null===l||void 0===l?void 0:l.experience_level)})})]}),Object(ae.jsxs)(h.a,{children:[Object(ae.jsx)(m.a,{children:"Preferred Workout"}),Object(ae.jsx)(m.a,{children:Object(ae.jsx)("strong",{children:x(le,null===l||void 0===l?void 0:l.preferred_workout)})})]}),Object(ae.jsxs)(h.a,{children:[Object(ae.jsx)(m.a,{children:"Interests"}),Object(ae.jsx)(m.a,{children:Object(ae.jsx)("strong",{children:x(ue,null===l||void 0===l?void 0:l.interests)})})]})]})})}),Object(ae.jsx)(y.a,{className:o.paperRoot,children:Object(ae.jsxs)(V.a,{value:O||"",children:[Object(ae.jsx)(K.a,{classes:{indicator:o.tabIndicator},onChange:function(e,t){p(t)},orientation:"vertical",variant:"standard",children:null===l||void 0===l?void 0:l.workouts.map((function(e){return Object(ae.jsx)(S.a,{classes:{root:o.tabRoot,textColorInherit:o.tabTextColorInherit},label:"Day - ".concat(e.day),value:e.day.toString()})}))}),null===l||void 0===l?void 0:l.workouts.map((function(e){var t,n,r;return Object(ae.jsx)(J.a,{className:o.tabPanelRoot,value:e.day.toString(),children:Object(ae.jsxs)(B.a,{children:[Object(ae.jsx)("div",{children:"Pre-Workout Warm Up"}),null===e||void 0===e?void 0:e.before_workout.map((function(e){return Object(ae.jsx)(be,{data:e})})),0==(null===e||void 0===e||null===(t=e.before_workout)||void 0===t?void 0:t.length)&&Object(ae.jsx)(Oe,{}),Object(ae.jsx)("div",{children:"Core Exercises"}),null===e||void 0===e?void 0:e.workout.map((function(e){return Object(ae.jsx)(be,{data:e})})),0==(null===e||void 0===e||null===(n=e.workout)||void 0===n?void 0:n.length)&&Object(ae.jsx)(Oe,{}),Object(ae.jsx)("div",{children:"Post-Workout Cool Down"}),null===e||void 0===e?void 0:e.after_workout.map((function(e){return Object(ae.jsx)(be,{data:e})})),0==(null===e||void 0===e||null===(r=e.after_workout)||void 0===r?void 0:r.length)&&Object(ae.jsx)(Oe,{})]})})}))]})})]}),Object(ae.jsx)(I.a,{children:Object(ae.jsx)(j.a,{onClick:r,variant:"outlined",color:"secondary",children:"Close"})})]})},be=function(e){var t,n=ce(),r=Object(Q.useState)(e.data),i=Object(s.a)(r,2),o=i[0],a=i[1];return Object(Q.useEffect)((function(){a(e.data)}),[e.data]),Object(ae.jsxs)(N.a,{className:n.listItemRoot,children:[Object(ae.jsx)(R.a,{children:Object(ae.jsx)(W.a,{variant:"square",src:null===o||void 0===o||null===(t=o.workout_image)||void 0===t?void 0:t.url})}),Object(ae.jsx)(T.a,{primary:null===o||void 0===o?void 0:o.workout_name})]})},Oe=function(e){var t=ce();return Object(ae.jsx)(N.a,{className:t.noListItemRoot,children:Object(ae.jsx)(T.a,{primary:"No Workout"})})};t.default=function(){var e=ce(),t=Object(re.b)().Post,n=Object(ie.a)(),r=Object(ne.b)(),i=X.a.useState(!0),l=Object(s.a)(i,2),_=l[0],C=l[1],P=X.a.useState({page_no:1,page_limit:10}),y=Object(s.a)(P,2),I=y[0],E=y[1],S=X.a.useState(0),W=Object(s.a)(S,2),B=W[0],N=W[1],R=X.a.useState([]),T=Object(s.a)(R,2),q=T[0],D=T[1],F=X.a.useState({isOpen:!1,title:"",okBtnText:"",isEdit:!1,data:{}}),H=Object(s.a)(F,2),V=H[0],K=H[1],J=Object(Q.useState)({isOpen:!1,title:"",data:{}}),U=Object(s.a)(J,2),Y=U[0],Z=U[1],$=function(){C(!0),t("app/listWorkoutPlan",I).then((function(e){C(!1),e.error?n.show(e.message,"error"):(N(e.page_count),D(e.data))})).catch((function(e){C(!1),n.show(e.message,"error")}))},oe=function(){$(),be()},be=function(){K((function(e){return Object(c.a)(Object(c.a)({},e),{},{isOpen:!1})}))},Oe=function(e,t){var n;return(null===(n=e.find((function(e){return e.id==t})))||void 0===n?void 0:n.name)||""};return Object(Q.useEffect)((function(){$()}),[I]),Object(ae.jsxs)("div",{className:e.root,children:[Object(ae.jsx)(te.a,{title:"Workout Plan"}),Object(ae.jsxs)(u.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3,children:[Object(ae.jsx)(u.a,{item:!0,children:Object(ae.jsx)(d.a,{component:"h1",variant:"h3",children:"Workout Plan"})}),Object(ae.jsx)(u.a,{item:!0,children:Object(ae.jsx)(j.a,{variant:"contained",onClick:function(){K((function(e){return Object(c.a)(Object(c.a)({},e),{},{isOpen:!0,title:"Add Workout Plan",isEdit:!1,okBtnText:"Save"})}))},className:e.themeButton,startIcon:Object(ae.jsx)(L.a,{}),children:"Add"})})]}),Object(ae.jsxs)(b.a,{className:e.tabCard,children:[Object(ae.jsx)(O.a,{className:e.content,children:Object(ae.jsx)(p.a,{children:Object(ae.jsxs)(f.a,{children:[Object(ae.jsx)(x.a,{children:Object(ae.jsxs)(h.a,{children:[Object(ae.jsx)(m.a,{align:"center",children:"#"}),Object(ae.jsx)(m.a,{align:"center",children:"Experience Level"}),Object(ae.jsx)(m.a,{align:"center",children:"Preferred Workout"}),Object(ae.jsx)(m.a,{align:"center",children:"Interests"}),Object(ae.jsx)(m.a,{align:"center",children:"Actions"})]})}),Object(ae.jsxs)(v.a,{children:[!_&&q.map((function(i,s){return Object(ae.jsxs)(h.a,{hover:!0,children:[Object(ae.jsx)(m.a,{align:"center",children:I.page_limit*(I.page_no-1)+s+1}),Object(ae.jsx)(m.a,{align:"center",children:Oe(se,null===i||void 0===i?void 0:i.experience_level)}),Object(ae.jsx)(m.a,{align:"center",children:Oe(le,null===i||void 0===i?void 0:i.preferred_workout)}),Object(ae.jsx)(m.a,{align:"center",children:Oe(ue,null===i||void 0===i?void 0:i.interests)}),Object(ae.jsx)(m.a,{align:"center",children:Object(ae.jsxs)("div",{className:e.sEvenly,children:[Object(ae.jsx)(g.a,{title:"View",arrow:!0,children:Object(ae.jsx)(k.a,{className:e.iconPadd,onClick:function(){return function(e){Z((function(t){return Object(c.a)(Object(c.a)({},t),{},{isOpen:!0,data:e,title:"View Workout Plan"})}))}(i)},children:Object(ae.jsx)(A.a,{color:"primary"})})}),Object(ae.jsx)(g.a,{title:"Edit",arrow:!0,children:Object(ae.jsx)(k.a,{className:e.iconPadd,onClick:function(){return function(e){K((function(t){return Object(c.a)(Object(c.a)({},t),{},{isOpen:!0,isEdit:!0,data:e,title:"Edit Workout Plan",okBtnText:"Edit"})}))}(i)},children:Object(ae.jsx)(M.a,{color:"action"})})}),Object(ae.jsx)(g.a,{title:"Delete",arrow:!0,children:Object(ae.jsx)(k.a,{className:e.iconPadd,onClick:function(){return function(e){var i=r.openModel,c=r.setLoading,s=r.closeModel;i((function(){c(!0),t("app/deleteWorkoutPlan",{id:e._id}).then(function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!1),s(),oe(),n.show(t.message,"success");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){c(!1),n.show("Internal Server Error","error")}))}))}(i)},children:Object(ae.jsx)(z.a,{color:"secondary"})})})]})})]})})),_&&Object(ae.jsx)(ee.a,{}),!_&&0==q.length&&Object(ae.jsx)(ee.b,{children:"No Data Found"})]})]})})}),Object(ae.jsx)(w.a,{className:e.actions,children:Object(ae.jsx)(G.a,{count:B,page:I.page_no,onChange:function(e,t){E((function(e){return Object(c.a)(Object(c.a)({},e),{},{page_no:t})}))}})})]}),Object(ae.jsx)(de,Object(c.a)(Object(c.a)({},V),{},{onClose:be,onSuccess:oe})),Y.isOpen&&Object(ae.jsx)(je,Object(c.a)(Object(c.a)({},Y),{},{onClose:function(){Z((function(e){return Object(c.a)(Object(c.a)({},e),{},{isOpen:!1})}))}}))]})}}}]);
//# sourceMappingURL=21.4b34af4b.chunk.js.map