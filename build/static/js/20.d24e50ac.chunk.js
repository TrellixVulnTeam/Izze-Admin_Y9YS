(this["webpackJsonpizze-admin"]=this["webpackJsonpizze-admin"]||[]).push([[20],{626:function(e,n,i){"use strict";i.r(n);var t=i(39),r=i(28),a=i.n(r),c=i(45),o=i(13),s=i(24),l=i(0),d=i.n(l),u=i(367),j=i(557),b=i(204),O=i(377),p=i(558),h=i(559),x=i(560),m=i(561),g=i(562),f=i(370),v=i(371),k=i(563),S=i(564),_=i(372),C=i(565),y=i(526),I=i(528),P=i(566),w=i(110),B=i(530),T=i(203),E=i(629),N=i(644),R=i(212),D=i.n(R),L=i(209),A=i(165),H=i(210),q=i(91),W=i(214),F=i.n(W),K=i(213),M=i.n(K),Y=i(575),z=i(627),V=i(628),U=i(630),G=i(211),J=i.n(G),Q=i(55),X=i(111),Z=i(78),$=i(90),ee=i(612),ne=i(4),ie=Object(u.a)((function(e){return{root:{width:e.breakpoints.values.lg,maxWidth:"100%",margin:"0 auto",padding:e.spacing(3)},themeButton:{color:e.palette.white,backgroundColor:e.palette.green.main,"&:hover":{backgroundColor:e.palette.green.dark}},dayPaper:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.green.main,color:"white"},lColor:{color:"white"},tabCard:{marginTop:e.spacing(3)},content:{padding:0},mTop:{marginTop:e.spacing(1.5)},jCenter:{display:"flex",justifyContent:"center"},sEvenly:{display:"flex",justifyContent:"space-evenly"},sBetween:{display:"flex",justifyContent:"space-between"},iconPadd:{padding:5},actions:{padding:e.spacing(1),justifyContent:"center"},ingredientsAvatarStyle:{width:e.spacing(10),height:e.spacing(10),margin:"auto",marginTop:"20px"},tabRoot:{minWidth:72},tabIndicator:{backgroundColor:e.palette.green.main},tabTextColorInherit:{backgroundColor:e.palette.green.main,color:"white",border:"1px solid white"},tabPanelRoot:{paddingTop:0,paddingBottom:0,width:"100%"},listItemRoot:{backgroundColor:"#7ac0af2b",margin:"10px 0px"},noListItemRoot:{backgroundColor:"#f500571c",margin:"10px 0px"},paperRoot:{display:"flex"}}})),te=[{id:"DRY",name:"Dry"},{id:"OILY",name:"Oily"},{id:"COMBINATION",name:"Combination"},{id:"NORMAL",name:"Normal"}],re=[{id:"HOT",name:"Hot"},{id:"COLD",name:"Cold"},{id:"HUMID",name:"Humid"},{id:"DRY",name:"Dry"}],ae=[{id:"ACNE",name:"Acne",SubDrop:[{id:"PIMPLES",name:"Pimples"},{id:"BLACKHEADS",name:"Black Heads"},{id:"WHITEHEADS",name:"White Heads"}]},{id:"RASHES",name:"Rashes",SubDrop:[{id:"SCALY",name:"Scaly"},{id:"ITCHY",name:"Itchy"},{id:"BUMPY",name:"Bumpy"},{id:"BOILS",name:"Boils"},{id:"BLISTERS",name:"Blisters"}]},{id:"DISCOLORATION",name:"Discoloration",SubDrop:[{id:"BLACKISH",name:"Blackish"},{id:"WHITISH",name:"Whitish"},{id:"PINKISH",name:"Pinkish"},{id:"REDDISH",name:"Reddish"},{id:"SUNSPOTS",name:"Sun Spots"}]}],ce=[{id:"SAGGY",name:"Saggy"},{id:"FINELINES",name:" Fine Lines"},{id:"WRINKLES",name:"Wrinkles"},{id:"NONE",name:"None"}],oe=function(e){var n;return(null===ae||void 0===ae||null===(n=ae.find((function(n){return n.id==e})))||void 0===n?void 0:n.SubDrop)||[]},se=function(e){var n=e.isEdit,i=e.isOpen,r=e.okBtnText,a=void 0===r?"OK":r,c=e.onClose,u=e.data,p=e.title,h=e.onSuccess,x=ie(),m=Object(Z.b)().Post,g=Object(X.a)(),f=Object(l.useRef)(null),v=d.a.useState([]),k=Object(s.a)(v,2),S=k[0],_=k[1],C={skin_type:"",current_climate:"",skin_irregular:"",skin_irregular_sub:"",skin_texture:"",recipes:Array(7).fill(null).map((function(e,n){return{day:n+1,id:""}}))},E=d.a.useState(Object(o.a)({},C)),R=Object(s.a)(E,2),D=R[0],L=R[1],W=function(e,n){var i=n.setSubmitting,t=n.resetForm;i(!0),m("app/addSkinCarePlan",e).then((function(e){g.show(e.message,"success"),i(!1),t(),h()})).catch((function(e){var n=e.response.data.message,t=void 0===n?"Internal Server Error":n;i(!1),g.show(t,"error")}))},F=function(e,n){var i=n.setSubmitting,t=n.resetForm;i(!0),m("app/editSkinCarePlan",e).then((function(e){g.show(e.message,"success"),i(!1),t(),h()})).catch((function(e){var n=e.response.data.message,t=void 0===n?"Internal Server Error":n;i(!1),g.show(t,"error")}))};return Object(l.useEffect)((function(){if(n){var e=u.recipes,i=u._id,r=Object(t.a)(u,["recipes","_id"]),a=Object(o.a)(Object(o.a)({},r),{},{id:i});a.recipes=e.map((function(e){return e.id=e.recipe._id,e})),L(a)}else L(C)}),[e]),Object(l.useEffect)((function(){m("app/listAllSkinCareRecipe",{}).then((function(e){e.error?g.show(e.message,"error"):_(e.data)})).catch((function(e){g.show(e.message,"error")}))}),[]),Object(ne.jsx)("div",{children:Object(ne.jsxs)(y.a,{open:i,disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,maxWidth:"md","aria-labelledby":"dialog-title",children:[Object(ne.jsx)(A.a,{id:"dialog-title",onClose:c,children:p}),Object(ne.jsx)(H.b,{innerRef:f,enableReinitialize:!0,initialValues:D,onSubmit:function(e,i){i.setSubmitting(!1),!n&&W(e,i),n&&F(e,i)},validationSchema:q.d().shape({skin_type:q.f().trim().required("Skin Type is required"),current_climate:q.f().trim().required("Current Climate is required"),skin_irregular:q.f().trim().required("Skin Irregularites is required"),skin_irregular_sub:q.f().trim().required("Sub Skin Irregularites is required"),skin_texture:q.f().trim().required("Skin Texture is required"),recipes:q.a().of(q.d().shape({id:q.f().trim().required("Recipe is Required"),day:q.f().trim().required("Day is Required")}))}),children:function(e){var n=e.values,i=e.errors,t=e.touched,r=(e.handleChange,e.handleBlur),s=e.setFieldValue,l=e.submitForm,d=e.isSubmitting;return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(I.a,{dividers:!0,children:Object(ne.jsxs)(j.a,{container:!0,spacing:2,children:[Object(ne.jsx)(j.a,{item:!0,xs:4,children:Object(ne.jsx)(N.a,{options:te,value:te.find((function(e){return e.id==n.skin_type})),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id==n.skin_type},onChange:function(e,n){s("skin_type",(null===n||void 0===n?void 0:n.id)||"")},onBlur:r,renderInput:function(e){return Object(ne.jsx)(P.a,Object(o.a)(Object(o.a)({},e),{},{label:"Skin Type",variant:"outlined",error:Boolean(t.skin_type&&i.skin_type),helperText:t.skin_type&&i.skin_type,inputProps:Object(o.a)({},e.inputProps)}))}})}),Object(ne.jsx)(j.a,{item:!0,xs:4,children:Object(ne.jsx)(N.a,{options:re,value:re.find((function(e){return e.id==n.current_climate})),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id==n.current_climate},onChange:function(e,n){s("current_climate",(null===n||void 0===n?void 0:n.id)||"")},onBlur:r,renderInput:function(e){return Object(ne.jsx)(P.a,Object(o.a)(Object(o.a)({},e),{},{label:"Current Climate",variant:"outlined",error:Boolean(t.current_climate&&i.current_climate),helperText:t.current_climate&&i.current_climate,inputProps:Object(o.a)({},e.inputProps)}))}})}),Object(ne.jsx)(j.a,{item:!0,xs:4,children:Object(ne.jsx)(N.a,{options:ce,value:ce.find((function(e){return e.id==n.skin_texture})),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id==n.skin_texture},onChange:function(e,n){s("skin_texture",(null===n||void 0===n?void 0:n.id)||"")},onBlur:r,renderInput:function(e){return Object(ne.jsx)(P.a,Object(o.a)(Object(o.a)({},e),{},{label:"Skin Texture",variant:"outlined",error:Boolean(t.skin_texture&&i.skin_texture),helperText:t.skin_texture&&i.skin_texture,inputProps:Object(o.a)({},e.inputProps)}))}})}),Object(ne.jsx)(j.a,{item:!0,xs:6,children:Object(ne.jsx)(N.a,{options:ae,value:ae.find((function(e){return e.id==n.skin_irregular})),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id==n.skin_irregular},onChange:function(e,n){s("skin_irregular",(null===n||void 0===n?void 0:n.id)||""),s("skin_irregular_sub","")},onBlur:r,renderInput:function(e){return Object(ne.jsx)(P.a,Object(o.a)(Object(o.a)({},e),{},{label:"Skin Irregularites",variant:"outlined",error:Boolean(t.skin_irregular&&i.skin_irregular),helperText:t.skin_irregular&&i.skin_irregular,inputProps:Object(o.a)({},e.inputProps)}))}})}),Object(ne.jsx)(j.a,{item:!0,xs:6,children:Object(ne.jsx)(N.a,{options:oe(n.skin_irregular),value:oe(n.skin_irregular).find((function(e){return e.id==n.skin_irregular_sub})),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id==n.skin_irregular_sub},onChange:function(e,n){s("skin_irregular_sub",(null===n||void 0===n?void 0:n.id)||"")},onBlur:r,renderInput:function(e){return Object(ne.jsx)(P.a,Object(o.a)(Object(o.a)({},e),{},{label:"Sub Skin Irregularites",variant:"outlined",error:Boolean(t.skin_irregular_sub&&i.skin_irregular_sub),helperText:t.skin_irregular_sub&&i.skin_irregular_sub,inputProps:Object(o.a)({},e.inputProps)}))}})}),n.recipes.map((function(e,n){return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(j.a,{md:1,item:!0,xs:2,children:Object(ne.jsx)(w.a,{elevation:0,component:"div",className:x.dayPaper,children:Object(ne.jsx)(b.a,{color:"inherit",align:"center",children:"Day - ".concat(e.day)})})}),Object(ne.jsx)(j.a,{item:!0,md:11,xs:10,children:Object(ne.jsx)(N.a,{options:S,value:S.find((function(n){return n._id==e.id})),getOptionLabel:function(e){return e.recipe_name},getOptionSelected:function(n){return n._id==e.id},onChange:function(e,i){s("recipes[".concat(n,"].id"),(null===i||void 0===i?void 0:i._id)||"")},onBlur:r,renderInput:function(e){var r,a,c,s;return Object(ne.jsx)(P.a,Object(o.a)(Object(o.a)({},e),{},{label:"Recipe",variant:"outlined",error:Boolean((null===t||void 0===t?void 0:t.recipes)&&(null===t||void 0===t||null===(r=t.recipes[n])||void 0===r?void 0:r.id)&&(null===i||void 0===i?void 0:i.recipes)&&(null===i||void 0===i||null===(a=i.recipes[n])||void 0===a?void 0:a.id)),helperText:(null===t||void 0===t?void 0:t.recipes)&&(null===t||void 0===t||null===(c=t.recipes[n])||void 0===c?void 0:c.id)&&(null===i||void 0===i?void 0:i.recipes)&&(null===i||void 0===i||null===(s=i.recipes[n])||void 0===s?void 0:s.id),inputProps:Object(o.a)({},e.inputProps)}))}})})]})}))]})}),Object(ne.jsxs)(B.a,{children:[Object(ne.jsx)(O.a,{onClick:c,variant:"outlined",color:"secondary",children:"Cancel"}),Object(ne.jsx)(O.a,{className:x.themeButton,onClick:function(){return l()},disabled:d,variant:"outlined",children:d?Object(ne.jsx)(T.a,{size:24,className:x.lColor}):a})]})]})}})]})})},le=function(e){var n,i,t=e.isOpen,r=e.title,a=e.onClose,c=e.data,o=ie(),u=Object(l.useState)(c),j=Object(s.a)(u,2),b=j[0],p=j[1],h=d.a.useState("1"),x=Object(s.a)(h,2),g=x[0],S=x[1],_=function(e,n){var i;return(null===(i=e.find((function(e){return e.id==n})))||void 0===i?void 0:i.name)||""};return Object(l.useEffect)((function(){p(c)}),[e]),Object(ne.jsxs)(y.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,maxWidth:"md","aria-labelledby":"dialog-view-title",open:t,children:[Object(ne.jsx)(A.a,{id:"dialog-view-title",onClose:a,children:r}),Object(ne.jsxs)(I.a,{dividers:!0,children:[Object(ne.jsx)(w.a,{children:Object(ne.jsx)(m.a,{children:Object(ne.jsxs)(k.a,{children:[Object(ne.jsxs)(f.a,{children:[Object(ne.jsx)(v.a,{children:"Skin Type"}),Object(ne.jsx)(v.a,{children:Object(ne.jsx)("strong",{children:_(te,null===b||void 0===b?void 0:b.skin_type)})})]}),Object(ne.jsxs)(f.a,{children:[Object(ne.jsx)(v.a,{children:"Current Climate"}),Object(ne.jsx)(v.a,{children:Object(ne.jsx)("strong",{children:_(re,null===c||void 0===c?void 0:c.current_climate)})})]}),Object(ne.jsxs)(f.a,{children:[Object(ne.jsx)(v.a,{children:"Skin Irregularities"}),Object(ne.jsx)(v.a,{children:Object(ne.jsx)("strong",{children:_(ae,null===c||void 0===c?void 0:c.skin_irregular)})})]}),Object(ne.jsxs)(f.a,{children:[Object(ne.jsx)(v.a,{children:"Sub Skin Irregularities"}),Object(ne.jsx)(v.a,{children:Object(ne.jsx)("strong",{children:_(oe(null===c||void 0===c?void 0:c.skin_irregular),null===c||void 0===c?void 0:c.skin_irregular_sub)})})]}),Object(ne.jsxs)(f.a,{children:[Object(ne.jsx)(v.a,{children:"Skin Texture"}),Object(ne.jsx)(v.a,{children:Object(ne.jsx)("strong",{children:_(ce,null===c||void 0===c?void 0:c.skin_texture)})})]})]})})}),Object(ne.jsx)(w.a,{className:o.paperRoot,children:Object(ne.jsxs)(z.a,{value:g||"",children:[Object(ne.jsx)(V.a,{classes:{indicator:o.tabIndicator},onChange:function(e,n){S(n)},orientation:"vertical",variant:"standard",children:null===b||void 0===b||null===(n=b.recipes)||void 0===n?void 0:n.map((function(e){return Object(ne.jsx)(E.a,{classes:{root:o.tabRoot,textColorInherit:o.tabTextColorInherit},label:"Day - ".concat(e.day),value:e.day.toString()})}))}),null===b||void 0===b||null===(i=b.recipes)||void 0===i?void 0:i.map((function(e,n){return Object(ne.jsx)(U.a,{className:o.tabPanelRoot,value:e.day.toString(),children:Object(ne.jsx)(ee.SkinCareRecipeViewContent,{data:e.recipe})},n)}))]})})]}),Object(ne.jsx)(B.a,{children:Object(ne.jsx)(O.a,{onClick:a,variant:"outlined",color:"secondary",children:"Close"})})]})};n.default=function(){var e=ie(),n=Object(Z.b)().Post,i=Object(X.a)(),t=Object($.b)(),r=d.a.useState(!0),u=Object(s.a)(r,2),y=u[0],I=u[1],P=d.a.useState({page_no:1,page_limit:10}),w=Object(s.a)(P,2),B=w[0],T=w[1],E=d.a.useState(0),N=Object(s.a)(E,2),R=N[0],A=N[1],H=d.a.useState([]),q=Object(s.a)(H,2),W=q[0],K=q[1],z=d.a.useState({isOpen:!1,title:"",okBtnText:"",isEdit:!1,data:{}}),V=Object(s.a)(z,2),U=V[0],G=V[1],ee=Object(l.useState)({isOpen:!1,title:"",data:{}}),de=Object(s.a)(ee,2),ue=de[0],je=de[1],be=function(){I(!0),n("app/listSkinCarePlan",B).then((function(e){I(!1),e.error?i.show(e.message,"error"):(A(e.page_count),K(e.data))})).catch((function(e){I(!1),i.show(e.message,"error")}))},Oe=function(){be(),pe()},pe=function(){G((function(e){return Object(o.a)(Object(o.a)({},e),{},{isOpen:!1})}))},he=function(e,n){var i;return(null===(i=e.find((function(e){return e.id==n})))||void 0===i?void 0:i.name)||""};return Object(l.useEffect)((function(){be()}),[B]),Object(ne.jsxs)("div",{className:e.root,children:[Object(ne.jsx)(L.a,{title:"Skin Care Plan"}),Object(ne.jsxs)(j.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3,children:[Object(ne.jsx)(j.a,{item:!0,children:Object(ne.jsx)(b.a,{component:"h1",variant:"h3",children:"Skin Care Plan"})}),Object(ne.jsx)(j.a,{item:!0,children:Object(ne.jsx)(O.a,{variant:"contained",onClick:function(){G((function(e){return Object(o.a)(Object(o.a)({},e),{},{isOpen:!0,title:"Add Skin Care Plan",isEdit:!1,okBtnText:"Save"})}))},className:e.themeButton,startIcon:Object(ne.jsx)(D.a,{}),children:"Add"})})]}),Object(ne.jsxs)(p.a,{className:e.tabCard,children:[Object(ne.jsx)(h.a,{className:e.content,children:Object(ne.jsx)(x.a,{children:Object(ne.jsxs)(m.a,{children:[Object(ne.jsx)(g.a,{children:Object(ne.jsxs)(f.a,{children:[Object(ne.jsx)(v.a,{align:"center",children:"#"}),Object(ne.jsx)(v.a,{align:"center",children:"Skin Type"}),Object(ne.jsx)(v.a,{align:"center",children:"Current Climate"}),Object(ne.jsx)(v.a,{align:"center",children:"Skin Irregularities"}),Object(ne.jsx)(v.a,{align:"center",children:"Sub Skin Irregularities"}),Object(ne.jsx)(v.a,{align:"center",children:"Skin Texture "}),Object(ne.jsx)(v.a,{align:"center",children:"Actions"})]})}),Object(ne.jsxs)(k.a,{children:[!y&&W.map((function(r,s){return Object(ne.jsxs)(f.a,{hover:!0,children:[Object(ne.jsx)(v.a,{align:"center",children:B.page_limit*(B.page_no-1)+s+1}),Object(ne.jsx)(v.a,{align:"center",children:he(te,null===r||void 0===r?void 0:r.skin_type)}),Object(ne.jsx)(v.a,{align:"center",children:he(re,null===r||void 0===r?void 0:r.current_climate)}),Object(ne.jsx)(v.a,{align:"center",children:he(ae,null===r||void 0===r?void 0:r.skin_irregular)}),Object(ne.jsx)(v.a,{align:"center",children:he(oe(null===r||void 0===r?void 0:r.skin_irregular),null===r||void 0===r?void 0:r.skin_irregular_sub)}),Object(ne.jsx)(v.a,{align:"center",children:he(ce,null===r||void 0===r?void 0:r.skin_texture)}),Object(ne.jsx)(v.a,{align:"center",children:Object(ne.jsxs)("div",{className:e.sEvenly,children:[Object(ne.jsx)(S.a,{title:"View",arrow:!0,children:Object(ne.jsx)(_.a,{className:e.iconPadd,onClick:function(){return function(e){je((function(n){return Object(o.a)(Object(o.a)({},n),{},{isOpen:!0,data:e,title:"View Skincare Plan"})}))}(r)},children:Object(ne.jsx)(J.a,{color:"primary"})})}),Object(ne.jsx)(S.a,{title:"Edit",arrow:!0,children:Object(ne.jsx)(_.a,{className:e.iconPadd,onClick:function(){return function(e){G((function(n){return Object(o.a)(Object(o.a)({},n),{},{isOpen:!0,isEdit:!0,data:e,title:"Edit Skin care Plan",okBtnText:"Edit"})}))}(r)},children:Object(ne.jsx)(M.a,{color:"action"})})}),Object(ne.jsx)(S.a,{title:"Delete",arrow:!0,children:Object(ne.jsx)(_.a,{className:e.iconPadd,onClick:function(){return function(e){var r=t.openModel,o=t.setLoading,s=t.closeModel;r((function(){o(!0),n("app/deleteSkinCarePlan",{id:e._id}).then(function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!1),s(),Oe(),i.show(n.message,"success");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){o(!1),i.show("Internal Server Error","error")}))}))}(r)},children:Object(ne.jsx)(F.a,{color:"secondary"})})})]})})]})})),y&&Object(ne.jsx)(Q.a,{}),!y&&0==W.length&&Object(ne.jsx)(Q.b,{children:"No Data Found"})]})]})})}),Object(ne.jsx)(C.a,{className:e.actions,children:Object(ne.jsx)(Y.a,{count:R,page:B.page_no,onChange:function(e,n){T((function(e){return Object(o.a)(Object(o.a)({},e),{},{page_no:n})}))}})})]}),Object(ne.jsx)(se,Object(o.a)(Object(o.a)({},U),{},{onClose:pe,onSuccess:Oe})),ue.isOpen&&Object(ne.jsx)(le,Object(o.a)(Object(o.a)({},ue),{},{onClose:function(){je((function(e){return Object(o.a)(Object(o.a)({},e),{},{isOpen:!1})}))}}))]})}}}]);
//# sourceMappingURL=20.d24e50ac.chunk.js.map