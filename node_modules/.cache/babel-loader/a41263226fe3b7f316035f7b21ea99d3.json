{"ast":null,"code":"import _objectSpread from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Card,Table,TableBody,TableCell,TextField,TableHead,TableRow,Typography,Button,Dialog,DialogActions,DialogContent,Grid,CircularProgress}from'@material-ui/core';import{makeStyles}from'@material-ui/styles';import DialogTitle from'../../components/DialogTitlle/DialogTitle';import React,{useEffect,useState}from'react';import getDropValues,{CcpaStatus,NoOption}from'../../utils/PlanDropdowns';import{Autocomplete}from'@material-ui/lab';import clsx from'clsx';import useService from'../../hook/useService';import useSnackbar from'../../hook/useSnackbar';import{cloneDeep}from'lodash';import useEuropienCountriesList from'../../hook/useEuropienCountriesList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{marginTop10:{marginTop:10},lColor:{color:'white'},themeButton:{color:theme.palette.white,backgroundColor:theme.palette.green.main,'&:hover':{backgroundColor:theme.palette.green.dark}},noTextTransform:{textTransform:'none'},content:{height:'50vh',display:'flex',justifyContent:'center',alignItems:'center'}};});var AppUserCCPA=function AppUserCCPA(props){var _formData$gdpr_share_,_formData$gdpr_protec,_formData$gdpr_person,_formData$ccpa_access,_formData$ccpa_access2,_formData$ccpa_access3,_formData$ccpa_access4,_formData$ccpa_access5,_formData$ccpa_share_,_formData$ccpa_share_2,_formData$ccpa_share_3,_formData$ccpa_delete,_formData$ccpa_delete2,_formData$ccpa_delete3,_formData$ccpa_delete4,_formData$ccpa_delete5;var classes=useStyles();var getCountryList=useEuropienCountriesList();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),isEuropienCountry=_useState2[0],setIsEuropienCountry=_useState2[1];var data=props.data,onRefresh=props.onRefresh;var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var getRequestFor=function getRequestFor(data){switch(data===null||data===void 0?void 0:data.gdpr_type_value){case true:return'Enable';case false:return'Disable';default:return'No Request';}};var checkEuropiesCountry=function checkEuropiesCountry(){getCountryList.map(function(items,index){if(items.name===(formData===null||formData===void 0?void 0:formData.country)){setIsEuropienCountry(1);}});};var getRequestStatus=function getRequestStatus(data){var status=data.status;switch(status){case true:return'Enable';break;case false:return'Disable';break;default:return{status:status,is_display:false};}};useEffect(function(){setFormData(data);checkEuropiesCountry();},[props,formData,isEuropienCountry]);return/*#__PURE__*/_jsxs(\"div\",{children:[isEuropienCountry===1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"GDPR\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:\"Current Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Request for\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Request Status\"}),/*#__PURE__*/_jsx(TableCell,{})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Share your personal data\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.isSharePersonalData)?'Enabled':'Disabled'}),/*#__PURE__*/_jsx(TableCell,{children:getRequestFor(formData===null||formData===void 0?void 0:formData.gdpr_share_data)}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$gdpr_share_=formData.gdpr_share_data)===null||_formData$gdpr_share_===void 0?void 0:_formData$gdpr_share_.status)}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.gdpr_share_data)&&/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.gdpr_share_data,apiUrl:'app/gdprUpdateData',onSuccess:onRefresh})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Protect your data\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.isProtectYourData)?'Enabled':'Disabled'}),/*#__PURE__*/_jsx(TableCell,{children:getRequestFor(formData===null||formData===void 0?void 0:formData.gdpr_protect_data)}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$gdpr_protec=formData.gdpr_protect_data)===null||_formData$gdpr_protec===void 0?void 0:_formData$gdpr_protec.status)}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.gdpr_protect_data)&&/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.gdpr_protect_data,apiUrl:'app/gdprUpdateData',onSuccess:onRefresh})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Personal Information\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.isPersonalInformation)?'Enabled':'Disabled'}),/*#__PURE__*/_jsx(TableCell,{children:getRequestFor(formData===null||formData===void 0?void 0:formData.gdpr_personal_data)}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$gdpr_person=formData.gdpr_personal_data)===null||_formData$gdpr_person===void 0?void 0:_formData$gdpr_person.status)}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.gdpr_personal_data)&&/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.gdpr_personal_data,apiUrl:'app/gdprUpdateData',onSuccess:onRefresh})})]})]})]})})]}),(formData===null||formData===void 0?void 0:formData.state)==='California'&&/*#__PURE__*/_jsxs(_Fragment,{children:[(formData===null||formData===void 0?void 0:formData.ccpa_access_data)&&/*#__PURE__*/_jsxs(\"div\",{className:classes.marginTop10,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"CCPA Access your data\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:(_formData$ccpa_access=formData.ccpa_access_data)===null||_formData$ccpa_access===void 0?void 0:_formData$ccpa_access.firstName)+' '+(formData===null||formData===void 0?void 0:(_formData$ccpa_access2=formData.ccpa_access_data)===null||_formData$ccpa_access2===void 0?void 0:_formData$ccpa_access2.lastName)}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_access3=formData.ccpa_access_data)===null||_formData$ccpa_access3===void 0?void 0:_formData$ccpa_access3.email}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"State\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_access4=formData.ccpa_access_data)===null||_formData$ccpa_access4===void 0?void 0:_formData$ccpa_access4.state}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$ccpa_access5=formData.ccpa_access_data)===null||_formData$ccpa_access5===void 0?void 0:_formData$ccpa_access5.status)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.ccpa_access_data,apiUrl:'app/ccpaUpdateAccessData',onSuccess:onRefresh})})]})]})})})]}),(formData===null||formData===void 0?void 0:formData.ccpa_share_data)&&/*#__PURE__*/_jsxs(\"div\",{className:classes.marginTop10,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"CCPA Share your data\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_share_=formData.ccpa_share_data)===null||_formData$ccpa_share_===void 0?void 0:_formData$ccpa_share_.email}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"State\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_share_2=formData.ccpa_share_data)===null||_formData$ccpa_share_2===void 0?void 0:_formData$ccpa_share_2.state}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$ccpa_share_3=formData.ccpa_share_data)===null||_formData$ccpa_share_3===void 0?void 0:_formData$ccpa_share_3.status)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.ccpa_share_data,apiUrl:'app/ccpaUpdateShareData',onSuccess:onRefresh})})]})]})})})]}),(formData===null||formData===void 0?void 0:formData.ccpa_delete_data)&&/*#__PURE__*/_jsxs(\"div\",{className:classes.marginTop10,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"CCPA Delete your data\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:(_formData$ccpa_delete=formData.ccpa_delete_data)===null||_formData$ccpa_delete===void 0?void 0:_formData$ccpa_delete.firstName)+' '+(formData===null||formData===void 0?void 0:(_formData$ccpa_delete2=formData.ccpa_delete_data)===null||_formData$ccpa_delete2===void 0?void 0:_formData$ccpa_delete2.lastName)}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_delete3=formData.ccpa_delete_data)===null||_formData$ccpa_delete3===void 0?void 0:_formData$ccpa_delete3.email}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"State\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_delete4=formData.ccpa_delete_data)===null||_formData$ccpa_delete4===void 0?void 0:_formData$ccpa_delete4.state}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$ccpa_delete5=formData.ccpa_delete_data)===null||_formData$ccpa_delete5===void 0?void 0:_formData$ccpa_delete5.status)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.ccpa_delete_data,apiUrl:'app/ccpaUpdateDeleteData',onSuccess:onRefresh})})]})]})})})]})]}),isEuropienCountry!==1&&(formData===null||formData===void 0?void 0:formData.state)!=='California'&&/*#__PURE__*/_jsx(\"div\",{className:classes.content,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"This is not available for user's Country\"})})})]});};export var ChangeStatusModel=function ChangeStatusModel(props){var _props$data;var classes=useStyles();var onSuccess=props.onSuccess;var _useService=useService(),Post=_useService.Post;var Snackbar=useSnackbar();var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isOpen=_useState6[0],setIsOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),submitting=_useState8[0],setSubmitting=_useState8[1];var _useState9=useState(props===null||props===void 0?void 0:props.data),_useState10=_slicedToArray(_useState9,2),formData=_useState10[0],setFormData=_useState10[1];var _useState11=useState(props.apiUrl),_useState12=_slicedToArray(_useState11,2),apiUrl=_useState12[0],setApiUrl=_useState12[1];var _useState13=useState(props===null||props===void 0?void 0:(_props$data=props.data)===null||_props$data===void 0?void 0:_props$data.status),_useState14=_slicedToArray(_useState13,2),status=_useState14[0],setStatus=_useState14[1];var handleModel=function handleModel(){setIsOpen(!isOpen);setSubmitting(false);};var onSubmit=function onSubmit(){if(status==''){Snackbar.show('Status required','error');return;}setSubmitting(true);Post(apiUrl,{id:formData._id,status:status}).then(function(res){Snackbar.show(res.message,'success');setSubmitting(false);handleModel();onSuccess();}).catch(function(err){setSubmitting(false);Snackbar.show(err.message,'error');});};useEffect(function(){var _cloneDeep=cloneDeep(props),data=_cloneDeep.data,apiUrl=_cloneDeep.apiUrl;var _cloneDeep2=cloneDeep(data),status=_cloneDeep2.status;setFormData(data);setStatus(status);setApiUrl(apiUrl);},[props,isOpen]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleModel,className:clsx(classes.themeButton,classes.noTextTransform),children:\"Change Status\"}),isOpen&&/*#__PURE__*/_jsxs(Dialog,{disableBackdropClick:true,disableEscapeKeyDown:true,fullWidth:true,maxWidth:\"sm\",\"aria-labelledby\":\"dialog-title\",open:isOpen,children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"dialog-title\",onClose:handleModel,children:\"Change Status\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Autocomplete,{options:CcpaStatus,value:CcpaStatus.find(function(data){return data.id==status;})||NoOption,getOptionLabel:function getOptionLabel(option){return option.name;},getOptionSelected:function getOptionSelected(option){return option.id==status;},onChange:function onChange(event,newValue){setStatus((newValue===null||newValue===void 0?void 0:newValue.id)||'');},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Change Status\",variant:\"outlined\",inputProps:_objectSpread({},params.inputProps)}));}})})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleModel,variant:\"outlined\",color:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{className:classes.themeButton,onClick:function onClick(){return onSubmit();},variant:\"outlined\",children:submitting?/*#__PURE__*/_jsx(CircularProgress,{size:24,className:classes.lColor}):'Change'})]})]})]});};export default AppUserCCPA;","map":{"version":3,"sources":["D:/Pyramidion/WebApp/Izze-Admin/src/pages/AppUsers/AppUserCCPA.tsx"],"names":["Card","Table","TableBody","TableCell","TextField","TableHead","TableRow","Typography","Button","Dialog","DialogActions","DialogContent","Grid","CircularProgress","makeStyles","DialogTitle","React","useEffect","useState","getDropValues","CcpaStatus","NoOption","Autocomplete","clsx","useService","useSnackbar","cloneDeep","useEuropienCountriesList","useStyles","theme","marginTop10","marginTop","lColor","color","themeButton","palette","white","backgroundColor","green","main","dark","noTextTransform","textTransform","content","height","display","justifyContent","alignItems","AppUserCCPA","props","classes","getCountryList","isEuropienCountry","setIsEuropienCountry","data","onRefresh","formData","setFormData","getRequestFor","gdpr_type_value","checkEuropiesCountry","map","items","index","name","country","getRequestStatus","status","is_display","isSharePersonalData","gdpr_share_data","isProtectYourData","gdpr_protect_data","isPersonalInformation","gdpr_personal_data","state","ccpa_access_data","firstName","lastName","email","ccpa_share_data","ccpa_delete_data","ChangeStatusModel","onSuccess","Post","Snackbar","isOpen","setIsOpen","submitting","setSubmitting","apiUrl","setApiUrl","setStatus","handleModel","onSubmit","show","id","_id","then","res","message","catch","err","find","option","event","newValue","params","inputProps"],"mappings":"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","sourcesContent":["import {\r\n  Card, Table, TableBody, TableCell, TextField,\r\n  TableHead, TableRow, Typography, Button,\r\n  Dialog, DialogActions, DialogContent, Grid, CircularProgress\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport DialogTitle from '../../components/DialogTitlle/DialogTitle';\r\nimport React, { useEffect, useState } from 'react';\r\nimport getDropValues, { CcpaStatus, NoOption } from '../../utils/PlanDropdowns';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport clsx from 'clsx';\r\nimport useService from '../../hook/useService';\r\nimport useSnackbar from '../../hook/useSnackbar';\r\nimport { cloneDeep } from 'lodash';\r\nimport useEuropienCountriesList from '../../hook/useEuropienCountriesList';\r\n\r\nconst useStyles = makeStyles((theme: any) => ({\r\n  marginTop10: {\r\n    marginTop: 10\r\n  },\r\n  lColor: {\r\n    color: 'white',\r\n  },\r\n  themeButton: {\r\n    color: theme.palette.white,\r\n    backgroundColor: theme.palette.green.main,\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.green.dark,\r\n    },\r\n  },\r\n  noTextTransform: {\r\n    textTransform: 'none'\r\n  },\r\n  content : {\r\n    height : '50vh',\r\n    display:'flex',\r\n    justifyContent : 'center',\r\n    alignItems : 'center'\r\n  }\r\n}));\r\n\r\nconst AppUserCCPA = (props: any) => {\r\n  const classes = useStyles();\r\n  const getCountryList = useEuropienCountriesList();\r\n  const [isEuropienCountry, setIsEuropienCountry] = useState<any>(0)\r\n  const { data, onRefresh } = props;\r\n  const [formData, setFormData] = useState<any>({});\r\n\r\n  const getRequestFor = (data: any) => {\r\n    switch (data?.gdpr_type_value) {\r\n      case true:\r\n        return 'Enable';\r\n      case false:\r\n        return 'Disable';\r\n      default:\r\n        return 'No Request';\r\n    }\r\n  }\r\n\r\n  const checkEuropiesCountry = () =>{\r\n    getCountryList.map((items,index)=>{\r\n      if(items.name === formData?.country){\r\n        setIsEuropienCountry(1);\r\n      }\r\n    })\r\n  } \r\n\r\n  const getRequestStatus = (data: any) => {\r\n    const { status } = data\r\n    switch (status) {\r\n      case true:\r\n        return 'Enable';\r\n        break;\r\n      case false:\r\n        return 'Disable';\r\n        break;\r\n      default:\r\n        return { status, is_display: false };\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    setFormData(data)\r\n    checkEuropiesCountry()\r\n  }, [props, formData, isEuropienCountry]);\r\n\r\n  return (\r\n    <div>\r\n      {isEuropienCountry === 1 && (\r\n        <>\r\n          <Typography variant=\"body1\">GDPR</Typography>\r\n          <Card>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell ></TableCell>\r\n                  <TableCell >Current Status</TableCell>\r\n                  <TableCell >Request for</TableCell>\r\n                  <TableCell >Request Status</TableCell>\r\n                  <TableCell ></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <TableRow >\r\n                  <TableCell>Share your personal data</TableCell>\r\n                  <TableCell>{formData?.isSharePersonalData ? 'Enabled' : 'Disabled'}</TableCell>\r\n                  <TableCell>{getRequestFor(formData?.gdpr_share_data)}</TableCell>\r\n                  <TableCell>{getDropValues(CcpaStatus, formData?.gdpr_share_data?.status)}</TableCell>\r\n                  <TableCell>{formData?.gdpr_share_data && <ChangeStatusModel data={formData?.gdpr_share_data} apiUrl={'app/gdprUpdateData'} onSuccess={onRefresh} />}</TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>Protect your data</TableCell>\r\n                  <TableCell>{formData?.isProtectYourData ? 'Enabled' : 'Disabled'}</TableCell>\r\n                  <TableCell>{getRequestFor(formData?.gdpr_protect_data)}</TableCell>\r\n                  <TableCell>{getDropValues(CcpaStatus, formData?.gdpr_protect_data?.status)}</TableCell>\r\n                  <TableCell>{formData?.gdpr_protect_data && <ChangeStatusModel data={formData?.gdpr_protect_data} apiUrl={'app/gdprUpdateData'} onSuccess={onRefresh} />}</TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>Personal Information</TableCell>\r\n                  <TableCell>{formData?.isPersonalInformation ? 'Enabled' : 'Disabled'}</TableCell>\r\n                  <TableCell>{getRequestFor(formData?.gdpr_personal_data)}</TableCell>\r\n                  <TableCell>{getDropValues(CcpaStatus, formData?.gdpr_personal_data?.status)}</TableCell>\r\n                  <TableCell>{formData?.gdpr_personal_data && <ChangeStatusModel data={formData?.gdpr_personal_data} apiUrl={'app/gdprUpdateData'} onSuccess={onRefresh} />}</TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n          </Card>\r\n        </>\r\n      )}\r\n\r\n      {formData?.state === 'California' && (\r\n        <>\r\n          {formData?.ccpa_access_data &&\r\n            <div className={classes.marginTop10}>\r\n              <Typography variant=\"body1\">CCPA Access your data</Typography>\r\n              <Card>\r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow >\r\n                      <TableCell>Name</TableCell>\r\n                      <TableCell>{formData?.ccpa_access_data?.firstName + ' ' + formData?.ccpa_access_data?.lastName}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                    <TableRow >\r\n                      <TableCell>Email</TableCell>\r\n                      <TableCell>{formData?.ccpa_access_data?.email}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                    <TableRow >\r\n                      <TableCell>State</TableCell>\r\n                      <TableCell>{formData?.ccpa_access_data?.state}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                    <TableRow >\r\n                      <TableCell>Status</TableCell>\r\n                      <TableCell>{getDropValues(CcpaStatus, formData?.ccpa_access_data?.status)}</TableCell>\r\n                      <TableCell><ChangeStatusModel data={formData?.ccpa_access_data} apiUrl={'app/ccpaUpdateAccessData'} onSuccess={onRefresh} /></TableCell>\r\n                    </TableRow>\r\n                  </TableBody>\r\n                </Table>\r\n              </Card>\r\n            </div>\r\n          }\r\n\r\n          {formData?.ccpa_share_data &&\r\n            <div className={classes.marginTop10}>\r\n              <Typography variant=\"body1\">CCPA Share your data</Typography>\r\n              <Card>\r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow >\r\n                      <TableCell>Email</TableCell>\r\n                      <TableCell>{formData?.ccpa_share_data?.email}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                    <TableRow >\r\n                      <TableCell>State</TableCell>\r\n                      <TableCell>{formData?.ccpa_share_data?.state}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                    <TableRow >\r\n                      <TableCell>Status</TableCell>\r\n                      <TableCell>{getDropValues(CcpaStatus, formData?.ccpa_share_data?.status)}</TableCell>\r\n                      <TableCell><ChangeStatusModel data={formData?.ccpa_share_data} apiUrl={'app/ccpaUpdateShareData'} onSuccess={onRefresh} /></TableCell>\r\n                    </TableRow>\r\n                  </TableBody>\r\n                </Table>\r\n              </Card>\r\n            </div>\r\n          }\r\n\r\n          {formData?.ccpa_delete_data &&\r\n            <div className={classes.marginTop10}>\r\n              <Typography variant=\"body1\">CCPA Delete your data</Typography>\r\n              <Card>\r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow >\r\n                      <TableCell>Name</TableCell>\r\n                      <TableCell>{formData?.ccpa_delete_data?.firstName + ' ' + formData?.ccpa_delete_data?.lastName}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                    <TableRow >\r\n                      <TableCell>Email</TableCell>\r\n                      <TableCell>{formData?.ccpa_delete_data?.email}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                    <TableRow >\r\n                      <TableCell>State</TableCell>\r\n                      <TableCell>{formData?.ccpa_delete_data?.state}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                    <TableRow >\r\n                      <TableCell>Status</TableCell>\r\n                      <TableCell>{getDropValues(CcpaStatus, formData?.ccpa_delete_data?.status)}</TableCell>\r\n                      <TableCell><ChangeStatusModel data={formData?.ccpa_delete_data} apiUrl={'app/ccpaUpdateDeleteData'} onSuccess={onRefresh} /></TableCell>\r\n                    </TableRow>\r\n                  </TableBody>\r\n                </Table>\r\n              </Card>\r\n            </div>\r\n          }\r\n        </>\r\n      )}\r\n\r\n      {isEuropienCountry !== 1 && formData?.state !== 'California' && (\r\n        <div className={classes.content}>\r\n          <Typography variant='h4' align='center'><strong>This is not available for user's Country</strong></Typography>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const ChangeStatusModel = (props: any) => {\r\n  const classes = useStyles();\r\n  const { onSuccess } = props;\r\n  const { Post } = useService();\r\n  const Snackbar = useSnackbar();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const [formData, setFormData] = useState(props?.data);\r\n  const [apiUrl, setApiUrl] = useState(props.apiUrl);\r\n  const [status, setStatus] = useState(props?.data?.status);\r\n\r\n  const handleModel = () => {\r\n    setIsOpen(!isOpen);\r\n    setSubmitting(false);\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    if (status == '') {\r\n      Snackbar.show('Status required', 'error');\r\n      return\r\n    }\r\n    setSubmitting(true);\r\n    Post(apiUrl, { id: formData._id, status })\r\n      .then((res: any) => {\r\n        Snackbar.show(res.message, 'success');\r\n        setSubmitting(false);\r\n        handleModel();\r\n        onSuccess()\r\n      })\r\n      .catch((err: any) => {\r\n        setSubmitting(false);\r\n        Snackbar.show(err.message, 'error');\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { data, apiUrl } = cloneDeep(props)\r\n    const { status } = cloneDeep(data)\r\n    setFormData(data)\r\n    setStatus(status)\r\n    setApiUrl(apiUrl)\r\n  }, [props, isOpen])\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={handleModel} className={clsx(classes.themeButton, classes.noTextTransform)}>Change Status</Button>\r\n      {isOpen &&\r\n        <Dialog\r\n          disableBackdropClick\r\n          disableEscapeKeyDown\r\n          fullWidth\r\n          maxWidth='sm'\r\n          aria-labelledby='dialog-title'\r\n          open={isOpen}\r\n        >\r\n          <DialogTitle id='dialog-title' onClose={handleModel}>Change Status</DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Autocomplete\r\n                  options={CcpaStatus}\r\n                  value={CcpaStatus.find((data: any) => data.id == status) || NoOption}\r\n                  getOptionLabel={(option: any) => option.name}\r\n                  getOptionSelected={(option) => option.id == status}\r\n                  onChange={(event: any, newValue: any) => {\r\n                    setStatus(newValue?.id || '');\r\n                  }}\r\n                  renderInput={(params: any) => (\r\n                    <TextField\r\n                      {...params}\r\n                      label='Change Status'\r\n                      variant='outlined'\r\n                      inputProps={{\r\n                        ...params.inputProps,\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n\r\n          <DialogActions>\r\n            <Button onClick={handleModel} variant='outlined' color='secondary'>Cancel</Button>\r\n            <Button className={classes.themeButton} onClick={() => onSubmit()} variant='outlined'>\r\n              {submitting ? <CircularProgress size={24} className={classes.lColor} /> : 'Change'}\r\n            </Button>\r\n          </DialogActions>\r\n\r\n        </Dialog>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AppUserCCPA;\r\n"]},"metadata":{},"sourceType":"module"}