{"ast":null,"code":"import _toConsumableArray from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectWithoutProperties from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _regeneratorRuntime from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from'react';import{Avatar,Button,Card,CardActions,CardContent,CircularProgress,Dialog,DialogActions,DialogContent,Grid,IconButton,makeStyles,Table,TableBody,FormControl,FormHelperText,TableCell,TableContainer,TableHead,TableRow,TextField,Tooltip,Typography}from'@material-ui/core';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemAvatar from'@material-ui/core/ListItemAvatar';import ListItemText from'@material-ui/core/ListItemText';import AddIcon from'@material-ui/icons/Add';import CenterFocusStrongIcon from'@material-ui/icons/CenterFocusStrong';import DeleteIcon from'@material-ui/icons/Delete';import EditIcon from'@material-ui/icons/Edit';import{Pagination}from'@material-ui/lab';import TipTapEditor from'../../components/TipTapEditor/TipTapEditor/TipTapEditor';import Autocomplete from'@material-ui/lab/Autocomplete';import{Formik,getIn,useFormikContext,FieldArray}from'formik';import*as Yup from'yup';import DialogTitle from'../../components/DialogTitlle/DialogTitle';import{TableLoader,TableNoData}from'../../components/Loader/Loader';import Page from'../../components/Page/Page';import useConfModel from'../../hook/useConfModel';import useService from'../../hook/useService';import useSnackbar from'../../hook/useSnackbar';import ControlPointIcon from'@material-ui/icons/ControlPoint';import CloudUploadIcon from'@material-ui/icons/CloudUpload';import TimerIcon from'@material-ui/icons/Timer';import CarbsImages from'../../assets/Images/Carbs.png';import ProteinsImages from'../../assets/Images/Protein.png';import FatImages from'../../assets/Images/Fat.png';import{useEffect}from'react';import{uploadNewImage}from'../../utils/CloudinaryUtils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{width:theme.breakpoints.values.lg,maxWidth:'100%',margin:'0 auto',padding:theme.spacing(3)},themeButton:{color:theme.palette.white,backgroundColor:theme.palette.green.main,'&:hover':{backgroundColor:theme.palette.green.dark}},workouttermsavatar:{width:'100%',height:'100%'},deleteButton:{width:'100%',height:'50px'},timeText:{display:'flex',alignItems:'center'},content:{padding:0},inner:{minWidth:700},actions:{padding:theme.spacing(1),justifyContent:'center'},tabCard:{marginTop:theme.spacing(3)},sEvenly:{display:'flex',justifyContent:'space-evenly'},iconPadd:{padding:5},jCenter:{display:'flex',justifyContent:'center'},imageView:{width:'100%',height:'100%'},avatarRoot:{borderRadius:10,marginRight:15,width:theme.spacing(10),height:theme.spacing(10)},textPrimary:{marginTop:10,fontWeight:'bold'},textSecondary:{marginTop:10},ingrdientsGridMain:{marginTop:10},ingredientsAvatarRoot:{width:theme.spacing(7),height:theme.spacing(7),margin:'auto'},htmlContentGrid:{paddingLeft:theme.spacing(3),paddingRight:theme.spacing(3),paddingTop:theme.spacing(1)},noIngredientsText:{marginBottom:theme.spacing(3),display:'flex',justifyContent:'center'},textareaAdornedEnd:{paddingRight:0},htmlContent:{'& ul':{paddingLeft:'1.2rem'},'& p':{textAlign:'justify'}}};});function MealRecipe(){var classes=useStyles();var ConfModel=useConfModel();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),mealRecipeTableData=_React$useState4[0],setMealRecipeTableData=_React$useState4[1];var _React$useState5=React.useState({page_no:1,page_limit:10}),_React$useState6=_slicedToArray(_React$useState5,2),stateData=_React$useState6[0],setStateData=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),pageCount=_React$useState8[0],setPageCount=_React$useState8[1];var _useService=useService(),Post=_useService.Post;var Snackbar=useSnackbar();var _React$useState9=React.useState({isOpen:false,title:'',okBtnText:'',isEdit:false,data:{}}),_React$useState10=_slicedToArray(_React$useState9,2),addEditDialog=_React$useState10[0],setAddEditDialog=_React$useState10[1];var _React$useState11=React.useState({isOpen:false,title:'',data:{}}),_React$useState12=_slicedToArray(_React$useState11,2),viewDialog=_React$useState12[0],setViewDialog=_React$useState12[1];var openAddDialog=function openAddDialog(){setAddEditDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:true,title:'Add Meal Recipe',isEdit:false,okBtnText:'Save'});});};var openEditDialog=function openEditDialog(data){setAddEditDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:true,isEdit:true,data:data,title:'Edit Meal Recipe',okBtnText:'Edit'});});};var openViewDialog=function openViewDialog(data){setViewDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:true,data:data,title:'View Meal Recipe'});});};var listMealRecipies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);Post('app/listMealRecipe',stateData).then(function(res){setLoading(false);if(!res.error){setMealRecipeTableData(res.data);setPageCount(res.page_count);}else{Snackbar.show(res.message,'error');}}).catch(function(err){setLoading(false);Snackbar.show(err.message,'error');});case 2:case\"end\":return _context.stop();}}},_callee);}));return function listMealRecipies(){return _ref.apply(this,arguments);};}();var onDelete=function onDelete(data){var openModel=ConfModel.openModel,setLoading=ConfModel.setLoading,closeModel=ConfModel.closeModel;var submitFunction=function submitFunction(){setLoading(true);Post('app/deleteMealRecipe',{id:data._id}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(false);closeModel();onSuccessAction();Snackbar.show(res.message,'success');case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){setLoading(false);Snackbar.show('Internal Server Error','error');});};openModel(submitFunction);};var onPageChange=function onPageChange(event,value){setStateData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{page_no:value});});};var closeAddEditDialog=function closeAddEditDialog(){setAddEditDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:false});});};var closeViewDialog=function closeViewDialog(){setViewDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:false});});};var onSuccessAction=function onSuccessAction(){listMealRecipies();closeAddEditDialog();};var setElipsis=function setElipsis(text){return(text===null||text===void 0?void 0:text.length)>=25?\"\".concat(text.substring(0,40),\"...\"):text;};React.useEffect(function(){listMealRecipies();},[stateData]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(Page,{title:\"Meal Recipe\"}),/*#__PURE__*/_jsxs(Grid,{alignItems:\"flex-end\",container:true,justify:\"space-between\",spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h3\",children:\"Meal Recipe\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){return openAddDialog();},className:classes.themeButton,startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Add\"})})]}),/*#__PURE__*/_jsxs(Card,{className:classes.tabCard,children:[/*#__PURE__*/_jsx(CardContent,{className:classes.content,children:/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Meal Recipe Image\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Meal Recipe Name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[!loading&&mealRecipeTableData.map(function(data,index){var _data$image;return/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:stateData.page_limit*(stateData.page_no-1)+index+1}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:classes.jCenter,children:/*#__PURE__*/_jsx(Avatar,{variant:\"square\",src:data===null||data===void 0?void 0:(_data$image=data.image)===null||_data$image===void 0?void 0:_data$image.url})})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:data===null||data===void 0?void 0:data.name}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsxs(\"div\",{className:classes.sEvenly,children:[/*#__PURE__*/_jsx(Tooltip,{title:\"View\",arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:classes.iconPadd,onClick:function onClick(){return openViewDialog(data);},children:/*#__PURE__*/_jsx(CenterFocusStrongIcon,{color:\"primary\"})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Edit\",arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:classes.iconPadd,onClick:function onClick(){return openEditDialog(data);},children:/*#__PURE__*/_jsx(EditIcon,{color:\"action\"})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Delete\",arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:classes.iconPadd,onClick:function onClick(){return onDelete(data);},children:/*#__PURE__*/_jsx(DeleteIcon,{color:\"secondary\"})})})]})})]},index);}),loading&&/*#__PURE__*/_jsx(TableLoader,{}),!loading&&mealRecipeTableData.length==0&&/*#__PURE__*/_jsx(TableNoData,{children:\"No Data Found\"})]})]})})}),/*#__PURE__*/_jsx(CardActions,{className:classes.actions,children:/*#__PURE__*/_jsx(Pagination,{count:pageCount,page:stateData.page_no,onChange:onPageChange})})]}),/*#__PURE__*/_jsx(AddEditModel,_objectSpread(_objectSpread({},addEditDialog),{},{onClose:closeAddEditDialog,onSuccess:onSuccessAction})),/*#__PURE__*/_jsx(ViewModel,_objectSpread(_objectSpread({},viewDialog),{},{onClose:closeViewDialog}))]});}var mealTerms={name:'',image:{file:null,prevImage:'',isNew:null},term:''};var ingredientsSelect={id:'',quantity:'',quantity_unit:''};var initialFormValues={name:'',image:{file:null,prevImage:'',isNew:null},nutrition:'',description:'',protein:'',fat:'',carbs:'',terms:[mealTerms],ingredients:[ingredientsSelect],preparation_time:'',preparation_description:''};export var AddEditModel=function AddEditModel(props){var isEdit=props.isEdit,isOpen=props.isOpen,_props$okBtnText=props.okBtnText,okBtnText=_props$okBtnText===void 0?'OK':_props$okBtnText,onClose=props.onClose,data=props.data,title=props.title,onSuccess=props.onSuccess;var classes=useStyles();var _React$useState13=React.useState(_objectSpread({},initialFormValues)),_React$useState14=_slicedToArray(_React$useState13,2),initialValues=_React$useState14[0],setInitialValues=_React$useState14[1];var formikRef=React.useRef(null);var imageRef=React.useRef(null);var _React$useState15=React.useState([]),_React$useState16=_slicedToArray(_React$useState15,2),ingredientsList=_React$useState16[0],setIngredientsList=_React$useState16[1];var _useService2=useService(),Post=_useService2.Post;var Snackbar=useSnackbar();var onImageChange=function onImageChange(event){event.persist();var files=event.target.files;if(files&&files.length!=0){var reader=new FileReader();var file=files[0];reader.onloadend=function(){formikRef.current.setFieldValue('image',{file:file,prevImage:reader.result,isNew:true});};reader.readAsDataURL(file);}else{formikRef.current.setFieldValue('image',{workoutTermsName:'',image:{file:null,prevImage:'',isNew:null},description:''});}};var onSubmit=function onSubmit(value,helper){try{helper.setSubmitting(true);var renderSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var terms,rest,postData,TermPromiseArray,_yield$Promise$all,_yield$Promise$all2,imageResponse,TermImageResponse;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:terms=value.terms,rest=_objectWithoutProperties(value,[\"terms\"]);postData=rest;TermPromiseArray=Promise.all(terms.map(function(_ref4){var image=_ref4.image,rest=_objectWithoutProperties(_ref4,[\"image\"]);return uploadNewImage(image).then(function(imgResponse){return _objectSpread({image:imgResponse},rest);});}));_context3.next=5;return Promise.all([uploadNewImage(postData.image),TermPromiseArray]);case 5:_yield$Promise$all=_context3.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);imageResponse=_yield$Promise$all2[0];TermImageResponse=_yield$Promise$all2[1];postData.terms=TermImageResponse;postData.image=imageResponse;!isEdit&&addData(postData,helper);isEdit&&editData(postData,helper);// const TermPromiseArray = terms.map(async (termData: any) => {\n//   let { image, ...rest } = termData\n//   return uploadNewImage(image)\n// })\n// Promise.all(TermPromiseArray).then((termData: any) => {\n//   postData.terms = termData;\n//   return uploadNewImage(postData.image)\n// }).then((imageUrl: any) => {\n//   postData.image = imageUrl\n//   !isEdit && addData(postData, helper);\n//   isEdit && editData(postData, helper);\n// }).catch((err: any) => {\n//   Snackbar.show('Internal Server Error', 'error');\n// });\ncase 13:case\"end\":return _context3.stop();}}},_callee3);}));return function renderSubmit(){return _ref3.apply(this,arguments);};}();renderSubmit();}catch(_unused){Snackbar.show('Image Upload Failed','error');}};var addData=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(value,_ref5){var setSubmitting,resetForm;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setSubmitting=_ref5.setSubmitting,resetForm=_ref5.resetForm;_context4.next=3;return Post('app/addMealRecipe',value).then(function(res){Snackbar.show(res.message,'success');setSubmitting(false);resetForm();onSuccess();}).catch(function(err){Snackbar.show(err.message,'error');});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function addData(_x2,_x3){return _ref6.apply(this,arguments);};}();var editData=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data,_ref7){var setSubmitting,resetForm;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setSubmitting=_ref7.setSubmitting,resetForm=_ref7.resetForm;setSubmitting(true);_context5.next=4;return Post('app/editMealRecipe',data).then(function(res){Snackbar.show(res.message,'success');setSubmitting(false);resetForm();onSuccess();}).catch(function(err){Snackbar.show(err.message,'error');});case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function editData(_x4,_x5){return _ref8.apply(this,arguments);};}();var listAllMealRecipe=function listAllMealRecipe(){Post('app/listAllMealIngredient',{}).then(function(res){if(!res.error){var getequipmentList=res.data.map(function(data){data.id=data._id;return data;});setIngredientsList(getequipmentList);}else{Snackbar.show(res.message,'error');}}).catch(function(err){Snackbar.show(err.message,'error');});};var addMealRecipeTerms=function addMealRecipeTerms(values,push){var terms=values.terms;push(mealTerms);};var addIngredients=function addIngredients(values,push){var ingredients=values.ingredients;push(ingredientsSelect);};var removeIngredients=function removeIngredients(values,items,setFieldValue){var ingredients=values.ingredients;var sampleDummyArray=_toConsumableArray(ingredients);sampleDummyArray.splice(sampleDummyArray.indexOf(items),1);setFieldValue('ingredients',sampleDummyArray);};var handleOptionChange=function handleOptionChange(event,value,index){formikRef.current.setFieldValue(\"ingredients[\".concat(index,\"].id\"),value===null||value===void 0?void 0:value.id);};React.useEffect(function(){listAllMealRecipe();},[]);React.useEffect(function(){if(isEdit){console.log(data);var terms=data.terms,image=data.image,_id=data._id,ingredients=data.ingredients,rest=_objectWithoutProperties(data,[\"terms\",\"image\",\"_id\",\"ingredients\"]);var _editData=_objectSpread(_objectSpread({},rest),{},{id:_id});var RecipeIds=ingredientsList.map(function(_ref9){var _id=_ref9._id;return _id;});_editData.image={file:image,prevImage:image===null||image===void 0?void 0:image.url,isNew:false};_editData.ingredients=ingredients.filter(function(_ref10){var _id=_ref10._id;return RecipeIds.includes(_id);}).map(function(_ref11){var _id=_ref11._id,quantity=_ref11.quantity,quantity_unit=_ref11.quantity_unit;return{id:_id,quantity:quantity,quantity_unit:quantity_unit};});_editData.terms=terms.map(function(items){return{name:items.name,image:{file:items.image,prevImage:items.image.url,isNew:false},term:items.term};});setInitialValues(_editData);}else{setInitialValues(initialFormValues);}},[props]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Dialog,{open:isOpen,disableBackdropClick:true,disableEscapeKeyDown:true,fullWidth:true,maxWidth:\"md\",\"aria-labelledby\":\"dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"dialog-title\",onClose:onClose,children:title}),/*#__PURE__*/_jsx(Formik,{innerRef:formikRef,enableReinitialize:true,initialValues:initialValues,onSubmit:onSubmit,validationSchema:Yup.object().shape({name:Yup.string().trim().required('Name is required'),nutrition:Yup.string().trim().required('Nutrition is required'),description:Yup.string().trim().max(250,'Must be 250 characters or less').required('Description is required'),protein:Yup.number().typeError('Protein must be in number').required('Protein is required'),fat:Yup.number().typeError('Fat must be in number').required('Fat is required'),carbs:Yup.number().typeError('Carbs must be in number').required('Carbs is required'),terms:Yup.array().of(Yup.object().shape({name:Yup.string().trim().required('Meal recipe name is Required'),image:Yup.object({file:Yup.mixed().required('required')}),term:Yup.string().trim().max(250,'Must be 250 characters or less').required('Meal Recipe terms is Required')})),ingredients:Yup.array().of(Yup.object().shape({id:Yup.string().trim().required('Ingredients is Required'),quantity:Yup.string().required('Quantity is Required')// quantity_unit: Yup.string().trim().required('Quantity unit is required'),\n})),preparation_time:Yup.string().trim().required('Preparation time is required'),preparation_description:Yup.string().required('Preparation description is required'),image:Yup.object({file:Yup.mixed().required('A file is required')})}),children:function children(_ref12){var _touched$image,_errors$image,_touched$image2,_errors$image2,_values$image,_values$image2;var values=_ref12.values,errors=_ref12.errors,touched=_ref12.touched,handleBlur=_ref12.handleBlur,handleChange=_ref12.handleChange,setFieldValue=_ref12.setFieldValue,submitForm=_ref12.submitForm,setFieldTouched=_ref12.setFieldTouched,isSubmitting=_ref12.isSubmitting;return/*#__PURE__*/_jsxs(_Fragment,{children:[console.log(values),/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Name\",name:\"name\",variant:\"outlined\",value:values.name,onChange:handleChange,onBlur:handleBlur,error:Boolean(touched.name&&errors.name),helperText:touched.name&&errors.name})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,label:\"Description\",name:\"description\",variant:\"outlined\",value:values.description,onChange:handleChange,onBlur:handleBlur,error:Boolean(touched.description&&errors.description),helperText:touched.description&&errors.description})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Nutrition\",name:\"nutrition\",variant:\"outlined\",value:values.nutrition,onChange:handleChange,onBlur:handleBlur,error:Boolean(touched.nutrition&&errors.nutrition),helperText:touched.nutrition&&errors.nutrition})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Protein ( g )\",name:\"protein\",variant:\"outlined\",value:values.protein,onChange:handleChange,onBlur:handleBlur,error:Boolean(touched.protein&&errors.protein),helperText:touched.protein&&errors.protein})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Fat ( g )\",name:\"fat\",variant:\"outlined\",value:values.fat,onChange:handleChange,onBlur:handleBlur,error:Boolean(touched.fat&&errors.fat),helperText:touched.fat&&errors.fat})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Carbs ( g )\",name:\"carbs\",variant:\"outlined\",value:values.carbs,onChange:handleChange,onBlur:handleBlur,error:Boolean(touched.carbs&&errors.carbs),helperText:touched.carbs&&errors.carbs})}),/*#__PURE__*/_jsx(FieldArray,{name:\"terms\",validateOnChange:true,children:function children(_ref13){var _values$terms;var push=_ref13.push,remove=_ref13.remove;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,md:12,xs:12,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,className:classes.themeButton,variant:\"contained\",color:\"default\",onClick:function onClick(){return addMealRecipeTerms(values,push);},endIcon:/*#__PURE__*/_jsx(ControlPointIcon,{}),children:\"Add Terms\"})}),values===null||values===void 0?void 0:(_values$terms=values.terms)===null||_values$terms===void 0?void 0:_values$terms.map(function(items,index){var _values$terms2;return/*#__PURE__*/_jsx(TermsComponent,{index:index,remove:remove,getLength:values===null||values===void 0?void 0:(_values$terms2=values.terms)===null||_values$terms2===void 0?void 0:_values$terms2.length},index);})]});}}),/*#__PURE__*/_jsx(FieldArray,{name:\"ingredients\",children:function children(_ref14){var _values$ingredients;var push=_ref14.push,remove=_ref14.remove;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,md:12,xs:12,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,className:classes.themeButton,variant:\"contained\",color:\"default\",onClick:function onClick(){return addIngredients(values,push);},endIcon:/*#__PURE__*/_jsx(ControlPointIcon,{}),children:\"Add Ingredients\"})}),values===null||values===void 0?void 0:(_values$ingredients=values.ingredients)===null||_values$ingredients===void 0?void 0:_values$ingredients.map(function(items,index){var _touched$ingredients$3,_errors$ingredients$i3,_touched$ingredients$4,_errors$ingredients$i4,_values$ingredients2;return/*#__PURE__*/_jsxs(Grid,{item:true,container:true,md:12,xs:12,direction:\"row\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,md:5,xs:12,children:/*#__PURE__*/_jsx(Autocomplete,{fullWidth:true,options:ingredientsList,value:ingredientsList.find(function(data){return data._id==items.id;}),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionSelected:function getOptionSelected(option){return option.id==items.id;},onChange:function onChange(event,newValue){return handleOptionChange(event,newValue,index);},onBlur:handleBlur,renderInput:function renderInput(params){var _touched$ingredients$,_errors$ingredients$i,_touched$ingredients$2,_errors$ingredients$i2;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Ingredients\",variant:\"outlined\",error:Boolean((touched===null||touched===void 0?void 0:touched.ingredients)&&(touched===null||touched===void 0?void 0:(_touched$ingredients$=touched.ingredients[index])===null||_touched$ingredients$===void 0?void 0:_touched$ingredients$.id)&&(errors===null||errors===void 0?void 0:errors.ingredients)&&(errors===null||errors===void 0?void 0:(_errors$ingredients$i=errors.ingredients[index])===null||_errors$ingredients$i===void 0?void 0:_errors$ingredients$i.id)),helperText:(touched===null||touched===void 0?void 0:touched.ingredients)&&(touched===null||touched===void 0?void 0:(_touched$ingredients$2=touched.ingredients[index])===null||_touched$ingredients$2===void 0?void 0:_touched$ingredients$2.id)&&(errors===null||errors===void 0?void 0:errors.ingredients)&&(errors===null||errors===void 0?void 0:(_errors$ingredients$i2=errors.ingredients[index])===null||_errors$ingredients$i2===void 0?void 0:_errors$ingredients$i2.id),inputProps:_objectSpread({},params.inputProps)}));}})}),/*#__PURE__*/_jsx(Grid,{item:true,md:6,xs:8,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Quantity\",name:\"ingredients[\".concat(index,\"].quantity\"),variant:\"outlined\",error:Boolean((touched===null||touched===void 0?void 0:touched.ingredients)&&(touched===null||touched===void 0?void 0:(_touched$ingredients$3=touched.ingredients[index])===null||_touched$ingredients$3===void 0?void 0:_touched$ingredients$3.quantity)&&(errors===null||errors===void 0?void 0:errors.ingredients)&&(errors===null||errors===void 0?void 0:(_errors$ingredients$i3=errors.ingredients[index])===null||_errors$ingredients$i3===void 0?void 0:_errors$ingredients$i3.quantity)),helperText:(touched===null||touched===void 0?void 0:touched.ingredients)&&(touched===null||touched===void 0?void 0:(_touched$ingredients$4=touched.ingredients[index])===null||_touched$ingredients$4===void 0?void 0:_touched$ingredients$4.quantity)&&(errors===null||errors===void 0?void 0:errors.ingredients)&&(errors===null||errors===void 0?void 0:(_errors$ingredients$i4=errors.ingredients[index])===null||_errors$ingredients$i4===void 0?void 0:_errors$ingredients$i4.quantity),value:items.quantity,onChange:handleChange,onBlur:handleBlur// InputProps={{\n//   classes: {\n//     adornedEnd: classes.textareaAdornedEnd\n//   },\n//   endAdornment: <UnitSelect id={`ingredients[${index}].quantity_unit`} option={UnitDropdown} name={`ingredients[${index}].quantity_unit`} value={items.quantity_unit} onChange={handleChange} onBlur={handleBlur} />\n// }}\n})}),(values===null||values===void 0?void 0:(_values$ingredients2=values.ingredients)===null||_values$ingredients2===void 0?void 0:_values$ingredients2.length)>1&&/*#__PURE__*/_jsx(Grid,{item:true,md:1,xs:4,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,className:classes.deleteButton,variant:\"contained\",color:\"secondary\",onClick:function onClick(){return remove(index);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]},index);})]});}}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Preparation Time\",name:\"preparation_time\",variant:\"outlined\",value:values.preparation_time,onChange:handleChange,onBlur:handleBlur,error:Boolean(touched.preparation_time&&errors.preparation_time),helperText:touched.preparation_time&&errors.preparation_time})}),/*#__PURE__*/_jsx(Grid,{item:true,md:12,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,error:Boolean((touched===null||touched===void 0?void 0:touched.preparation_description)&&(errors===null||errors===void 0?void 0:errors.preparation_description)),children:[/*#__PURE__*/_jsx(TipTapEditor,{value:values.preparation_description,onChange:function onChange(value){return setFieldValue('preparation_description',value);},onBlur:function onBlur(){return setFieldTouched('preparation_description',true,true);}}),/*#__PURE__*/_jsx(FormHelperText,{children:(touched===null||touched===void 0?void 0:touched.preparation_description)&&(errors===null||errors===void 0?void 0:errors.preparation_description)})]})}),/*#__PURE__*/_jsxs(Grid,{item:true,md:12,xs:12,children:[/*#__PURE__*/_jsx(\"input\",{name:\"image\",ref:imageRef,type:\"file\",accept:\".jpg,.png,jpeg\",onChange:onImageChange,onBlur:handleBlur,hidden:true}),/*#__PURE__*/_jsx(Button,{fullWidth:true,className:classes.themeButton,variant:\"contained\",color:\"default\",onClick:function onClick(){return imageRef.current.click();},startIcon:/*#__PURE__*/_jsx(CloudUploadIcon,{}),children:\"Upload Image\"}),/*#__PURE__*/_jsx(FormControl,{error:Boolean((touched===null||touched===void 0?void 0:(_touched$image=touched.image)===null||_touched$image===void 0?void 0:_touched$image.file)&&(errors===null||errors===void 0?void 0:(_errors$image=errors.image)===null||_errors$image===void 0?void 0:_errors$image.file)),children:/*#__PURE__*/_jsx(FormHelperText,{children:(touched===null||touched===void 0?void 0:(_touched$image2=touched.image)===null||_touched$image2===void 0?void 0:_touched$image2.file)&&(errors===null||errors===void 0?void 0:(_errors$image2=errors.image)===null||_errors$image2===void 0?void 0:_errors$image2.file)})})]}),/*#__PURE__*/_jsx(Grid,{item:true,md:12,xs:12,children:((_values$image=values.image)===null||_values$image===void 0?void 0:_values$image.prevImage)&&/*#__PURE__*/_jsx(\"img\",{className:classes.imageView,src:(_values$image2=values.image)===null||_values$image2===void 0?void 0:_values$image2.prevImage})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,variant:\"outlined\",color:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{className:classes.themeButton,onClick:function onClick(){return submitForm();},disabled:isSubmitting,variant:\"outlined\",children:isSubmitting?/*#__PURE__*/_jsx(CircularProgress,{size:24,style:{color:'white'}}):okBtnText})]})]});}})]})});};var TermsComponent=function TermsComponent(props){var _FieldValue$image,_FieldTouched$image,_FieldError$image,_FieldTouched$image2,_FieldError$image2;var FormikContext=useFormikContext();var _useState=useState(FormikContext),_useState2=_slicedToArray(_useState,2),_useState2$=_useState2[0],values=_useState2$.values,errors=_useState2$.errors,touched=_useState2$.touched,setFieldValue=_useState2$.setFieldValue,handleBlur=_useState2$.handleBlur,handleChange=_useState2$.handleChange,setFormikContext=_useState2[1];var index=props.index;var classes=useStyles();var imgRef=useRef(null);var FieldName=\"terms[\".concat(index,\"]\");var FieldValue=getIn(values,\"terms[\".concat(index,\"]\"));var FieldError=getIn(errors,\"terms[\".concat(index,\"]\"));var FieldTouched=getIn(touched,\"terms[\".concat(index,\"]\"));var onImageChange=function onImageChange(event){event.persist();var files=event.target.files;if(files&&files.length!=0){var reader=new FileReader();var file=files[0];reader.onloadend=function(){setFieldValue(\"\".concat(FieldName,\".image\"),{file:file,prevImage:reader.result,isNew:true});};reader.readAsDataURL(file);}else{setFieldValue(\"\".concat(FieldName,\".image\"),{file:null,prevImage:'',isNew:null});}};// const removeTerm = () => {\n//   const OldTerms = getIn(values, 'terms');\n//   const Terms = OldTerms.filter((d: any, i: number) => i != index);\n//   setFieldValue('terms', Terms);\n// }\nuseEffect(function(){setFormikContext(FormikContext);},[FormikContext]);return/*#__PURE__*/_jsxs(Grid,{item:true,container:true,md:12,xs:12,direction:\"row\",spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,md:1,xs:12,children:[/*#__PURE__*/_jsx(\"input\",{name:\"\".concat(FieldName,\".image\"),ref:imgRef,type:\"file\",accept:\".jpg,.png,jpeg\",onChange:function onChange(e){return onImageChange(e);},onBlur:handleBlur,hidden:true}),/*#__PURE__*/_jsx(Avatar,{className:classes.workouttermsavatar,variant:\"square\",onClick:function onClick(){var _imgRef$current;return imgRef===null||imgRef===void 0?void 0:(_imgRef$current=imgRef.current)===null||_imgRef$current===void 0?void 0:_imgRef$current.click();},src:FieldValue===null||FieldValue===void 0?void 0:(_FieldValue$image=FieldValue.image)===null||_FieldValue$image===void 0?void 0:_FieldValue$image.prevImage}),/*#__PURE__*/_jsx(FormControl,{error:Boolean((FieldTouched===null||FieldTouched===void 0?void 0:(_FieldTouched$image=FieldTouched.image)===null||_FieldTouched$image===void 0?void 0:_FieldTouched$image.file)&&(FieldError===null||FieldError===void 0?void 0:(_FieldError$image=FieldError.image)===null||_FieldError$image===void 0?void 0:_FieldError$image.file)),children:/*#__PURE__*/_jsx(FormHelperText,{children:(FieldTouched===null||FieldTouched===void 0?void 0:(_FieldTouched$image2=FieldTouched.image)===null||_FieldTouched$image2===void 0?void 0:_FieldTouched$image2.file)&&(FieldError===null||FieldError===void 0?void 0:(_FieldError$image2=FieldError.image)===null||_FieldError$image2===void 0?void 0:_FieldError$image2.file)})})]}),/*#__PURE__*/_jsx(Grid,{item:true,md:5,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,label:\"Terms name\",name:\"\".concat(FieldName,\".name\"),variant:\"outlined\",error:Boolean((FieldTouched===null||FieldTouched===void 0?void 0:FieldTouched.name)&&(FieldError===null||FieldError===void 0?void 0:FieldError.name)),helperText:(FieldTouched===null||FieldTouched===void 0?void 0:FieldTouched.name)&&(FieldError===null||FieldError===void 0?void 0:FieldError.name),value:FieldValue.name,onChange:handleChange,onBlur:handleBlur})}),/*#__PURE__*/_jsx(Grid,{item:true,md:5,xs:8,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,label:\"Terms description\",name:\"\".concat(FieldName,\".term\"),variant:\"outlined\",error:Boolean((FieldTouched===null||FieldTouched===void 0?void 0:FieldTouched.term)&&(FieldError===null||FieldError===void 0?void 0:FieldError.term)),helperText:(FieldTouched===null||FieldTouched===void 0?void 0:FieldTouched.term)&&(FieldError===null||FieldError===void 0?void 0:FieldError.term),value:FieldValue.term,onChange:handleChange,onBlur:handleBlur})}),props.getLength>1&&/*#__PURE__*/_jsx(Grid,{item:true,md:1,xs:4,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,className:classes.deleteButton,variant:\"contained\",color:\"secondary\",onClick:function onClick(){return props.remove(index);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]});};export var ViewModel=function ViewModel(props){var _formValue$image,_formValue$terms,_formValue$workout_te,_formValue$ingredient;var isOpen=props.isOpen,title=props.title,onClose=props.onClose,data=props.data;var classes=useStyles();var _React$useState17=React.useState(data),_React$useState18=_slicedToArray(_React$useState17,2),formValue=_React$useState18[0],setFormValue=_React$useState18[1];React.useEffect(function(){setFormValue(data);},[props]);return/*#__PURE__*/_jsxs(Dialog,{disableBackdropClick:true,disableEscapeKeyDown:true,fullWidth:true,maxWidth:\"sm\",\"aria-labelledby\":\"dialog-view-title\",open:isOpen,children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"dialog-view-title\",onClose:onClose,children:title}),/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:formValue===null||formValue===void 0?void 0:(_formValue$image=formValue.image)===null||_formValue$image===void 0?void 0:_formValue$image.url,alt:'Workout image',className:classes.imageView})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:/*#__PURE__*/_jsx(\"strong\",{children:formValue===null||formValue===void 0?void 0:formValue.name})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,className:classes.ingrdientsGridMain,justify:\"center\",children:[formValue===null||formValue===void 0?void 0:(_formValue$terms=formValue.terms)===null||_formValue$terms===void 0?void 0:_formValue$terms.map(function(value,index){var _value$image;return/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,md:3,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.ingredientsAvatarRoot,src:value===null||value===void 0?void 0:(_value$image=value.image)===null||_value$image===void 0?void 0:_value$image.url}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",children:value===null||value===void 0?void 0:value.name}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",align:\"center\",children:value.term.length>=25?\"\".concat(value.term.substring(0,30),\"...\"):value.term})]},index);}),(formValue===null||formValue===void 0?void 0:(_formValue$workout_te=formValue.workout_terms)===null||_formValue$workout_te===void 0?void 0:_formValue$workout_te.length)==0&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,className:classes.noIngredientsText,children:/*#__PURE__*/_jsx(\"div\",{children:\"No Ingredients\"})})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",align:\"left\",style:{color:'#41A58D'},className:classes.textPrimary,children:\"INGREDIENTS\"}),formValue===null||formValue===void 0?void 0:(_formValue$ingredient=formValue.ingredients)===null||_formValue$ingredient===void 0?void 0:_formValue$ingredient.map(function(items,index){var _items$image;return/*#__PURE__*/_jsx(List,{children:/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{className:classes.avatarRoot,src:(_items$image=items.image)===null||_items$image===void 0?void 0:_items$image.url})}),/*#__PURE__*/_jsx(ListItemText,{primary:items===null||items===void 0?void 0:items.name,secondary:items===null||items===void 0?void 0:items.description}),/*#__PURE__*/_jsxs(Typography,{children:[items.quantity,\" \",items.quantity_unit]})]})});}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",align:\"left\",style:{color:'#41A58D'},className:classes.textPrimary,children:\"NUTRITIONAL INFORMATION\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,className:classes.ingrdientsGridMain,justify:\"center\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,md:3,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.ingredientsAvatarRoot,src:CarbsImages}),/*#__PURE__*/_jsx(Typography,{align:\"center\",children:\"Carbs\"}),/*#__PURE__*/_jsxs(Typography,{align:\"center\",children:[formValue===null||formValue===void 0?void 0:formValue.carbs,\"g\"]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,md:3,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.ingredientsAvatarRoot,src:ProteinsImages}),/*#__PURE__*/_jsx(Typography,{align:\"center\",children:\"Protein\"}),/*#__PURE__*/_jsxs(Typography,{align:\"center\",children:[formValue===null||formValue===void 0?void 0:formValue.protein,\"g\"]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,md:3,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.ingredientsAvatarRoot,src:FatImages}),/*#__PURE__*/_jsx(Typography,{align:\"center\",children:\"Fat\"}),/*#__PURE__*/_jsxs(Typography,{align:\"center\",children:[formValue===null||formValue===void 0?void 0:formValue.fat,\"g\"]})]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"left\",style:{color:'#41A58D',marginTop:'20px'},children:/*#__PURE__*/_jsx(\"strong\",{children:\"PREPARATION\"})}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",align:\"center\",className:classes.timeText,children:[/*#__PURE__*/_jsx(TimerIcon,{fontSize:\"inherit\"}),/*#__PURE__*/_jsx(\"span\",{children:formValue===null||formValue===void 0?void 0:formValue.preparation_time})]}),/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,className:classes.htmlContentGrid,children:/*#__PURE__*/_jsx(\"div\",{className:classes.htmlContent,dangerouslySetInnerHTML:{__html:formValue===null||formValue===void 0?void 0:formValue.preparation_description}})})})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:onClose,variant:\"outlined\",color:\"secondary\",children:\"Close\"})})]});};export default MealRecipe;","map":{"version":3,"sources":["D:/Pyramidion/WebApp/Izze-Admin/src/pages/MealRecipe/MealRecipe.tsx"],"names":["React","useRef","useState","Avatar","Button","Card","CardActions","CardContent","CircularProgress","Dialog","DialogActions","DialogContent","Grid","IconButton","makeStyles","Table","TableBody","FormControl","FormHelperText","TableCell","TableContainer","TableHead","TableRow","TextField","Tooltip","Typography","List","ListItem","ListItemAvatar","ListItemText","AddIcon","CenterFocusStrongIcon","DeleteIcon","EditIcon","Pagination","TipTapEditor","Autocomplete","Formik","getIn","useFormikContext","FieldArray","Yup","DialogTitle","TableLoader","TableNoData","Page","useConfModel","useService","useSnackbar","ControlPointIcon","CloudUploadIcon","TimerIcon","CarbsImages","ProteinsImages","FatImages","useEffect","uploadNewImage","useStyles","theme","root","width","breakpoints","values","lg","maxWidth","margin","padding","spacing","themeButton","color","palette","white","backgroundColor","green","main","dark","workouttermsavatar","height","deleteButton","timeText","display","alignItems","content","inner","minWidth","actions","justifyContent","tabCard","marginTop","sEvenly","iconPadd","jCenter","imageView","avatarRoot","borderRadius","marginRight","textPrimary","fontWeight","textSecondary","ingrdientsGridMain","ingredientsAvatarRoot","htmlContentGrid","paddingLeft","paddingRight","paddingTop","noIngredientsText","marginBottom","textareaAdornedEnd","htmlContent","textAlign","MealRecipe","classes","ConfModel","loading","setLoading","mealRecipeTableData","setMealRecipeTableData","page_no","page_limit","stateData","setStateData","pageCount","setPageCount","Post","Snackbar","isOpen","title","okBtnText","isEdit","data","addEditDialog","setAddEditDialog","viewDialog","setViewDialog","openAddDialog","prevState","openEditDialog","openViewDialog","listMealRecipies","then","res","error","page_count","show","message","catch","err","onDelete","openModel","closeModel","submitFunction","id","_id","onSuccessAction","onPageChange","event","value","closeAddEditDialog","closeViewDialog","setElipsis","text","length","substring","map","index","image","url","name","mealTerms","file","prevImage","isNew","term","ingredientsSelect","quantity","quantity_unit","initialFormValues","nutrition","description","protein","fat","carbs","terms","ingredients","preparation_time","preparation_description","AddEditModel","props","onClose","onSuccess","initialValues","setInitialValues","formikRef","imageRef","ingredientsList","setIngredientsList","onImageChange","persist","files","target","reader","FileReader","onloadend","current","setFieldValue","result","readAsDataURL","workoutTermsName","onSubmit","helper","setSubmitting","renderSubmit","rest","postData","TermPromiseArray","Promise","all","imgResponse","imageResponse","TermImageResponse","addData","editData","resetForm","listAllMealRecipe","getequipmentList","addMealRecipeTerms","push","addIngredients","removeIngredients","items","sampleDummyArray","splice","indexOf","handleOptionChange","console","log","RecipeIds","filter","includes","object","shape","string","trim","required","max","number","typeError","array","of","mixed","errors","touched","handleBlur","handleChange","submitForm","setFieldTouched","isSubmitting","Boolean","remove","find","option","newValue","params","inputProps","click","TermsComponent","FormikContext","setFormikContext","imgRef","FieldName","FieldValue","FieldError","FieldTouched","e","getLength","ViewModel","formValue","setFormValue","workout_terms","__html"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport { Avatar, Button, Card, CardActions, CardContent, CircularProgress, Dialog, DialogActions, DialogContent, Grid, IconButton, makeStyles, Paper, Tab, Table, TableBody, FormControl, FormHelperText, TableCell, TableContainer, TableHead, TableRow, TextField, Tooltip, Divider, Typography, Tabs } from '@material-ui/core';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport CenterFocusStrongIcon from '@material-ui/icons/CenterFocusStrong';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { Pagination, TabContext, TabList, TabPanel } from '@material-ui/lab';\r\nimport TipTapEditor from '../../components/TipTapEditor/TipTapEditor/TipTapEditor';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { imageUpload } from '../../utils/FirebaseUtils';\r\nimport { Formik, getIn, useFormikContext, FieldArray } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport DialogTitle from '../../components/DialogTitlle/DialogTitle';\r\nimport { TableLoader, TableNoData } from '../../components/Loader/Loader';\r\nimport Page from '../../components/Page/Page';\r\nimport useConfModel from '../../hook/useConfModel';\r\nimport useService from '../../hook/useService';\r\nimport useSnackbar from '../../hook/useSnackbar';\r\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport TimerIcon from '@material-ui/icons/Timer';\r\nimport CarbsImages from '../../assets/Images/Carbs.png'\r\nimport ProteinsImages from '../../assets/Images/Protein.png'\r\nimport FatImages from '../../assets/Images/Fat.png'\r\nimport { useEffect } from 'react';\r\nimport UnitSelect from '../../components/UnitSelect/UnitSelect';\r\nimport UnitDropdown from '../../utils/MetricUnits';\r\nimport { uploadNewImage } from '../../utils/CloudinaryUtils';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme: any) => ({\r\n  root: {\r\n    width: theme.breakpoints.values.lg,\r\n    maxWidth: '100%',\r\n    margin: '0 auto',\r\n    padding: theme.spacing(3),\r\n  },\r\n  themeButton: {\r\n    color: theme.palette.white,\r\n    backgroundColor: theme.palette.green.main,\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.green.dark,\r\n    },\r\n  },\r\n  workouttermsavatar: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  deleteButton: {\r\n    width: '100%',\r\n    height: '50px',\r\n  },\r\n  timeText: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  content: {\r\n    padding: 0,\r\n  },\r\n  inner: {\r\n    minWidth: 700,\r\n  },\r\n  actions: {\r\n    padding: theme.spacing(1),\r\n    justifyContent: 'center',\r\n  },\r\n  tabCard: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  sEvenly: {\r\n    display: 'flex',\r\n    justifyContent: 'space-evenly',\r\n  },\r\n  iconPadd: {\r\n    padding: 5,\r\n  },\r\n  jCenter: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  imageView: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  avatarRoot: {\r\n    borderRadius: 10,\r\n    marginRight: 15,\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n  textPrimary: {\r\n    marginTop: 10,\r\n    fontWeight: 'bold',\r\n  },\r\n  textSecondary: {\r\n    marginTop: 10,\r\n  },\r\n  ingrdientsGridMain: {\r\n    marginTop: 10,\r\n  },\r\n  ingredientsAvatarRoot: {\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n    margin: 'auto',\r\n  },\r\n  htmlContentGrid: {\r\n    paddingLeft: theme.spacing(3),\r\n    paddingRight: theme.spacing(3),\r\n    paddingTop: theme.spacing(1),\r\n  },\r\n  noIngredientsText: {\r\n    marginBottom: theme.spacing(3),\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  textareaAdornedEnd: {\r\n    paddingRight: 0\r\n  },\r\n  htmlContent: {\r\n    '& ul': {\r\n      paddingLeft: '1.2rem',\r\n    },\r\n    '& p': {\r\n      textAlign: 'justify',\r\n    },\r\n  },\r\n}))\r\n\r\nfunction MealRecipe() {\r\n  const classes = useStyles();\r\n  const ConfModel = useConfModel();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [mealRecipeTableData, setMealRecipeTableData] = React.useState([]);\r\n  const [stateData, setStateData] = React.useState({ page_no: 1, page_limit: 10 });\r\n  const [pageCount, setPageCount] = React.useState(0);\r\n  const { Post } = useService();\r\n  const Snackbar = useSnackbar();\r\n  const [addEditDialog, setAddEditDialog] = React.useState({\r\n    isOpen: false,\r\n    title: '',\r\n    okBtnText: '',\r\n    isEdit: false,\r\n    data: {},\r\n  });\r\n  const [viewDialog, setViewDialog] = React.useState({\r\n    isOpen: false,\r\n    title: '',\r\n    data: {},\r\n  });\r\n\r\n  const openAddDialog = () => {\r\n    setAddEditDialog((prevState: any) => ({\r\n      ...prevState,\r\n      isOpen: true,\r\n      title: 'Add Meal Recipe',\r\n      isEdit: false,\r\n      okBtnText: 'Save',\r\n    }));\r\n  };\r\n\r\n  const openEditDialog = (data: any) => {\r\n    setAddEditDialog((prevState: any) => ({\r\n      ...prevState,\r\n      isOpen: true,\r\n      isEdit: true,\r\n      data,\r\n      title: 'Edit Meal Recipe',\r\n      okBtnText: 'Edit',\r\n    }));\r\n  };\r\n\r\n  const openViewDialog = (data: any) => {\r\n    setViewDialog((prevState: any) => ({\r\n      ...prevState,\r\n      isOpen: true,\r\n      data,\r\n      title: 'View Meal Recipe',\r\n    }));\r\n  };\r\n\r\n  const listMealRecipies = async () => {\r\n    setLoading(true);\r\n    Post('app/listMealRecipe', stateData)\r\n      .then((res: any) => {\r\n        setLoading(false);\r\n        if (!res.error) {\r\n          setMealRecipeTableData(res.data);\r\n          setPageCount(res.page_count);\r\n        } else {\r\n          Snackbar.show(res.message, 'error');\r\n        }\r\n      })\r\n      .catch((err: any) => {\r\n        setLoading(false);\r\n        Snackbar.show(err.message, 'error');\r\n      });\r\n  };\r\n\r\n  const onDelete = (data: any) => {\r\n    const { openModel, setLoading, closeModel } = ConfModel;\r\n    const submitFunction = () => {\r\n      setLoading(true);\r\n      Post('app/deleteMealRecipe', { id: data._id })\r\n        .then(async (res: any) => {\r\n          setLoading(false);\r\n          closeModel();\r\n          onSuccessAction();\r\n          Snackbar.show(res.message, 'success');\r\n        })\r\n        .catch((err: any) => {\r\n          setLoading(false);\r\n          Snackbar.show('Internal Server Error', 'error');\r\n        });\r\n    };\r\n    openModel(submitFunction);\r\n  };\r\n\r\n  const onPageChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n    setStateData((prevState: any) => ({ ...prevState, page_no: value }));\r\n  };\r\n\r\n  const closeAddEditDialog = () => {\r\n    setAddEditDialog((prevState: any) => ({ ...prevState, isOpen: false }));\r\n  };\r\n\r\n  const closeViewDialog = () => {\r\n    setViewDialog((prevState: any) => ({ ...prevState, isOpen: false }));\r\n  };\r\n\r\n  const onSuccessAction = () => {\r\n    listMealRecipies();\r\n    closeAddEditDialog();\r\n  };\r\n\r\n\r\n  const setElipsis = (text: any) => {\r\n    return text?.length >= 25 ? `${text.substring(0, 40)}...` : text;\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    listMealRecipies();\r\n  }, [stateData]);\r\n  return (\r\n    <div className={classes.root}>\r\n      <Page title='Meal Recipe' />\r\n      <Grid alignItems='flex-end' container justify='space-between' spacing={3}>\r\n        <Grid item>\r\n          <Typography component='h1' variant='h3'>\r\n            Meal Recipe\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Button\r\n            variant='contained'\r\n            onClick={() => openAddDialog()}\r\n            className={classes.themeButton}\r\n            startIcon={<AddIcon />}\r\n          >\r\n            Add\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* =============Search======== */}\r\n      {/* <Grid container spacing={3}>\r\n        <Grid item>\r\n          <Paper elevation={0}>\r\n            <TextField\r\n              fullWidth\r\n              size='small'\r\n              placeholder='Name'\r\n              variant='outlined'\r\n              name='state'\r\n            />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid> */}\r\n\r\n      <Card className={classes.tabCard}>\r\n        <CardContent className={classes.content}>\r\n          <TableContainer>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align='center'>#</TableCell>\r\n                  <TableCell align='center'>Meal Recipe Image</TableCell>\r\n                  <TableCell align='center'>Meal Recipe Name</TableCell>\r\n                  <TableCell align='center'>Actions</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {!loading &&\r\n                  mealRecipeTableData.map((data: any, index: number) => (\r\n                    <TableRow hover key={index}>\r\n                      <TableCell align='center'>\r\n                        {stateData.page_limit * (stateData.page_no - 1) +\r\n                          index +\r\n                          1}\r\n                      </TableCell>\r\n                      <TableCell align='center'>\r\n                        <div className={classes.jCenter}>\r\n                          <Avatar variant='square' src={data?.image?.url} />\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align='center'>{data?.name}</TableCell>\r\n                      <TableCell align='center'>\r\n                        <div className={classes.sEvenly}>\r\n                          <Tooltip title='View' arrow>\r\n                            <IconButton\r\n                              className={classes.iconPadd}\r\n                              onClick={() => openViewDialog(data)}\r\n                            >\r\n                              <CenterFocusStrongIcon color='primary' />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title='Edit' arrow>\r\n                            <IconButton\r\n                              className={classes.iconPadd}\r\n                              onClick={() => openEditDialog(data)}\r\n                            >\r\n                              <EditIcon color='action' />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title='Delete' arrow>\r\n                            <IconButton\r\n                              className={classes.iconPadd}\r\n                              onClick={() => onDelete(data)}\r\n                            >\r\n                              <DeleteIcon color='secondary' />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </div>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                {loading && <TableLoader />}\r\n                {!loading && mealRecipeTableData.length == 0 && (\r\n                  <TableNoData>No Data Found</TableNoData>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </CardContent>\r\n\r\n        <CardActions className={classes.actions}>\r\n          <Pagination\r\n            count={pageCount}\r\n            page={stateData.page_no}\r\n            onChange={onPageChange}\r\n          />\r\n        </CardActions>\r\n      </Card>\r\n\r\n      <AddEditModel\r\n        {...addEditDialog}\r\n        onClose={closeAddEditDialog}\r\n        onSuccess={onSuccessAction}\r\n      />\r\n\r\n      <ViewModel {...viewDialog} onClose={closeViewDialog} />\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface MealTerms {\r\n  name: string,\r\n  image: { file: string | null, prevImage: string, isNew: boolean | null },\r\n  term: string\r\n}\r\n\r\ninterface Ingredients {\r\n  id: string,\r\n  quantity: string,\r\n  quantity_unit: string,\r\n}\r\n\r\ninterface MealPlan {\r\n  name: string,\r\n  image: { file: string | null, prevImage: string, isNew: boolean | null },\r\n  nutrition: string,\r\n  description: string,\r\n  protein: string,\r\n  fat: string,\r\n  carbs: string,\r\n  terms: MealTerms[],\r\n  ingredients: Ingredients[],\r\n  preparation_time: string,\r\n  preparation_description: string\r\n\r\n}\r\n\r\nconst mealTerms: MealTerms = {\r\n  name: '',\r\n  image: { file: null, prevImage: '', isNew: null },\r\n  term: ''\r\n}\r\n\r\nconst ingredientsSelect: Ingredients = {\r\n  id: '',\r\n  quantity: '',\r\n  quantity_unit: '',\r\n}\r\n\r\nconst initialFormValues: MealPlan = {\r\n  name: '',\r\n  image: { file: null, prevImage: '', isNew: null },\r\n  nutrition: '',\r\n  description: '',\r\n  protein: '',\r\n  fat: '',\r\n  carbs: '',\r\n  terms: [mealTerms],\r\n  ingredients: [ingredientsSelect],\r\n  preparation_time: '',\r\n  preparation_description: ''\r\n}\r\n\r\nexport const AddEditModel = (props: any) => {\r\n  const { isEdit, isOpen, okBtnText = 'OK', onClose, data, title, onSuccess } = props;\r\n  const classes = useStyles()\r\n  const [initialValues, setInitialValues] = React.useState({ ...initialFormValues });\r\n  const formikRef = React.useRef<any>(null);\r\n  const imageRef = React.useRef<any>(null);\r\n  const [ingredientsList, setIngredientsList] = React.useState([])\r\n  const { Post } = useService();\r\n  const Snackbar = useSnackbar();\r\n\r\n  const onImageChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    event.persist();\r\n    const files = event.target.files;\r\n    if (files && files.length != 0) {\r\n      const reader = new FileReader();\r\n      const file = files[0];\r\n      reader.onloadend = () => {\r\n        formikRef.current.setFieldValue('image', {\r\n          file,\r\n          prevImage: reader.result,\r\n          isNew: true,\r\n        });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      formikRef.current.setFieldValue('image', {\r\n        workoutTermsName: '',\r\n        image: { file: null, prevImage: '', isNew: null },\r\n        description: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  const onSubmit = (value: any, helper: any) => {\r\n    try {\r\n      helper.setSubmitting(true)\r\n\r\n      const renderSubmit = async () => {\r\n        const { terms, ...rest } = value;\r\n        const postData = rest;\r\n\r\n        const TermPromiseArray = Promise.all(terms.map(({image, ...rest}: any)=>uploadNewImage(image).then((imgResponse)=>({image:imgResponse , ...rest}))));\r\n        const [imageResponse,TermImageResponse] = await Promise.all([uploadNewImage(postData.image),TermPromiseArray]);\r\n\r\n        postData.terms = TermImageResponse;\r\n        postData.image = imageResponse\r\n\r\n          !isEdit && addData(postData, helper);\r\n          isEdit && editData(postData, helper);\r\n\r\n        // const TermPromiseArray = terms.map(async (termData: any) => {\r\n        //   let { image, ...rest } = termData\r\n        //   return uploadNewImage(image)\r\n        // })\r\n\r\n        // Promise.all(TermPromiseArray).then((termData: any) => {\r\n\r\n        //   postData.terms = termData;\r\n        //   return uploadNewImage(postData.image)\r\n\r\n        // }).then((imageUrl: any) => {\r\n\r\n        //   postData.image = imageUrl\r\n        //   !isEdit && addData(postData, helper);\r\n        //   isEdit && editData(postData, helper);\r\n\r\n        // }).catch((err: any) => {\r\n\r\n        //   Snackbar.show('Internal Server Error', 'error');\r\n        // });\r\n      }\r\n      renderSubmit()\r\n    }\r\n    catch {\r\n      Snackbar.show('Image Upload Failed', 'error');\r\n    }\r\n  }\r\n\r\n  const addData = async (value: any, { setSubmitting, resetForm }: any) => {\r\n    await Post('app/addMealRecipe', value)\r\n      .then((res: any) => {\r\n        Snackbar.show(res.message, 'success');\r\n        setSubmitting(false);\r\n        resetForm();\r\n        onSuccess();\r\n      })\r\n      .catch((err: any) => {\r\n        Snackbar.show(err.message, 'error');\r\n      });\r\n  };\r\n\r\n  const editData = async (data: any, { setSubmitting, resetForm }: any) => {\r\n    setSubmitting(true);\r\n    await Post('app/editMealRecipe', data)\r\n      .then((res: any) => {\r\n        Snackbar.show(res.message, 'success');\r\n        setSubmitting(false);\r\n        resetForm();\r\n        onSuccess();\r\n      })\r\n      .catch((err: any) => {\r\n        Snackbar.show(err.message, 'error');\r\n      });\r\n  };\r\n\r\n  const listAllMealRecipe = () => {\r\n    Post('app/listAllMealIngredient', {})\r\n      .then((res: any) => {\r\n        if (!res.error) {\r\n          let getequipmentList = res.data.map((data: any) => {\r\n            data.id = data._id;\r\n            return data;\r\n          });\r\n          setIngredientsList(getequipmentList);\r\n        } else {\r\n          Snackbar.show(res.message, 'error');\r\n        }\r\n      })\r\n      .catch((err: any) => {\r\n        Snackbar.show(err.message, 'error');\r\n      });\r\n  }\r\n\r\n  const addMealRecipeTerms = (values: MealPlan, push: any) => {\r\n    const { terms } = values\r\n    push(mealTerms);\r\n  }\r\n\r\n  const addIngredients = (values: MealPlan, push: any) => {\r\n    const { ingredients } = values;\r\n    push(ingredientsSelect)\r\n  }\r\n\r\n  const removeIngredients = (values: MealPlan, items: any, setFieldValue: any) => {\r\n    const { ingredients } = values;\r\n    const sampleDummyArray = [...ingredients];\r\n    sampleDummyArray.splice(sampleDummyArray.indexOf(items), 1)\r\n    setFieldValue('ingredients', sampleDummyArray)\r\n  }\r\n\r\n  const handleOptionChange = (event: React.ChangeEvent<HTMLInputElement>, value: any, index: any) => {\r\n    formikRef.current.setFieldValue(`ingredients[${index}].id`, value?.id);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    listAllMealRecipe();\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (isEdit) {\r\n      console.log(data)\r\n      const { terms, image, _id, ingredients, ...rest } = data;\r\n      const editData = { ...rest, id: _id };\r\n      const RecipeIds = ingredientsList.map(({ _id }: any) => _id)\r\n      editData.image = { file: image, prevImage: image?.url, isNew: false };\r\n      editData.ingredients = ingredients.filter(({ _id }: any) => RecipeIds.includes(_id)).map(({ _id, quantity, quantity_unit }: any) => ({ id: _id, quantity , quantity_unit}))\r\n \r\n      editData.terms = terms.map((items: any) => {\r\n        return {\r\n          name: items.name,\r\n          image: { file: items.image, prevImage: items.image.url, isNew: false },\r\n          term: items.term\r\n        }\r\n      })\r\n      setInitialValues(editData)\r\n    }\r\n    else {\r\n      setInitialValues(initialFormValues)\r\n    }\r\n  }, [props])\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={isOpen}\r\n        disableBackdropClick\r\n        disableEscapeKeyDown\r\n        fullWidth\r\n        maxWidth='md'\r\n        aria-labelledby='dialog-title'\r\n      >\r\n        <DialogTitle id='dialog-title' onClose={onClose}>\r\n          {title}\r\n        </DialogTitle>\r\n        <Formik\r\n          innerRef={formikRef}\r\n          enableReinitialize\r\n          initialValues={initialValues}\r\n          onSubmit={onSubmit}\r\n          validationSchema={Yup.object().shape({\r\n            name: Yup.string().trim().required('Name is required'),\r\n            nutrition: Yup.string().trim().required('Nutrition is required'),\r\n            description: Yup.string().trim().max(250, 'Must be 250 characters or less').required('Description is required'),\r\n            protein: Yup.number().typeError('Protein must be in number').required('Protein is required'),\r\n            fat: Yup.number().typeError('Fat must be in number').required('Fat is required'),\r\n            carbs: Yup.number().typeError('Carbs must be in number').required('Carbs is required'),\r\n            terms: Yup.array().of(\r\n              Yup.object().shape({\r\n                name: Yup.string()\r\n                  .trim()\r\n                  .required('Meal recipe name is Required'),\r\n                image: Yup.object({\r\n                  file: Yup.mixed().required('required'),\r\n                }),\r\n                term: Yup.string()\r\n                  .trim()\r\n                  .max(250, 'Must be 250 characters or less')\r\n                  .required('Meal Recipe terms is Required'),\r\n              })\r\n            ),\r\n            ingredients: Yup.array().of(\r\n              Yup.object().shape({\r\n                id: Yup.string().trim().required('Ingredients is Required'),\r\n                quantity: Yup.string().required('Quantity is Required'),\r\n                // quantity_unit: Yup.string().trim().required('Quantity unit is required'),\r\n              })),\r\n            preparation_time: Yup.string().trim().required('Preparation time is required'),\r\n            preparation_description: Yup.string().required('Preparation description is required'),\r\n            image: Yup.object({\r\n              file: Yup.mixed().required('A file is required'),\r\n            }),\r\n          })}\r\n        >\r\n          {({ values, errors, touched, handleBlur, handleChange, setFieldValue, submitForm, setFieldTouched, isSubmitting, }) => (\r\n            <>\r\n            {console.log(values)}\r\n              <DialogContent dividers>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} md={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label='Name'\r\n                      name='name'\r\n                      variant='outlined'\r\n                      value={values.name}\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      error={Boolean(\r\n                        touched.name && errors.name\r\n                      )}\r\n                      helperText={\r\n                        touched.name && errors.name\r\n                      }\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} md={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      multiline\r\n                      label='Description'\r\n                      name='description'\r\n                      variant='outlined'\r\n                      value={values.description}\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      error={Boolean(\r\n                        touched.description && errors.description\r\n                      )}\r\n                      helperText={\r\n                        touched.description && errors.description\r\n                      }\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} md={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label='Nutrition'\r\n                      name='nutrition'\r\n                      variant='outlined'\r\n                      value={values.nutrition}\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      error={Boolean(\r\n                        touched.nutrition && errors.nutrition\r\n                      )}\r\n                      helperText={\r\n                        touched.nutrition && errors.nutrition\r\n                      }\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} md={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label='Protein ( g )'\r\n                      name='protein'\r\n                      variant='outlined'\r\n                      value={values.protein}\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      error={Boolean(\r\n                        touched.protein && errors.protein\r\n                      )}\r\n                      helperText={\r\n                        touched.protein && errors.protein\r\n                      }\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} md={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label='Fat ( g )'\r\n                      name='fat'\r\n                      variant='outlined'\r\n                      value={values.fat}\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      error={Boolean(\r\n                        touched.fat && errors.fat\r\n                      )}\r\n                      helperText={\r\n                        touched.fat && errors.fat\r\n                      }\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} md={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label='Carbs ( g )'\r\n                      name='carbs'\r\n                      variant='outlined'\r\n                      value={values.carbs}\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      error={Boolean(\r\n                        touched.carbs && errors.carbs\r\n                      )}\r\n                      helperText={\r\n                        touched.carbs && errors.carbs\r\n                      }\r\n                    />\r\n                  </Grid>\r\n                  <FieldArray name='terms' validateOnChange>\r\n                    {({push, remove})=>(\r\n                      <>\r\n                        <Grid item md={12} xs={12}>\r\n                          <Button\r\n                            fullWidth\r\n                            className={classes.themeButton}\r\n                            variant='contained'\r\n                            color='default'\r\n                            onClick={() => addMealRecipeTerms(values, push)}\r\n                            endIcon={<ControlPointIcon />}\r\n                          >\r\n                            Add Terms\r\n                          </Button>\r\n                        </Grid>\r\n\r\n                        {values?.terms?.map((items: any, index: any) => <TermsComponent key={index} index={index} remove={remove} getLength = {values?.terms?.length} />)}\r\n                      </>\r\n                    )}\r\n                  </FieldArray>\r\n                  <FieldArray name='ingredients'>\r\n                    {({push,remove})=>(\r\n                      <>\r\n                        <Grid item md={12} xs={12}>\r\n                          <Button\r\n                            fullWidth\r\n                            className={classes.themeButton}\r\n                            variant='contained'\r\n                            color='default'\r\n                            onClick={() => addIngredients(values, push)}\r\n                            endIcon={<ControlPointIcon />}\r\n                          >\r\n                            Add Ingredients\r\n                          </Button>\r\n                        </Grid>\r\n                        {values?.ingredients?.map((items: any, index: any) => (\r\n                          <Grid\r\n                            key={index}\r\n                            item\r\n                            container\r\n                            md={12}\r\n                            xs={12}\r\n                            direction='row'\r\n                            spacing={2}\r\n                          >\r\n                            <Grid item md={5} xs={12}>\r\n                              <Autocomplete\r\n                                fullWidth\r\n                                options={ingredientsList}\r\n                                value={ingredientsList.find(\r\n                                  (data: any) => data._id == items.id\r\n                                )}\r\n                                getOptionLabel={(option: any) => option.name}\r\n                                getOptionSelected={(option) =>\r\n                                  option.id == items.id\r\n                                }\r\n                                onChange={(event: any, newValue) => handleOptionChange(event, newValue, index)}\r\n                                onBlur={handleBlur}\r\n                                renderInput={(params) => (\r\n                                  <TextField\r\n                                    {...params}\r\n                                    label='Ingredients'\r\n                                    variant='outlined'\r\n                                    error={Boolean(\r\n                                      touched?.ingredients && touched?.ingredients[index]?.id &&\r\n                                      errors?.ingredients && (errors?.ingredients[index] as Ingredients)?.id\r\n                                    )}\r\n                                    helperText={\r\n                                      touched?.ingredients && touched?.ingredients[index]?.id &&\r\n                                      errors?.ingredients && (errors?.ingredients[index] as Ingredients)?.id\r\n                                    }\r\n                                    inputProps={{\r\n                                      ...params.inputProps,\r\n                                    }}\r\n                                  />\r\n                                )}\r\n                              />\r\n                            </Grid>\r\n                            <Grid item md={6} xs={8}>\r\n                              <TextField\r\n                                fullWidth\r\n                                label='Quantity'\r\n                                name={`ingredients[${index}].quantity`}\r\n                                variant='outlined'\r\n                                error={Boolean(touched?.ingredients && touched?.ingredients[index]?.quantity && errors?.ingredients &&\r\n                                  (errors?.ingredients[index] as any)?.quantity)}\r\n                                helperText={\r\n                                  touched?.ingredients && touched?.ingredients[index]?.quantity &&\r\n                                  errors?.ingredients && (errors?.ingredients[index] as any)?.quantity }\r\n                                value={items.quantity}\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                // InputProps={{\r\n                                //   classes: {\r\n                                //     adornedEnd: classes.textareaAdornedEnd\r\n                                //   },\r\n                                //   endAdornment: <UnitSelect id={`ingredients[${index}].quantity_unit`} option={UnitDropdown} name={`ingredients[${index}].quantity_unit`} value={items.quantity_unit} onChange={handleChange} onBlur={handleBlur} />\r\n                                // }}\r\n                              />\r\n                            </Grid>\r\n                            {values?.ingredients?.length > 1 && (\r\n                              <Grid item md={1} xs={4}>\r\n                                <Button\r\n                                  fullWidth\r\n                                  className={classes.deleteButton}\r\n                                  variant='contained'\r\n                                  color='secondary'\r\n                                  onClick={() => remove(index)}\r\n                                >\r\n                                  <DeleteIcon />\r\n                                </Button>\r\n                              </Grid>\r\n                            )}\r\n                          </Grid>\r\n                        ))}\r\n                      </>\r\n                    )}\r\n                  </FieldArray>\r\n\r\n                  <Grid item xs={12} md={12}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label='Preparation Time'\r\n                      name='preparation_time'\r\n                      variant='outlined'\r\n                      value={values.preparation_time}\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      error={Boolean(\r\n                        touched.preparation_time && errors.preparation_time\r\n                      )}\r\n                      helperText={\r\n                        touched.preparation_time && errors.preparation_time\r\n                      }\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item md={12} xs={12}>\r\n                    <FormControl\r\n                      fullWidth\r\n                      error={Boolean(\r\n                        touched?.preparation_description &&\r\n                        errors?.preparation_description\r\n                      )}\r\n                    >\r\n                      <TipTapEditor\r\n                        value={values.preparation_description}\r\n                        onChange={(value: any) => setFieldValue('preparation_description', value)}\r\n                        onBlur={() => setFieldTouched('preparation_description', true, true)}\r\n                      />\r\n\r\n                      <FormHelperText>\r\n                        {touched?.preparation_description &&\r\n                          errors?.preparation_description}\r\n                      </FormHelperText>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid item md={12} xs={12}>\r\n                    <input\r\n                      name='image'\r\n                      ref={imageRef}\r\n                      type='file'\r\n                      accept='.jpg,.png,jpeg'\r\n                      onChange={onImageChange}\r\n                      onBlur={handleBlur}\r\n                      hidden\r\n                    />\r\n                    <Button\r\n                      fullWidth\r\n                      className={classes.themeButton}\r\n                      variant='contained'\r\n                      color='default'\r\n                      onClick={() => imageRef.current.click()}\r\n                      startIcon={<CloudUploadIcon />}\r\n                    >\r\n                      Upload Image\r\n                    </Button>\r\n                    <FormControl\r\n                      error={Boolean(\r\n                        touched?.image?.file && errors?.image?.file\r\n                      )}\r\n                    >\r\n                      <FormHelperText>\r\n                        {touched?.image?.file &&\r\n                          errors?.image?.file}\r\n                      </FormHelperText>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid item md={12} xs={12}>\r\n                    {values.image?.prevImage && (\r\n                      <img\r\n                        className={classes.imageView}\r\n                        src={values.image?.prevImage}\r\n                      />\r\n                    )}\r\n                  </Grid>\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button onClick={onClose} variant='outlined' color='secondary'>\r\n                  Cancel\r\n                </Button>\r\n\r\n                <Button\r\n                  className={classes.themeButton}\r\n                  onClick={() => submitForm()}\r\n                  disabled={isSubmitting}\r\n                  variant='outlined'\r\n                >\r\n                  {isSubmitting ? (\r\n                    <CircularProgress size={24} style={{ color: 'white' }} />\r\n                  ) : (\r\n                    okBtnText\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n\r\nconst TermsComponent = (props: any) => {\r\n  const FormikContext = useFormikContext()\r\n  const [{ values, errors, touched, setFieldValue, handleBlur, handleChange }, setFormikContext] = useState(FormikContext)\r\n  const { index } = props;\r\n  const classes = useStyles()\r\n  const imgRef = useRef<any>(null)\r\n  const FieldName = `terms[${index}]`;\r\n  const FieldValue = getIn(values, `terms[${index}]`);\r\n  const FieldError = getIn(errors, `terms[${index}]`);\r\n  const FieldTouched = getIn(touched, `terms[${index}]`);\r\n\r\n  const onImageChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    event.persist();\r\n    const files = event.target.files;\r\n    if (files && files.length != 0) {\r\n      const reader = new FileReader();\r\n      const file = files[0];\r\n      reader.onloadend = () => {\r\n        setFieldValue(`${FieldName}.image`, { file, prevImage: reader.result, isNew: true, });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      setFieldValue(`${FieldName}.image`, { file: null, prevImage: '', isNew: null });\r\n    }\r\n  }\r\n\r\n  // const removeTerm = () => {\r\n  //   const OldTerms = getIn(values, 'terms');\r\n  //   const Terms = OldTerms.filter((d: any, i: number) => i != index);\r\n  //   setFieldValue('terms', Terms);\r\n  // }\r\n\r\n  useEffect(() => {\r\n    setFormikContext(FormikContext)\r\n  }, [FormikContext])\r\n\r\n  return (\r\n    <Grid\r\n      item\r\n      container\r\n      md={12}\r\n      xs={12}\r\n      direction='row'\r\n      spacing={2}\r\n    >\r\n      <Grid item md={1} xs={12}>\r\n        <input\r\n          name={`${FieldName}.image`}\r\n          ref={imgRef}\r\n          type='file'\r\n          accept='.jpg,.png,jpeg'\r\n          onChange={(e) => onImageChange(e)}\r\n          onBlur={handleBlur}\r\n          hidden\r\n        />\r\n        <Avatar\r\n          className={classes.workouttermsavatar}\r\n          variant='square'\r\n          onClick={() => imgRef?.current?.click()}\r\n          src={FieldValue?.image?.prevImage}\r\n        />\r\n        <FormControl error={Boolean(FieldTouched?.image?.file && FieldError?.image?.file)}>\r\n          <FormHelperText>{FieldTouched?.image?.file && FieldError?.image?.file}</FormHelperText>\r\n        </FormControl>\r\n      </Grid>\r\n\r\n      <Grid item md={5} xs={12}>\r\n        <TextField\r\n          fullWidth\r\n          multiline\r\n          label='Terms name'\r\n          name={`${FieldName}.name`}\r\n          variant='outlined'\r\n          error={Boolean(FieldTouched?.name && FieldError?.name)}\r\n          helperText={FieldTouched?.name && FieldError?.name}\r\n          value={FieldValue.name}\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n        />\r\n      </Grid>\r\n      <Grid item md={5} xs={8}>\r\n        <TextField\r\n          fullWidth\r\n          multiline\r\n          label='Terms description'\r\n          name={`${FieldName}.term`}\r\n          variant='outlined'\r\n          error={Boolean(FieldTouched?.term && FieldError?.term)}\r\n          helperText={FieldTouched?.term && FieldError?.term}\r\n          value={FieldValue.term}\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n        />\r\n      </Grid>\r\n      {props.getLength > 1 && (\r\n        <Grid item md={1} xs={4}>\r\n          <Button\r\n            fullWidth\r\n            className={classes.deleteButton}\r\n            variant='contained'\r\n            color='secondary'\r\n            onClick={() => props.remove(index)}\r\n          >\r\n            <DeleteIcon />\r\n          </Button>\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n\r\n  )\r\n}\r\n\r\nexport const ViewModel = (props: any) => {\r\n  const { isOpen, title, onClose, data } = props;\r\n  const classes = useStyles();\r\n  const [formValue, setFormValue] = React.useState(data);\r\n  React.useEffect(() => {\r\n    setFormValue(data);\r\n  }, [props]);\r\n\r\n  return (\r\n    <Dialog\r\n      disableBackdropClick\r\n      disableEscapeKeyDown\r\n      fullWidth\r\n      maxWidth='sm'\r\n      aria-labelledby='dialog-view-title'\r\n      open={isOpen}\r\n    >\r\n      <DialogTitle id='dialog-view-title' onClose={onClose}>\r\n        {title}\r\n      </DialogTitle>\r\n\r\n      <DialogContent dividers>\r\n        <div>\r\n          <img\r\n            src={formValue?.image?.url}\r\n            alt={'Workout image'}\r\n            className={classes.imageView}\r\n          />\r\n        </div>\r\n        <Typography variant='h4'><strong>{formValue?.name}</strong></Typography>\r\n\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          className={classes.ingrdientsGridMain}\r\n          justify='center'\r\n        >\r\n          {formValue?.terms?.map((value: any, index: any) => (\r\n            <Grid key={index} item xs={4} md={3}>\r\n              <Avatar\r\n                className={classes.ingredientsAvatarRoot}\r\n                src={value?.image?.url}\r\n              />\r\n              <Typography variant='h6' align='center'>\r\n                {value?.name}\r\n              </Typography>\r\n              <Typography variant='subtitle2' align='center'>\r\n                {value.term.length >= 25\r\n                  ? `${value.term.substring(0, 30)}...`\r\n                  : value.term}\r\n              </Typography>\r\n            </Grid>\r\n          ))}\r\n          {formValue?.workout_terms?.length == 0 && (\r\n            <Grid item xs={12} md={12} className={classes.noIngredientsText}>\r\n              <div>No Ingredients</div>\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n\r\n        <Typography variant='h5' align='left' style={{ color: '#41A58D' }} className={classes.textPrimary}>\r\n          INGREDIENTS\r\n        </Typography>\r\n\r\n        {formValue?.ingredients?.map((items: any, index: any) => {\r\n          return (\r\n            <List>\r\n              <ListItem>\r\n                <ListItemAvatar>\r\n                  <Avatar className={classes.avatarRoot} src={items.image?.url} />\r\n                </ListItemAvatar>\r\n                <ListItemText primary={items?.name} secondary={items?.description} />\r\n                <Typography>{items.quantity} {items.quantity_unit}</Typography>\r\n              </ListItem>\r\n            </List>\r\n          )\r\n        })}\r\n\r\n        <Typography variant='h5' align='left' style={{ color: '#41A58D' }} className={classes.textPrimary}>\r\n          NUTRITIONAL INFORMATION\r\n        </Typography>\r\n\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          className={classes.ingrdientsGridMain}\r\n          justify='center'\r\n        >\r\n          <Grid item xs={4} md={3}>\r\n            <Avatar\r\n              className={classes.ingredientsAvatarRoot}\r\n              src={CarbsImages}\r\n            />\r\n            <Typography align='center'>Carbs</Typography>\r\n            <Typography align='center'>{formValue?.carbs}g</Typography>\r\n          </Grid>\r\n          <Grid item xs={4} md={3}>\r\n            <Avatar\r\n              className={classes.ingredientsAvatarRoot}\r\n              src={ProteinsImages}\r\n            />\r\n            <Typography align='center'>Protein</Typography>\r\n            <Typography align='center'>{formValue?.protein}g</Typography>\r\n          </Grid>\r\n          <Grid item xs={4} md={3}>\r\n            <Avatar\r\n              className={classes.ingredientsAvatarRoot}\r\n              src={FatImages}\r\n            />\r\n            <Typography align='center'>Fat</Typography>\r\n            <Typography align='center'>{formValue?.fat}g</Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Typography variant='h6' align='left' style={{ color: '#41A58D', marginTop: '20px' }}><strong>PREPARATION</strong></Typography>\r\n        <Typography variant='body2' align='center' className={classes.timeText}>\r\n          <TimerIcon fontSize='inherit' />\r\n          <span>{formValue?.preparation_time}</span>\r\n        </Typography>\r\n\r\n        <Grid container >\r\n          <Grid item xs={12} md={12} className={classes.htmlContentGrid}>\r\n            <div className={classes.htmlContent} dangerouslySetInnerHTML={{ __html: formValue?.preparation_description }} />\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button onClick={onClose} variant='outlined' color='secondary'>\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default MealRecipe\r\n"]},"metadata":{},"sourceType":"module"}