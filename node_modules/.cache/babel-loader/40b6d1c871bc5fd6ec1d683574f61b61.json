{"ast":null,"code":"import _objectWithoutProperties from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _toConsumableArray from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Avatar,Button,Card,CardActions,CardContent,CircularProgress,Dialog,DialogActions,DialogContent,FormControl,FormHelperText,Grid,IconButton,makeStyles,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TextField,Tooltip,Typography}from'@material-ui/core';import AddIcon from'@material-ui/icons/Add';import CenterFocusStrongIcon from'@material-ui/icons/CenterFocusStrong';import CloudUploadIcon from'@material-ui/icons/CloudUpload';import ControlPointIcon from'@material-ui/icons/ControlPoint';import DeleteIcon from'@material-ui/icons/Delete';import EditIcon from'@material-ui/icons/Edit';import{Pagination}from'@material-ui/lab';import{Formik}from'formik';import React,{useEffect,useRef,useState}from'react';import*as Yup from'yup';import DialogTitle from'../../components/DialogTitlle/DialogTitle';import{TableLoader,TableNoData}from'../../components/Loader/Loader';import Page from'../../components/Page/Page';import UnitSelect from'../../components/UnitSelect/UnitSelect';import UnitDropdown from'../../utils/MetricUnits';import useConfModel from'../../hook/useConfModel';import useService from'../../hook/useService';import useSnackbar from'../../hook/useSnackbar';import{uploadNewImage}from'../../utils/CloudinaryUtils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{width:theme.breakpoints.values.lg,maxWidth:'100%',margin:'0 auto',padding:theme.spacing(3)},content:{padding:0},tabCard:{marginTop:theme.spacing(3)},themeButton:{color:theme.palette.white,backgroundColor:theme.palette.green.main,'&:hover':{backgroundColor:theme.palette.green.dark}},sEvenly:{display:'flex',justifyContent:'space-evenly'},iconPadd:{padding:5},jCenter:{display:'flex',justifyContent:'center'},actions:{padding:theme.spacing(1),justifyContent:'center'},deleteButton:{width:'100%',height:'50px'},imageView:{width:'100%',height:'100%'},textareaAdornedEnd:{paddingRight:0}};});function NutritionIngredients(){var classes=useStyles();var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var Snackbar=useSnackbar();var ConfModel=useConfModel();var _useService=useService(),Post=_useService.Post;var _useState=useState({page_no:1,page_limit:10}),_useState2=_slicedToArray(_useState,2),stateData=_useState2[0],setStateData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),pageCount=_useState4[0],setPageCount=_useState4[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),ingredientList=_React$useState4[0],setIngredientList=_React$useState4[1];var _React$useState5=React.useState({isOpen:false,title:'',okBtnText:'',isEdit:false,data:{}}),_React$useState6=_slicedToArray(_React$useState5,2),addEditDialog=_React$useState6[0],setAddEditDialog=_React$useState6[1];var _useState5=useState({isOpen:false,title:'',data:{}}),_useState6=_slicedToArray(_useState5,2),viewDialog=_useState6[0],setViewDialog=_useState6[1];var listNutritionIngredient=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);Post('app/listMealIngredient',stateData).then(function(res){setLoading(false);if(!res.error){setIngredientList(res.data);setPageCount(res.page_count);}else{Snackbar.show(res.message,'error');}}).catch(function(err){console.log('err',err);setLoading(false);Snackbar.show(err.message,'error');});case 2:case\"end\":return _context.stop();}}},_callee);}));return function listNutritionIngredient(){return _ref.apply(this,arguments);};}();var onPageChange=function onPageChange(event,value){setStateData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{page_no:value});});};var openAddDialog=function openAddDialog(){setAddEditDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:true,title:'Add Nutrition Ingredients',isEdit:false,okBtnText:'Save'});});};var openEditDialog=function openEditDialog(data){setAddEditDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:true,isEdit:true,data:data,title:'Edit Nutrition Ingredients',okBtnText:'Edit'});});};var openViewDialog=function openViewDialog(data){setViewDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:true,data:data,title:'View Nutrition Ingredient'});});};var onDelete=function onDelete(data){var openModel=ConfModel.openModel,setLoading=ConfModel.setLoading,closeModel=ConfModel.closeModel;var submitFunction=function submitFunction(){setLoading(true);Post('app/deleteMealIngredient',{id:data._id}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(false);closeModel();onSuccessAction();Snackbar.show(res.message,'success');case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){setLoading(false);Snackbar.show('Internal Server Error','error');});};openModel(submitFunction);};var closeViewDialog=function closeViewDialog(){setViewDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:false});});};var closeAddEditDialog=function closeAddEditDialog(){setAddEditDialog(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isOpen:false});});};var setElipsis=function setElipsis(text){return(text===null||text===void 0?void 0:text.length)>=25?\"\".concat(text.substring(0,40),\"...\"):text;};var onSuccessAction=function onSuccessAction(){listNutritionIngredient();closeAddEditDialog();};useEffect(function(){listNutritionIngredient();},[stateData]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(Page,{title:\"Nutrition Ingredients\"}),/*#__PURE__*/_jsxs(Grid,{alignItems:\"flex-end\",container:true,justify:\"space-between\",spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h3\",children:\"Nutrition Ingredients\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){return openAddDialog();},className:classes.themeButton,startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Add\"})})]}),/*#__PURE__*/_jsxs(Card,{className:classes.tabCard,children:[/*#__PURE__*/_jsx(CardContent,{className:classes.content,children:/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Image\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Description\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[!loading&&ingredientList.map(function(data,index){var _data$image;return/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:stateData.page_limit*(stateData.page_no-1)+index+1}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:classes.jCenter,children:/*#__PURE__*/_jsx(Avatar,{variant:\"square\",src:data===null||data===void 0?void 0:(_data$image=data.image)===null||_data$image===void 0?void 0:_data$image.url})})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:data===null||data===void 0?void 0:data.name}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Tooltip,{title:data===null||data===void 0?void 0:data.description,children:/*#__PURE__*/_jsx(\"span\",{children:setElipsis(data===null||data===void 0?void 0:data.description)})})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsxs(\"div\",{className:classes.sEvenly,children:[/*#__PURE__*/_jsx(Tooltip,{title:\"View\",arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:classes.iconPadd,onClick:function onClick(){return openViewDialog(data);},children:/*#__PURE__*/_jsx(CenterFocusStrongIcon,{color:\"primary\"})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Edit\",arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:classes.iconPadd,onClick:function onClick(){return openEditDialog(data);},children:/*#__PURE__*/_jsx(EditIcon,{color:\"action\"})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Delete\",arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:classes.iconPadd,onClick:function onClick(){return onDelete(data);},children:/*#__PURE__*/_jsx(DeleteIcon,{color:\"secondary\"})})})]})})]},index);}),loading&&/*#__PURE__*/_jsx(TableLoader,{}),!loading&&ingredientList.length==0&&/*#__PURE__*/_jsx(TableNoData,{children:\"No Data Found\"})]})]})})}),/*#__PURE__*/_jsx(CardActions,{className:classes.actions,children:/*#__PURE__*/_jsx(Pagination,{count:pageCount,page:stateData.page_no,onChange:onPageChange})})]}),/*#__PURE__*/_jsx(AddandEditDialogue,_objectSpread(_objectSpread({},addEditDialog),{},{onClose:closeAddEditDialog,onSuccess:onSuccessAction})),viewDialog.isOpen&&/*#__PURE__*/_jsx(ViewIngredientModel,_objectSpread(_objectSpread({},viewDialog),{},{onClose:closeViewDialog}))]});}var AddandEditDialogue=function AddandEditDialogue(props){var isEdit=props.isEdit,isOpen=props.isOpen,_props$okBtnText=props.okBtnText,okBtnText=_props$okBtnText===void 0?'OK':_props$okBtnText,onClose=props.onClose,data=props.data,title=props.title,onSuccess=props.onSuccess;var classes=useStyles();var formikRef=useRef(null);var imageRef=useRef(null);var Snackbar=useSnackbar();var _useService2=useService(),Post=_useService2.Post;var initialValues={nutrientName:'',image:{file:null,prevImage:'',isNew:null},quantity:'',protein:'',quantity_unit:'',fat:'',carbs:'',calories:'',benfits:[],description:''};var _React$useState7=React.useState(_objectSpread({},initialValues)),_React$useState8=_slicedToArray(_React$useState7,2),initialFormValues=_React$useState8[0],setInitialFormValues=_React$useState8[1];var _React$useState9=React.useState([]),_React$useState10=_slicedToArray(_React$useState9,2),addBenifits=_React$useState10[0],setAddBenifits=_React$useState10[1];var handleAddBenifits=function handleAddBenifits(event){event.preventDefault();var dummyData=[].concat(_toConsumableArray(addBenifits),['']);setAddBenifits(dummyData);formikRef.current.setFieldValue('benfits',dummyData);};var removeBenifits=function removeBenifits(item){var deleteBenifitsData=_toConsumableArray(addBenifits);deleteBenifitsData.splice(deleteBenifitsData.indexOf(item),1);formikRef.current.setFieldValue('benfits',deleteBenifitsData);setAddBenifits(deleteBenifitsData);};var handleBenifitChange=function handleBenifitChange(event,index){addBenifits[index]=event.target.value;formikRef.current.setFieldValue('benfits',_toConsumableArray(addBenifits));};var onSubmit=function onSubmit(value,helper){try{helper.setSubmitting(true);var renderSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var image,nutrientName,rest,postData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:image=value.image,nutrientName=value.nutrientName,rest=_objectWithoutProperties(value,[\"image\",\"nutrientName\"]);postData=rest;postData.name=nutrientName;_context3.next=5;return uploadNewImage(image);case 5:postData.image=_context3.sent;!isEdit&&addData(postData,helper);isEdit&&editData(postData,helper);case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function renderSubmit(){return _ref3.apply(this,arguments);};}();renderSubmit();}catch(_unused){Snackbar.show('Image Upload Failed','error');}};var addData=function addData(data,_ref4){var setSubmitting=_ref4.setSubmitting,resetForm=_ref4.resetForm;setSubmitting(true);Post('app/addMealIngredient',data).then(function(res){Snackbar.show(res.message,'success');setSubmitting(false);resetForm();onSuccess();}).catch(function(err){setSubmitting(false);Snackbar.show(err.message,'error');});};var editData=function editData(data,_ref5){var setSubmitting=_ref5.setSubmitting,resetForm=_ref5.resetForm;setSubmitting(true);Post('app/editMealIngredient',data).then(function(res){Snackbar.show(res.message,'success');setSubmitting(false);resetForm();onSuccess();}).catch(function(err){setSubmitting(false);Snackbar.show(err.message,'error');});};var onImageChange=function onImageChange(e){e.persist();var files=e.target.files;if(files&&files.length!=0){var reader=new FileReader();var file=files[0];reader.onloadend=function(){formikRef.current.setFieldValue('image',{file:file,prevImage:reader.result,isNew:true});};reader.readAsDataURL(file);}// else {\n//   formikRef.current.setFieldValue('image', {\n//     file: null,\n//     prevImage: '',\n//     isNew: null,\n//   });\n// }\n};useEffect(function(){if(isEdit){var name=data.name,image=data.image,_id=data._id,rest=_objectWithoutProperties(data,[\"name\",\"image\",\"_id\"]);var _editData=_objectSpread(_objectSpread({},rest),{},{id:_id});_editData.nutrientName=name;_editData.image={file:image,isNew:false,prevImage:image===null||image===void 0?void 0:image.url};setAddBenifits(data.benfits);setInitialFormValues(_editData);}else{setInitialFormValues(initialValues);}},[props]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dialog,{open:isOpen,disableBackdropClick:true,disableEscapeKeyDown:true,fullWidth:true,maxWidth:\"md\",\"aria-labelledby\":\"dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"dialog-title\",onClose:onClose,children:title}),/*#__PURE__*/_jsx(Formik,{innerRef:formikRef,enableReinitialize:true,initialValues:initialFormValues,onSubmit:onSubmit,validationSchema:Yup.object().shape({nutrientName:Yup.string().trim().required('Name is required'),quantity:Yup.number().typeError('Quantity must be in number').required('Quality is required'),protein:Yup.number().typeError('Protein must be in number').required('Protein is required'),quantity_unit:Yup.string().trim().required('Quantity unit is required'),fat:Yup.number().typeError('Fat must be in number').required('Fat is required'),carbs:Yup.number().typeError('Carbs must be in number').required('Carbs is required'),calories:Yup.number().typeError('Calories must be in number').required('Calories is required'),description:Yup.string().trim().max(250,'Must be 250 characters or less').required('Description is required'),image:Yup.object({file:Yup.mixed().required('A file is required')}),benfits:Yup.array().of(Yup.string().required('Benefits is required'))}),children:function children(_ref6){var _values$benfits,_touched$image,_errors$image,_touched$image2,_errors$image2,_values$image,_values$image2;var values=_ref6.values,errors=_ref6.errors,touched=_ref6.touched,handleBlur=_ref6.handleBlur,handleChange=_ref6.handleChange,submitForm=_ref6.submitForm,isSubmitting=_ref6.isSubmitting;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Name\",name:\"nutrientName\",variant:\"outlined\",error:Boolean(touched.nutrientName&&errors.nutrientName),helperText:touched.nutrientName&&errors.nutrientName,value:values.nutrientName,onChange:handleChange,onBlur:handleBlur})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Quantity\",name:\"quantity\",variant:\"outlined\",error:Boolean(touched.quantity&&errors.quantity)||Boolean(touched.quantity_unit&&errors.quantity_unit),helperText:touched.quantity&&errors.quantity||touched.quantity_unit&&errors.quantity_unit,value:values.quantity,onChange:handleChange,onBlur:handleBlur,InputProps:{classes:{adornedEnd:classes.textareaAdornedEnd},endAdornment:/*#__PURE__*/_jsx(UnitSelect,{id:\"quantity_unit\",option:UnitDropdown,name:\"quantity_unit\",value:values.quantity_unit,onChange:handleChange,onBlur:handleBlur})}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Protein ( g )\",name:\"protein\",variant:\"outlined\",error:Boolean(touched.protein&&errors.protein),helperText:touched.protein&&errors.protein,value:values.protein,onChange:handleChange,onBlur:handleBlur})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Fat ( g )\",name:\"fat\",variant:\"outlined\",error:Boolean(touched.fat&&errors.fat),helperText:touched.fat&&errors.fat,value:values.fat,onChange:handleChange,onBlur:handleBlur})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Carbs ( g )\",name:\"carbs\",variant:\"outlined\",error:Boolean(touched.carbs&&errors.carbs),helperText:touched.carbs&&errors.carbs,value:values.carbs,onChange:handleChange,onBlur:handleBlur})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Calories ( kcal )\",name:\"calories\",variant:\"outlined\",error:Boolean(touched.calories&&errors.calories),helperText:touched.calories&&errors.calories,value:values.calories,onChange:handleChange,onBlur:handleBlur})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,className:classes.themeButton,variant:\"contained\",color:\"default\",onClick:function onClick(e){return handleAddBenifits(e);},endIcon:/*#__PURE__*/_jsx(ControlPointIcon,{}),children:\"Add Benefits\"})}),values===null||values===void 0?void 0:(_values$benfits=values.benfits)===null||_values$benfits===void 0?void 0:_values$benfits.map(function(data,index){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:11,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Benefits\",name:\"benfits[\".concat(index,\"]\"),variant:\"outlined\",error:Boolean((touched===null||touched===void 0?void 0:touched.benfits)&&(touched===null||touched===void 0?void 0:touched.benfits[index])&&(errors===null||errors===void 0?void 0:errors.benfits)&&(errors===null||errors===void 0?void 0:errors.benfits[index])),helperText:(touched===null||touched===void 0?void 0:touched.benfits)&&(touched===null||touched===void 0?void 0:touched.benfits[index])&&(errors===null||errors===void 0?void 0:errors.benfits)&&(errors===null||errors===void 0?void 0:errors.benfits[index]),value:data,onChange:function onChange(e){return handleBenifitChange(e,index);},onBlur:handleBlur})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:1,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,className:classes.deleteButton,variant:\"contained\",color:\"secondary\",onClick:function onClick(){return removeBenifits(data);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]});}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,label:\"Description\",name:\"description\",variant:\"outlined\",error:Boolean(touched.description&&errors.description),helperText:touched.description&&errors.description,value:values.description,onChange:handleChange,onBlur:handleBlur})}),/*#__PURE__*/_jsxs(Grid,{item:true,md:12,xs:12,children:[/*#__PURE__*/_jsx(\"input\",{name:\"image\",ref:imageRef,type:\"file\",accept:\".jpg,.png,jpeg\",onChange:onImageChange,onBlur:handleBlur,hidden:true}),/*#__PURE__*/_jsx(Button,{fullWidth:true,className:classes.themeButton,variant:\"contained\",color:\"default\",onClick:function onClick(){return imageRef.current.click();},startIcon:/*#__PURE__*/_jsx(CloudUploadIcon,{}),children:\"Upload Image\"}),/*#__PURE__*/_jsx(FormControl,{error:Boolean((touched===null||touched===void 0?void 0:(_touched$image=touched.image)===null||_touched$image===void 0?void 0:_touched$image.file)&&(errors===null||errors===void 0?void 0:(_errors$image=errors.image)===null||_errors$image===void 0?void 0:_errors$image.file)),children:/*#__PURE__*/_jsx(FormHelperText,{children:(touched===null||touched===void 0?void 0:(_touched$image2=touched.image)===null||_touched$image2===void 0?void 0:_touched$image2.file)&&(errors===null||errors===void 0?void 0:(_errors$image2=errors.image)===null||_errors$image2===void 0?void 0:_errors$image2.file)})})]}),/*#__PURE__*/_jsx(Grid,{item:true,md:12,xs:12,children:((_values$image=values.image)===null||_values$image===void 0?void 0:_values$image.prevImage)&&/*#__PURE__*/_jsx(\"img\",{className:classes.imageView,src:(_values$image2=values.image)===null||_values$image2===void 0?void 0:_values$image2.prevImage})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,variant:\"outlined\",color:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{className:classes.themeButton,onClick:function onClick(){return submitForm();},disabled:isSubmitting,variant:\"outlined\",children:isSubmitting?/*#__PURE__*/_jsx(CircularProgress,{size:24,style:{color:'white'}}):okBtnText})]})]});}})]})});};var ViewIngredientModel=function ViewIngredientModel(props){var _formValue$benfits,_formValue$image;var isOpen=props.isOpen,title=props.title,onClose=props.onClose,data=props.data;var classes=useStyles();var _useState7=useState(data),_useState8=_slicedToArray(_useState7,2),formValue=_useState8[0],setFormValue=_useState8[1];console.log(formValue);useEffect(function(){setFormValue(data);},[props]);return/*#__PURE__*/_jsxs(Dialog,{disableBackdropClick:true,disableEscapeKeyDown:true,fullWidth:true,maxWidth:\"md\",\"aria-labelledby\":\"dialog-view-title\",open:isOpen,children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"dialog-view-title\",onClose:onClose,children:title}),/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"strong\",{children:formValue===null||formValue===void 0?void 0:formValue.name})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Calories\"}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[formValue===null||formValue===void 0?void 0:formValue.calories,\" Kcal\"]})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Carbs\"}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[formValue===null||formValue===void 0?void 0:formValue.carbs,\" g\"]})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Fat\"}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[formValue===null||formValue===void 0?void 0:formValue.fat,\" g\"]})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Protein\"}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[formValue===null||formValue===void 0?void 0:formValue.protein,\" g\"]})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Quantity\"}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[formValue===null||formValue===void 0?void 0:formValue.quantity,\" \",formValue===null||formValue===void 0?void 0:formValue.quantity_unit]})})]})]})})}),/*#__PURE__*/_jsx(Paper,{style:{marginTop:'20px'},children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"#\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Benifits\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:formValue===null||formValue===void 0?void 0:(_formValue$benfits=formValue.benfits)===null||_formValue$benfits===void 0?void 0:_formValue$benfits.map(function(item,index){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:index+1}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:item})]});})})]})}),/*#__PURE__*/_jsx(Typography,{style:{marginTop:'20px'},variant:\"h4\",children:\"Description\"}),/*#__PURE__*/_jsx(Typography,{style:{marginTop:'10px'},variant:\"h5\",children:formValue===null||formValue===void 0?void 0:formValue.description}),/*#__PURE__*/_jsx(Grid,{style:{marginTop:'20px'},container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,md:12,xs:12,children:(formValue===null||formValue===void 0?void 0:formValue.image)&&/*#__PURE__*/_jsx(\"img\",{className:classes.imageView,src:formValue===null||formValue===void 0?void 0:(_formValue$image=formValue.image)===null||_formValue$image===void 0?void 0:_formValue$image.url})})})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:onClose,variant:\"outlined\",color:\"secondary\",children:\"Close\"})})]});};export default NutritionIngredients;","map":null,"metadata":{},"sourceType":"module"}