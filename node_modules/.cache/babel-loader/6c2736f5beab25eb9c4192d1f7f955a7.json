{"ast":null,"code":"var _jsxFileName = \"D:\\\\Pyramidion\\\\WebApp\\\\Izze-Admin\\\\src\\\\pages\\\\SignIn\\\\SignIn.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { Button, Card, CardContent, CircularProgress, Divider, Link, TextField, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport React, { useEffect, useState } from 'react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport Logo from '../../assets/Images/logo.png';\nimport Page from '../../components/Page/Page';\nimport useSnackbar from '../../hook/useSnackbar';\nimport { useStore } from '../../Mobx/Helpers/UseStore';\nimport { AuthStateChange, signInWithCredenrials } from '../../utils/FirebaseUtils';\nimport Loader from '../../components/Loader/Loader';\nimport { DashboardRoute, ForgotPasswordRoute } from '../../Routes/RoutesConstants';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport MobxObserver from '../../Mobx/Helpers/MobxObserver'; // const useStyles1 = makeStyles((theme: any) =>{console.log(theme)})\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100%',\n    padding: theme.spacing(6, 2)\n  },\n  rootMain: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  card: {\n    width: theme.breakpoints.values.sm,\n    maxWidth: '100%',\n    overflow: 'unset',\n    display: 'flex',\n    position: 'relative',\n    '& > *': {\n      flexGrow: 1,\n      flexBasis: '50%',\n      width: '50%'\n    }\n  },\n  content: {\n    padding: theme.spacing(3, 4, 3, 4)\n  },\n  logoImgDiv: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: theme.spacing(2, 0)\n  },\n  logoImg: {\n    width: theme.spacing(20),\n    height: theme.spacing(10)\n  },\n  loginForm: {\n    marginTop: theme.spacing(3)\n  },\n  divider: {\n    margin: theme.spacing(2, 0)\n  },\n  btnLoading: {\n    color: 'white'\n  },\n  fields: {\n    margin: theme.spacing(-1),\n    display: 'flex',\n    flexWrap: 'wrap',\n    '& > *': {\n      flexGrow: 1,\n      margin: theme.spacing(1)\n    }\n  },\n  themeButton: {\n    marginTop: theme.spacing(2),\n    color: theme.palette.white,\n    backgroundColor: theme.palette.green.main,\n    '&:hover': {\n      backgroundColor: theme.palette.green.dark\n    },\n    '&:disabled': {\n      backgroundColor: theme.palette.green.main\n    }\n  }\n}));\n\nconst Signin = () => {\n  _s();\n\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const Snackbar = useSnackbar();\n  const {\n    UserStore\n  } = useStore();\n  const [authLoading, setAuthLoading] = useState(true);\n\n  const loginUser = (value, {\n    setSubmitting\n  }) => {\n    setSubmitting(true);\n    signInWithCredenrials(value.email, value.password).then(response => {\n      setSubmitting(false);\n      UserStore.setIdToken(response.user.uid);\n    }).catch(error => {\n      console.log('Firebase Login Error', error);\n      Snackbar.show(error.message, 'error');\n      setSubmitting(false);\n    });\n  };\n\n  const authStateChanged = user => {\n    if (user) {\n      navigate(DashboardRoute);\n      setAuthLoading(true);\n    } else {\n      setAuthLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    const unsubscribe = AuthStateChange(authStateChanged);\n    return () => unsubscribe();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthLoader, {\n    loading: authLoading,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Page, {\n        title: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.logoImgDiv,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.logoImg,\n          src: Logo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.rootMain,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: classes.card,\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: classes.content,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              gutterBottom: true,\n              variant: \"h3\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Formik, {\n              enableReinitialize: true,\n              initialValues: {\n                email: '',\n                password: ''\n              },\n              onSubmit: loginUser,\n              validationSchema: Yup.object().shape({\n                email: Yup.string().trim().required('Email is required'),\n                password: Yup.string().trim().required('Password is required')\n              }),\n              children: ({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                setFieldValue,\n                handleSubmit,\n                isSubmitting\n              }) => /*#__PURE__*/_jsxDEV(\"form\", {\n                className: classes.loginForm,\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.fields,\n                  children: [/*#__PURE__*/_jsxDEV(TextField, {\n                    fullWidth: true,\n                    label: \"Email address\",\n                    name: \"email\",\n                    variant: \"outlined\",\n                    error: Boolean(touched.email && errors.email),\n                    helperText: touched.email && errors.email,\n                    value: values.email,\n                    onChange: handleChange,\n                    onBlur: handleBlur\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                    fullWidth: true,\n                    label: \"Password\",\n                    name: \"password\",\n                    type: \"password\",\n                    variant: \"outlined\",\n                    error: Boolean(touched.password && errors.password),\n                    helperText: touched.password && errors.password,\n                    value: values.password,\n                    onChange: handleChange,\n                    onBlur: handleBlur\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  fullWidth: true,\n                  className: classes.themeButton,\n                  disabled: isSubmitting,\n                  size: \"large\",\n                  type: \"submit\",\n                  variant: \"contained\",\n                  children: isSubmitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                    className: classes.btnLoading,\n                    size: 25\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 39\n                  }, this) : 'Login'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              className: classes.divider\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              align: \"center\",\n              color: \"textPrimary\",\n              component: RouterLink,\n              to: ForgotPasswordRoute,\n              underline: \"always\",\n              variant: \"subtitle2\",\n              children: \"Forgot Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Signin, \"xHdjmWAezTXFA1pwgRcDbEz6W18=\", false, function () {\n  return [useStyles, useNavigate, useSnackbar, useStore];\n});\n\n_c = Signin;\n\nconst AuthLoader = ({\n  loading,\n  children\n}) => {\n  _s2();\n\n  const [aLoading, setALoading] = useState(loading);\n  useEffect(() => {\n    setALoading(loading);\n  }, [loading]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: aLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 24\n    }, this) : children\n  }, void 0, false);\n};\n\n_s2(AuthLoader, \"RzWMk7TtzMth6FZJrtvfx6Y6fbM=\");\n\n_c2 = AuthLoader;\nexport default _c3 = MobxObserver(Signin);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Signin\");\n$RefreshReg$(_c2, \"AuthLoader\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"sources":["D:/Pyramidion/WebApp/Izze-Admin/src/pages/SignIn/SignIn.tsx"],"names":["Button","Card","CardContent","CircularProgress","Divider","Link","TextField","Typography","makeStyles","React","useEffect","useState","RouterLink","useNavigate","Logo","Page","useSnackbar","useStore","AuthStateChange","signInWithCredenrials","Loader","DashboardRoute","ForgotPasswordRoute","Formik","Yup","MobxObserver","useStyles","theme","root","height","padding","spacing","rootMain","display","alignItems","justifyContent","card","width","breakpoints","values","sm","maxWidth","overflow","position","flexGrow","flexBasis","content","logoImgDiv","logoImg","loginForm","marginTop","divider","margin","btnLoading","color","fields","flexWrap","themeButton","palette","white","backgroundColor","green","main","dark","Signin","classes","navigate","Snackbar","UserStore","authLoading","setAuthLoading","loginUser","value","setSubmitting","email","password","then","response","setIdToken","user","uid","catch","error","console","log","show","message","authStateChanged","unsubscribe","object","shape","string","trim","required","errors","touched","handleChange","handleBlur","setFieldValue","handleSubmit","isSubmitting","Boolean","AuthLoader","loading","children","aLoading","setALoading"],"mappings":";;;;AAAA,SAASA,MAAT,EAAiBC,IAAjB,EAAuBC,WAAvB,EAAoCC,gBAApC,EAAsDC,OAAtD,EAA+DC,IAA/D,EAAqEC,SAArE,EAAgFC,UAAhF,QAAkG,mBAAlG;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASN,IAAI,IAAIO,UAAjB,EAA6BC,WAA7B,QAAgD,kBAAhD;AACA,OAAOC,IAAP,MAAiB,8BAAjB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,QAAT,QAAyB,6BAAzB;AACA,SAASC,eAAT,EAA0BC,qBAA1B,QAAuD,2BAAvD;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,cAAT,EAAyBC,mBAAzB,QAAoD,8BAApD;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,YAAP,MAAyB,iCAAzB,C,CAEA;;;;AACA,MAAMC,SAAS,GAAGlB,UAAU,CAAEmB,KAAD,KAAiB;AAC5CC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,MADJ;AAEJC,IAAAA,OAAO,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB;AAFL,GADsC;AAK5CC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OAAO,EAAE,MADD;AAERC,IAAAA,UAAU,EAAE,QAFJ;AAGRC,IAAAA,cAAc,EAAE;AAHR,GALkC;AAU5CC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAEV,KAAK,CAACW,WAAN,CAAkBC,MAAlB,CAAyBC,EAD5B;AAEJC,IAAAA,QAAQ,EAAE,MAFN;AAGJC,IAAAA,QAAQ,EAAE,OAHN;AAIJT,IAAAA,OAAO,EAAE,MAJL;AAKJU,IAAAA,QAAQ,EAAE,UALN;AAMJ,aAAS;AACPC,MAAAA,QAAQ,EAAE,CADH;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPR,MAAAA,KAAK,EAAE;AAHA;AANL,GAVsC;AAsB5CS,EAAAA,OAAO,EAAE;AACPhB,IAAAA,OAAO,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;AADF,GAtBmC;AAyB5CgB,EAAAA,UAAU,EAAE;AACVd,IAAAA,OAAO,EAAE,MADC;AAEVE,IAAAA,cAAc,EAAE,QAFN;AAGVL,IAAAA,OAAO,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB;AAHC,GAzBgC;AA8B5CiB,EAAAA,OAAO,EAAE;AACPX,IAAAA,KAAK,EAAEV,KAAK,CAACI,OAAN,CAAc,EAAd,CADA;AAEPF,IAAAA,MAAM,EAAEF,KAAK,CAACI,OAAN,CAAc,EAAd;AAFD,GA9BmC;AAkC5CkB,EAAAA,SAAS,EAAE;AACTC,IAAAA,SAAS,EAAEvB,KAAK,CAACI,OAAN,CAAc,CAAd;AADF,GAlCiC;AAqC5CoB,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAEzB,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB;AADD,GArCmC;AAwC5CsB,EAAAA,UAAU,EAAE;AACVC,IAAAA,KAAK,EAAE;AADG,GAxCgC;AA2C5CC,EAAAA,MAAM,EAAE;AACNH,IAAAA,MAAM,EAAEzB,KAAK,CAACI,OAAN,CAAc,CAAC,CAAf,CADF;AAENE,IAAAA,OAAO,EAAE,MAFH;AAGNuB,IAAAA,QAAQ,EAAE,MAHJ;AAIN,aAAS;AACPZ,MAAAA,QAAQ,EAAE,CADH;AAEPQ,MAAAA,MAAM,EAAEzB,KAAK,CAACI,OAAN,CAAc,CAAd;AAFD;AAJH,GA3CoC;AAoD5C0B,EAAAA,WAAW,EAAE;AACXP,IAAAA,SAAS,EAAEvB,KAAK,CAACI,OAAN,CAAc,CAAd,CADA;AAEXuB,IAAAA,KAAK,EAAE3B,KAAK,CAAC+B,OAAN,CAAcC,KAFV;AAGXC,IAAAA,eAAe,EAAEjC,KAAK,CAAC+B,OAAN,CAAcG,KAAd,CAAoBC,IAH1B;AAIX,eAAW;AACTF,MAAAA,eAAe,EAAEjC,KAAK,CAAC+B,OAAN,CAAcG,KAAd,CAAoBE;AAD5B,KAJA;AAOX,kBAAc;AACZH,MAAAA,eAAe,EAAEjC,KAAK,CAAC+B,OAAN,CAAcG,KAAd,CAAoBC;AADzB;AAPH;AApD+B,CAAjB,CAAD,CAA5B;;AAiEA,MAAME,MAAM,GAAG,MAAM;AAAA;;AACnB,QAAMC,OAAO,GAAGvC,SAAS,EAAzB;AACA,QAAMwC,QAAQ,GAAGrD,WAAW,EAA5B;AACA,QAAMsD,QAAQ,GAAGnD,WAAW,EAA5B;AACA,QAAM;AAAEoD,IAAAA;AAAF,MAAgBnD,QAAQ,EAA9B;AACA,QAAM,CAACoD,WAAD,EAAcC,cAAd,IAAgC3D,QAAQ,CAAC,IAAD,CAA9C;;AAEA,QAAM4D,SAAS,GAAG,CAACC,KAAD,EAAa;AAAEC,IAAAA;AAAF,GAAb,KAAwC;AACxDA,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAtD,IAAAA,qBAAqB,CAACqD,KAAK,CAACE,KAAP,EAAcF,KAAK,CAACG,QAApB,CAArB,CACGC,IADH,CACSC,QAAD,IAAmB;AACvBJ,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAL,MAAAA,SAAS,CAACU,UAAV,CAAqBD,QAAQ,CAACE,IAAT,CAAcC,GAAnC;AACD,KAJH,EAKGC,KALH,CAKUC,KAAD,IAAgB;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCF,KAApC;AACAf,MAAAA,QAAQ,CAACkB,IAAT,CAAcH,KAAK,CAACI,OAApB,EAA6B,OAA7B;AACAb,MAAAA,aAAa,CAAC,KAAD,CAAb;AACD,KATH;AAUD,GAZD;;AAcA,QAAMc,gBAAgB,GAAIR,IAAD,IAAe;AACtC,QAAIA,IAAJ,EAAU;AACRb,MAAAA,QAAQ,CAAC7C,cAAD,CAAR;AACAiD,MAAAA,cAAc,CAAC,IAAD,CAAd;AACD,KAHD,MAGO;AACLA,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD;AACF,GAPD;;AASA5D,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM8E,WAAW,GAAGtE,eAAe,CAACqE,gBAAD,CAAnC;AACA,WAAO,MAAMC,WAAW,EAAxB;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACE,QAAC,UAAD;AAAY,IAAA,OAAO,EAAEnB,WAArB;AAAA,2BACE;AAAK,MAAA,SAAS,EAAEJ,OAAO,CAACrC,IAAxB;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,KAAK,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAEqC,OAAO,CAAClB,UAAxB;AAAA,+BAAqC;AAAK,UAAA,SAAS,EAAEkB,OAAO,CAACjB,OAAxB;AAAiC,UAAA,GAAG,EAAElC;AAAtC;AAAA;AAAA;AAAA;AAAA;AAArC;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAK,QAAA,SAAS,EAAEmD,OAAO,CAACjC,QAAxB;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,SAAS,EAAEiC,OAAO,CAAC7B,IAAzB;AAAA,iCACE,QAAC,WAAD;AAAa,YAAA,SAAS,EAAE6B,OAAO,CAACnB,OAAhC;AAAA,oCACE,QAAC,UAAD;AACE,cAAA,YAAY,MADd;AAEE,cAAA,OAAO,EAAC,IAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAOE,QAAC,MAAD;AACE,cAAA,kBAAkB,MADpB;AAEE,cAAA,aAAa,EAAE;AAAE4B,gBAAAA,KAAK,EAAE,EAAT;AAAaC,gBAAAA,QAAQ,EAAE;AAAvB,eAFjB;AAGE,cAAA,QAAQ,EAAEJ,SAHZ;AAIE,cAAA,gBAAgB,EAAE/C,GAAG,CAACiE,MAAJ,GAAaC,KAAb,CAAmB;AACnChB,gBAAAA,KAAK,EAAElD,GAAG,CAACmE,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,CAA6B,mBAA7B,CAD4B;AAEnClB,gBAAAA,QAAQ,EAAEnD,GAAG,CAACmE,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,CAA6B,sBAA7B;AAFyB,eAAnB,CAJpB;AAAA,wBASG,CAAC;AACAtD,gBAAAA,MADA;AAEAuD,gBAAAA,MAFA;AAGAC,gBAAAA,OAHA;AAIAC,gBAAAA,YAJA;AAKAC,gBAAAA,UALA;AAMAC,gBAAAA,aANA;AAOAC,gBAAAA,YAPA;AAQAC,gBAAAA;AARA,eAAD,kBAWC;AAAM,gBAAA,SAAS,EAAEnC,OAAO,CAAChB,SAAzB;AAAoC,gBAAA,QAAQ,EAAEkD,YAA9C;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAElC,OAAO,CAACV,MAAxB;AAAA,0CACE,QAAC,SAAD;AACE,oBAAA,SAAS,MADX;AAEE,oBAAA,KAAK,EAAC,eAFR;AAGE,oBAAA,IAAI,EAAC,OAHP;AAIE,oBAAA,OAAO,EAAC,UAJV;AAKE,oBAAA,KAAK,EAAE8C,OAAO,CAACN,OAAO,CAACrB,KAAR,IAAiBoB,MAAM,CAACpB,KAAzB,CALhB;AAME,oBAAA,UAAU,EAAEqB,OAAO,CAACrB,KAAR,IAAiBoB,MAAM,CAACpB,KANtC;AAOE,oBAAA,KAAK,EAAEnC,MAAM,CAACmC,KAPhB;AAQE,oBAAA,QAAQ,EAAEsB,YARZ;AASE,oBAAA,MAAM,EAAEC;AATV;AAAA;AAAA;AAAA;AAAA,0BADF,eAYE,QAAC,SAAD;AACE,oBAAA,SAAS,MADX;AAEE,oBAAA,KAAK,EAAC,UAFR;AAGE,oBAAA,IAAI,EAAC,UAHP;AAIE,oBAAA,IAAI,EAAC,UAJP;AAKE,oBAAA,OAAO,EAAC,UALV;AAME,oBAAA,KAAK,EAAEI,OAAO,CAACN,OAAO,CAACpB,QAAR,IAAoBmB,MAAM,CAACnB,QAA5B,CANhB;AAOE,oBAAA,UAAU,EAAEoB,OAAO,CAACpB,QAAR,IAAoBmB,MAAM,CAACnB,QAPzC;AAQE,oBAAA,KAAK,EAAEpC,MAAM,CAACoC,QARhB;AASE,oBAAA,QAAQ,EAAEqB,YATZ;AAUE,oBAAA,MAAM,EAAEC;AAVV;AAAA;AAAA;AAAA;AAAA,0BAZF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eA0BE,QAAC,MAAD;AACE,kBAAA,SAAS,MADX;AAEE,kBAAA,SAAS,EAAEhC,OAAO,CAACR,WAFrB;AAGE,kBAAA,QAAQ,EAAE2C,YAHZ;AAIE,kBAAA,IAAI,EAAC,OAJP;AAKE,kBAAA,IAAI,EAAC,QALP;AAME,kBAAA,OAAO,EAAC,WANV;AAAA,4BAQGA,YAAY,gBAAG,QAAC,gBAAD;AAAkB,oBAAA,SAAS,EAAEnC,OAAO,CAACZ,UAArC;AAAiD,oBAAA,IAAI,EAAE;AAAvD;AAAA;AAAA;AAAA;AAAA,0BAAH,GAAmE;AARlF;AAAA;AAAA;AAAA;AAAA,wBA1BF;AAAA;AAAA;AAAA;AAAA;AAAA;AApBJ;AAAA;AAAA;AAAA;AAAA,oBAPF,eAmEE,QAAC,OAAD;AAAS,cAAA,SAAS,EAAEY,OAAO,CAACd;AAA5B;AAAA;AAAA;AAAA;AAAA,oBAnEF,eAoEE,QAAC,IAAD;AACE,cAAA,KAAK,EAAC,QADR;AAEE,cAAA,KAAK,EAAC,aAFR;AAGE,cAAA,SAAS,EAAEvC,UAHb;AAIE,cAAA,EAAE,EAAEU,mBAJN;AAKE,cAAA,SAAS,EAAC,QALZ;AAME,cAAA,OAAO,EAAC,WANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBApEF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA2FD,CA9HD;;GAAM0C,M;UACYtC,S,EACCb,W,EACAG,W,EACKC,Q;;;KAJlB+C,M;;AAgIN,MAAMsC,UAAU,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAAgC;AAAA;;AACjD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B/F,QAAQ,CAAC4F,OAAD,CAAxC;AAEA7F,EAAAA,SAAS,CAAC,MAAM;AACdgG,IAAAA,WAAW,CAACH,OAAD,CAAX;AACD,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;AAIA,sBAAO;AAAA,cAAGE,QAAQ,gBAAG,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAAH,GAAgBD;AAA3B,mBAAP;AACD,CARD;;IAAMF,U;;MAAAA,U;AAUN,qBAAe7E,YAAY,CAACuC,MAAD,CAA3B","sourcesContent":["import { Button, Card, CardContent, CircularProgress, Divider, Link, TextField, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\r\nimport Logo from '../../assets/Images/logo.png';\r\nimport Page from '../../components/Page/Page';\r\nimport useSnackbar from '../../hook/useSnackbar';\r\nimport { useStore } from '../../Mobx/Helpers/UseStore';\r\nimport { AuthStateChange, signInWithCredenrials } from '../../utils/FirebaseUtils';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport { DashboardRoute, ForgotPasswordRoute } from '../../Routes/RoutesConstants';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport MobxObserver from '../../Mobx/Helpers/MobxObserver';\r\n\r\n// const useStyles1 = makeStyles((theme: any) =>{console.log(theme)})\r\nconst useStyles = makeStyles((theme: any) => ({\r\n  root: {\r\n    height: '100%',\r\n    padding: theme.spacing(6, 2)\r\n  },\r\n  rootMain: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  card: {\r\n    width: theme.breakpoints.values.sm,\r\n    maxWidth: '100%',\r\n    overflow: 'unset',\r\n    display: 'flex',\r\n    position: 'relative',\r\n    '& > *': {\r\n      flexGrow: 1,\r\n      flexBasis: '50%',\r\n      width: '50%'\r\n    }\r\n  },\r\n  content: {\r\n    padding: theme.spacing(3, 4, 3, 4)\r\n  },\r\n  logoImgDiv: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    padding: theme.spacing(2, 0),\r\n  },\r\n  logoImg: {\r\n    width: theme.spacing(20),\r\n    height: theme.spacing(10),\r\n  },\r\n  loginForm: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  divider: {\r\n    margin: theme.spacing(2, 0)\r\n  },\r\n  btnLoading: {\r\n    color: 'white'\r\n  },\r\n  fields: {\r\n    margin: theme.spacing(-1),\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    '& > *': {\r\n      flexGrow: 1,\r\n      margin: theme.spacing(1)\r\n    }\r\n  },\r\n  themeButton: {\r\n    marginTop: theme.spacing(2),\r\n    color: theme.palette.white,\r\n    backgroundColor: theme.palette.green.main,\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.green.dark,\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: theme.palette.green.main,\r\n    },\r\n  },\r\n}));\r\n\r\nconst Signin = () => {\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n  const Snackbar = useSnackbar();\r\n  const { UserStore } = useStore();\r\n  const [authLoading, setAuthLoading] = useState(true);\r\n\r\n  const loginUser = (value: any, { setSubmitting }: any) => {\r\n    setSubmitting(true);\r\n    signInWithCredenrials(value.email, value.password)\r\n      .then((response: any) => {\r\n        setSubmitting(false);\r\n        UserStore.setIdToken(response.user.uid);\r\n      })\r\n      .catch((error: any) => {\r\n        console.log('Firebase Login Error', error);\r\n        Snackbar.show(error.message, 'error');\r\n        setSubmitting(false);\r\n      });\r\n  };\r\n\r\n  const authStateChanged = (user: any) => {\r\n    if (user) {\r\n      navigate(DashboardRoute);\r\n      setAuthLoading(true);\r\n    } else {\r\n      setAuthLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = AuthStateChange(authStateChanged);\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthLoader loading={authLoading}>\r\n      <div className={classes.root}>\r\n        <Page title='Login' />\r\n        <div className={classes.logoImgDiv} ><img className={classes.logoImg} src={Logo} /></div>\r\n        <div className={classes.rootMain}>\r\n          <Card className={classes.card}>\r\n            <CardContent className={classes.content}>\r\n              <Typography\r\n                gutterBottom\r\n                variant=\"h3\"\r\n              >\r\n                Login\r\n              </Typography>\r\n              <Formik\r\n                enableReinitialize\r\n                initialValues={{ email: '', password: '' }}\r\n                onSubmit={loginUser}\r\n                validationSchema={Yup.object().shape({\r\n                  email: Yup.string().trim().required('Email is required'),\r\n                  password: Yup.string().trim().required('Password is required'),\r\n                })}\r\n              >\r\n                {({\r\n                  values,\r\n                  errors,\r\n                  touched,\r\n                  handleChange,\r\n                  handleBlur,\r\n                  setFieldValue,\r\n                  handleSubmit,\r\n                  isSubmitting,\r\n                }) => (\r\n\r\n                  <form className={classes.loginForm} onSubmit={handleSubmit}>\r\n                    <div className={classes.fields}>\r\n                      <TextField\r\n                        fullWidth\r\n                        label=\"Email address\"\r\n                        name=\"email\"\r\n                        variant=\"outlined\"\r\n                        error={Boolean(touched.email && errors.email)}\r\n                        helperText={touched.email && errors.email}\r\n                        value={values.email}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                      />\r\n                      <TextField\r\n                        fullWidth\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        type=\"password\"\r\n                        variant=\"outlined\"\r\n                        error={Boolean(touched.password && errors.password)}\r\n                        helperText={touched.password && errors.password}\r\n                        value={values.password}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                      />\r\n                    </div>\r\n                    <Button\r\n                      fullWidth\r\n                      className={classes.themeButton}\r\n                      disabled={isSubmitting}\r\n                      size=\"large\"\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      {isSubmitting ? <CircularProgress className={classes.btnLoading} size={25} /> : 'Login'}\r\n                    </Button>\r\n                  </form>\r\n                )}\r\n              </Formik>\r\n\r\n              <Divider className={classes.divider} />\r\n              <Link\r\n                align=\"center\"\r\n                color=\"textPrimary\"\r\n                component={RouterLink}\r\n                to={ForgotPasswordRoute}\r\n                underline=\"always\"\r\n                variant=\"subtitle2\"\r\n              >\r\n                Forgot Password?\r\n              </Link>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </AuthLoader>\r\n  );\r\n};\r\n\r\nconst AuthLoader = ({ loading, children }: any) => {\r\n  const [aLoading, setALoading] = useState(loading);\r\n\r\n  useEffect(() => {\r\n    setALoading(loading);\r\n  }, [loading]);\r\n\r\n  return <>{aLoading ? <Loader /> : children}</>;\r\n};\r\n\r\nexport default MobxObserver(Signin);\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}