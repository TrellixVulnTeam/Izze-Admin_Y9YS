{"ast":null,"code":"import _objectSpread from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Pyramidion/WebApp/Izze-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Card,Table,TableBody,TableCell,TextField,TableHead,TableRow,Typography,Button,Dialog,DialogActions,DialogContent,Grid,CircularProgress}from'@material-ui/core';import{makeStyles}from'@material-ui/styles';import DialogTitle from'../../components/DialogTitlle/DialogTitle';import React,{useEffect,useState}from'react';import getDropValues,{CcpaStatus,NoOption}from'../../utils/PlanDropdowns';import{Autocomplete}from'@material-ui/lab';import clsx from'clsx';import useService from'../../hook/useService';import useSnackbar from'../../hook/useSnackbar';import{cloneDeep}from'lodash';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{marginTop10:{marginTop:10},lColor:{color:'white'},themeButton:{color:theme.palette.white,backgroundColor:theme.palette.green.main,'&:hover':{backgroundColor:theme.palette.green.dark}},noTextTransform:{textTransform:'none'}};});var AppUserCCPA=function AppUserCCPA(props){var _formData$gdpr_share_,_formData$gdpr_protec,_formData$gdpr_person,_formData$ccpa_access,_formData$ccpa_access2,_formData$ccpa_access3,_formData$ccpa_access4,_formData$ccpa_access5,_formData$ccpa_share_,_formData$ccpa_share_2,_formData$ccpa_share_3,_formData$ccpa_delete,_formData$ccpa_delete2,_formData$ccpa_delete3,_formData$ccpa_delete4,_formData$ccpa_delete5;var classes=useStyles();var data=props.data,onRefresh=props.onRefresh;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var getRequestFor=function getRequestFor(data){switch(data===null||data===void 0?void 0:data.gdpr_type_value){case true:return'Enable';break;case false:return'Disable';break;default:return'No Request';}};var getRequestStatus=function getRequestStatus(data){var status=data.status;switch(status){case true:return'Enable';break;case false:return'Disable';break;default:return{status:status,is_display:false};}};useEffect(function(){setFormData(data);},[props]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"GDPR\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:\"Current Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Request for\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Request Status\"}),/*#__PURE__*/_jsx(TableCell,{})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Share your personal data\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.isSharePersonalData)?'Enabled':'Disabled'}),/*#__PURE__*/_jsx(TableCell,{children:getRequestFor(formData===null||formData===void 0?void 0:formData.gdpr_share_data)}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$gdpr_share_=formData.gdpr_share_data)===null||_formData$gdpr_share_===void 0?void 0:_formData$gdpr_share_.status)}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.gdpr_share_data)&&/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.gdpr_share_data,apiUrl:'app/gdprUpdateData',onSuccess:onRefresh})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Protect your data\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.isProtectYourData)?'Enabled':'Disabled'}),/*#__PURE__*/_jsx(TableCell,{children:getRequestFor(formData===null||formData===void 0?void 0:formData.gdpr_protect_data)}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$gdpr_protec=formData.gdpr_protect_data)===null||_formData$gdpr_protec===void 0?void 0:_formData$gdpr_protec.status)}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.gdpr_protect_data)&&/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.gdpr_protect_data,apiUrl:'app/gdprUpdateData',onSuccess:onRefresh})})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Personal Information\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.isPersonalInformation)?'Enabled':'Disabled'}),/*#__PURE__*/_jsx(TableCell,{children:getRequestFor(formData===null||formData===void 0?void 0:formData.gdpr_personal_data)}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$gdpr_person=formData.gdpr_personal_data)===null||_formData$gdpr_person===void 0?void 0:_formData$gdpr_person.status)}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:formData.gdpr_personal_data)&&/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.gdpr_personal_data,apiUrl:'app/gdprUpdateData',onSuccess:onRefresh})})]})]})]})}),(formData===null||formData===void 0?void 0:formData.ccpa_access_data)&&/*#__PURE__*/_jsxs(\"div\",{className:classes.marginTop10,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"CCPA Access your data\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:(_formData$ccpa_access=formData.ccpa_access_data)===null||_formData$ccpa_access===void 0?void 0:_formData$ccpa_access.firstName)+' '+(formData===null||formData===void 0?void 0:(_formData$ccpa_access2=formData.ccpa_access_data)===null||_formData$ccpa_access2===void 0?void 0:_formData$ccpa_access2.lastName)}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_access3=formData.ccpa_access_data)===null||_formData$ccpa_access3===void 0?void 0:_formData$ccpa_access3.email}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"State\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_access4=formData.ccpa_access_data)===null||_formData$ccpa_access4===void 0?void 0:_formData$ccpa_access4.state}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$ccpa_access5=formData.ccpa_access_data)===null||_formData$ccpa_access5===void 0?void 0:_formData$ccpa_access5.status)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.ccpa_access_data,apiUrl:'app/ccpaUpdateAccessData',onSuccess:onRefresh})})]})]})})})]}),(formData===null||formData===void 0?void 0:formData.ccpa_share_data)&&/*#__PURE__*/_jsxs(\"div\",{className:classes.marginTop10,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"CCPA Share your data\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_share_=formData.ccpa_share_data)===null||_formData$ccpa_share_===void 0?void 0:_formData$ccpa_share_.email}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"State\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_share_2=formData.ccpa_share_data)===null||_formData$ccpa_share_2===void 0?void 0:_formData$ccpa_share_2.state}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$ccpa_share_3=formData.ccpa_share_data)===null||_formData$ccpa_share_3===void 0?void 0:_formData$ccpa_share_3.status)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.ccpa_share_data,apiUrl:'app/ccpaUpdateShareData',onSuccess:onRefresh})})]})]})})})]}),(formData===null||formData===void 0?void 0:formData.ccpa_delete_data)&&/*#__PURE__*/_jsxs(\"div\",{className:classes.marginTop10,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"CCPA Delete your data\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:(formData===null||formData===void 0?void 0:(_formData$ccpa_delete=formData.ccpa_delete_data)===null||_formData$ccpa_delete===void 0?void 0:_formData$ccpa_delete.firstName)+' '+(formData===null||formData===void 0?void 0:(_formData$ccpa_delete2=formData.ccpa_delete_data)===null||_formData$ccpa_delete2===void 0?void 0:_formData$ccpa_delete2.lastName)}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_delete3=formData.ccpa_delete_data)===null||_formData$ccpa_delete3===void 0?void 0:_formData$ccpa_delete3.email}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"State\"}),/*#__PURE__*/_jsx(TableCell,{children:formData===null||formData===void 0?void 0:(_formData$ccpa_delete4=formData.ccpa_delete_data)===null||_formData$ccpa_delete4===void 0?void 0:_formData$ccpa_delete4.state}),/*#__PURE__*/_jsx(TableCell,{})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:getDropValues(CcpaStatus,formData===null||formData===void 0?void 0:(_formData$ccpa_delete5=formData.ccpa_delete_data)===null||_formData$ccpa_delete5===void 0?void 0:_formData$ccpa_delete5.status)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(ChangeStatusModel,{data:formData===null||formData===void 0?void 0:formData.ccpa_delete_data,apiUrl:'app/ccpaUpdateDeleteData',onSuccess:onRefresh})})]})]})})})]})]});};export var ChangeStatusModel=function ChangeStatusModel(props){var _props$data;var classes=useStyles();var onSuccess=props.onSuccess;var _useService=useService(),Post=_useService.Post;var Snackbar=useSnackbar();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isOpen=_useState4[0],setIsOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),submitting=_useState6[0],setSubmitting=_useState6[1];var _useState7=useState(props===null||props===void 0?void 0:props.data),_useState8=_slicedToArray(_useState7,2),formData=_useState8[0],setFormData=_useState8[1];var _useState9=useState(props.apiUrl),_useState10=_slicedToArray(_useState9,2),apiUrl=_useState10[0],setApiUrl=_useState10[1];var _useState11=useState(props===null||props===void 0?void 0:(_props$data=props.data)===null||_props$data===void 0?void 0:_props$data.status),_useState12=_slicedToArray(_useState11,2),status=_useState12[0],setStatus=_useState12[1];var handleModel=function handleModel(){setIsOpen(!isOpen);setSubmitting(false);};var onSubmit=function onSubmit(){if(status==''){Snackbar.show('Status required','error');return;}setSubmitting(true);Post(apiUrl,{id:formData._id,status:status}).then(function(res){Snackbar.show(res.message,'success');setSubmitting(false);handleModel();onSuccess();}).catch(function(err){setSubmitting(false);Snackbar.show(err.message,'error');});};useEffect(function(){var _cloneDeep=cloneDeep(props),data=_cloneDeep.data,apiUrl=_cloneDeep.apiUrl;var _cloneDeep2=cloneDeep(data),status=_cloneDeep2.status;setFormData(data);setStatus(status);setApiUrl(apiUrl);},[props,isOpen]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleModel,className:clsx(classes.themeButton,classes.noTextTransform),children:\"Change Status\"}),isOpen&&/*#__PURE__*/_jsxs(Dialog,{disableBackdropClick:true,disableEscapeKeyDown:true,fullWidth:true,maxWidth:\"sm\",\"aria-labelledby\":\"dialog-title\",open:isOpen,children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"dialog-title\",onClose:handleModel,children:\"Change Status\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Autocomplete,{options:CcpaStatus,value:CcpaStatus.find(function(data){return data.id==status;})||NoOption,getOptionLabel:function getOptionLabel(option){return option.name;},getOptionSelected:function getOptionSelected(option){return option.id==status;},onChange:function onChange(event,newValue){setStatus((newValue===null||newValue===void 0?void 0:newValue.id)||'');},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Change Status\",variant:\"outlined\",inputProps:_objectSpread({},params.inputProps)}));}})})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleModel,variant:\"outlined\",color:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{className:classes.themeButton,onClick:function onClick(){return onSubmit();},variant:\"outlined\",children:submitting?/*#__PURE__*/_jsx(CircularProgress,{size:24,className:classes.lColor}):'Change'})]})]})]});};export default AppUserCCPA;","map":{"version":3,"sources":["D:/Pyramidion/WebApp/Izze-Admin/src/pages/AppUsers/AppUserCCPA.tsx"],"names":["Card","Table","TableBody","TableCell","TextField","TableHead","TableRow","Typography","Button","Dialog","DialogActions","DialogContent","Grid","CircularProgress","makeStyles","DialogTitle","React","useEffect","useState","getDropValues","CcpaStatus","NoOption","Autocomplete","clsx","useService","useSnackbar","cloneDeep","useStyles","theme","marginTop10","marginTop","lColor","color","themeButton","palette","white","backgroundColor","green","main","dark","noTextTransform","textTransform","AppUserCCPA","props","classes","data","onRefresh","formData","setFormData","getRequestFor","gdpr_type_value","getRequestStatus","status","is_display","isSharePersonalData","gdpr_share_data","isProtectYourData","gdpr_protect_data","isPersonalInformation","gdpr_personal_data","ccpa_access_data","firstName","lastName","email","state","ccpa_share_data","ccpa_delete_data","ChangeStatusModel","onSuccess","Post","Snackbar","isOpen","setIsOpen","submitting","setSubmitting","apiUrl","setApiUrl","setStatus","handleModel","onSubmit","show","id","_id","then","res","message","catch","err","find","option","name","event","newValue","params","inputProps"],"mappings":"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","sourcesContent":["import {\r\n  Card, Table, TableBody, TableCell, TextField,\r\n  TableHead, TableRow, Typography, Button,\r\n  Dialog, DialogActions, DialogContent, Grid, CircularProgress\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport DialogTitle from '../../components/DialogTitlle/DialogTitle';\r\nimport React, { useEffect, useState } from 'react';\r\nimport getDropValues, { CcpaStatus, NoOption } from '../../utils/PlanDropdowns';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport clsx from 'clsx';\r\nimport useService from '../../hook/useService';\r\nimport useSnackbar from '../../hook/useSnackbar';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nconst useStyles = makeStyles((theme: any) => ({\r\n  marginTop10: {\r\n    marginTop: 10\r\n  },\r\n  lColor: {\r\n    color: 'white',\r\n  },\r\n  themeButton: {\r\n    color: theme.palette.white,\r\n    backgroundColor: theme.palette.green.main,\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.green.dark,\r\n    },\r\n  },\r\n  noTextTransform: {\r\n    textTransform: 'none'\r\n  }\r\n}));\r\n\r\nconst AppUserCCPA = (props: any) => {\r\n  const classes = useStyles();\r\n\r\n  const { data, onRefresh } = props;\r\n  const [formData, setFormData] = useState<any>({});\r\n\r\n  const getRequestFor = (data: any) => {\r\n    switch (data?.gdpr_type_value) {\r\n      case true:\r\n        return 'Enable';\r\n        break;\r\n      case false:\r\n        return 'Disable';\r\n        break;\r\n      default:\r\n        return 'No Request';\r\n    }\r\n  }\r\n  const getRequestStatus = (data: any) => {\r\n    const { status } = data\r\n    switch (status) {\r\n      case true:\r\n        return 'Enable';\r\n        break;\r\n      case false:\r\n        return 'Disable';\r\n        break;\r\n      default:\r\n        return { status, is_display: false };\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    setFormData(data)\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"body1\">GDPR</Typography>\r\n      <Card>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell ></TableCell>\r\n              <TableCell >Current Status</TableCell>\r\n              <TableCell >Request for</TableCell>\r\n              <TableCell >Request Status</TableCell>\r\n              <TableCell ></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <TableRow >\r\n              <TableCell>Share your personal data</TableCell>\r\n              <TableCell>{formData?.isSharePersonalData ? 'Enabled' : 'Disabled'}</TableCell>\r\n              <TableCell>{getRequestFor(formData?.gdpr_share_data)}</TableCell>\r\n              <TableCell>{getDropValues(CcpaStatus, formData?.gdpr_share_data?.status)}</TableCell>\r\n              <TableCell>{formData?.gdpr_share_data && <ChangeStatusModel data={formData?.gdpr_share_data} apiUrl={'app/gdprUpdateData'} onSuccess={onRefresh} />}</TableCell>\r\n            </TableRow>\r\n            <TableRow >\r\n              <TableCell>Protect your data</TableCell>\r\n              <TableCell>{formData?.isProtectYourData ? 'Enabled' : 'Disabled'}</TableCell>\r\n              <TableCell>{getRequestFor(formData?.gdpr_protect_data)}</TableCell>\r\n              <TableCell>{getDropValues(CcpaStatus, formData?.gdpr_protect_data?.status)}</TableCell>\r\n              <TableCell>{formData?.gdpr_protect_data && <ChangeStatusModel data={formData?.gdpr_protect_data} apiUrl={'app/gdprUpdateData'} onSuccess={onRefresh} />}</TableCell>\r\n            </TableRow>\r\n            <TableRow >\r\n              <TableCell>Personal Information</TableCell>\r\n              <TableCell>{formData?.isPersonalInformation ? 'Enabled' : 'Disabled'}</TableCell>\r\n              <TableCell>{getRequestFor(formData?.gdpr_personal_data)}</TableCell>\r\n              <TableCell>{getDropValues(CcpaStatus, formData?.gdpr_personal_data?.status)}</TableCell>\r\n              <TableCell>{formData?.gdpr_personal_data && <ChangeStatusModel data={formData?.gdpr_personal_data} apiUrl={'app/gdprUpdateData'} onSuccess={onRefresh} />}</TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </Card>\r\n\r\n      {formData?.ccpa_access_data &&\r\n        <div className={classes.marginTop10}>\r\n          <Typography variant=\"body1\">CCPA Access your data</Typography>\r\n          <Card>\r\n            <Table>\r\n              <TableBody>\r\n                <TableRow >\r\n                  <TableCell>Name</TableCell>\r\n                  <TableCell>{formData?.ccpa_access_data?.firstName + ' ' + formData?.ccpa_access_data?.lastName}</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>Email</TableCell>\r\n                  <TableCell>{formData?.ccpa_access_data?.email}</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>State</TableCell>\r\n                  <TableCell>{formData?.ccpa_access_data?.state}</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>Status</TableCell>\r\n                  <TableCell>{getDropValues(CcpaStatus, formData?.ccpa_access_data?.status)}</TableCell>\r\n                  <TableCell><ChangeStatusModel data={formData?.ccpa_access_data} apiUrl={'app/ccpaUpdateAccessData'} onSuccess={onRefresh} /></TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n          </Card>\r\n        </div>\r\n      }\r\n\r\n      {formData?.ccpa_share_data &&\r\n        <div className={classes.marginTop10}>\r\n          <Typography variant=\"body1\">CCPA Share your data</Typography>\r\n          <Card>\r\n            <Table>\r\n              <TableBody>\r\n                <TableRow >\r\n                  <TableCell>Email</TableCell>\r\n                  <TableCell>{formData?.ccpa_share_data?.email}</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>State</TableCell>\r\n                  <TableCell>{formData?.ccpa_share_data?.state}</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>Status</TableCell>\r\n                  <TableCell>{getDropValues(CcpaStatus, formData?.ccpa_share_data?.status)}</TableCell>\r\n                  <TableCell><ChangeStatusModel data={formData?.ccpa_share_data} apiUrl={'app/ccpaUpdateShareData'} onSuccess={onRefresh} /></TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n          </Card>\r\n        </div>\r\n      }\r\n\r\n      {formData?.ccpa_delete_data &&\r\n        <div className={classes.marginTop10}>\r\n          <Typography variant=\"body1\">CCPA Delete your data</Typography>\r\n          <Card>\r\n            <Table>\r\n              <TableBody>\r\n                <TableRow >\r\n                  <TableCell>Name</TableCell>\r\n                  <TableCell>{formData?.ccpa_delete_data?.firstName + ' ' + formData?.ccpa_delete_data?.lastName}</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>Email</TableCell>\r\n                  <TableCell>{formData?.ccpa_delete_data?.email}</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>State</TableCell>\r\n                  <TableCell>{formData?.ccpa_delete_data?.state}</TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n                <TableRow >\r\n                  <TableCell>Status</TableCell>\r\n                  <TableCell>{getDropValues(CcpaStatus, formData?.ccpa_delete_data?.status)}</TableCell>\r\n                  <TableCell><ChangeStatusModel data={formData?.ccpa_delete_data} apiUrl={'app/ccpaUpdateDeleteData'} onSuccess={onRefresh} /></TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n          </Card>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const ChangeStatusModel = (props: any) => {\r\n  const classes = useStyles();\r\n  const { onSuccess } = props;\r\n  const { Post } = useService();\r\n  const Snackbar = useSnackbar();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const [formData, setFormData] = useState(props?.data);\r\n  const [apiUrl, setApiUrl] = useState(props.apiUrl);\r\n  const [status, setStatus] = useState(props?.data?.status);\r\n\r\n  const handleModel = () => {\r\n    setIsOpen(!isOpen);\r\n    setSubmitting(false);\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    if (status == '') {\r\n      Snackbar.show('Status required', 'error');\r\n      return\r\n    }\r\n    setSubmitting(true);\r\n    Post(apiUrl, { id: formData._id, status })\r\n      .then((res: any) => {\r\n        Snackbar.show(res.message, 'success');\r\n        setSubmitting(false);\r\n        handleModel();\r\n        onSuccess()\r\n      })\r\n      .catch((err: any) => {\r\n        setSubmitting(false);\r\n        Snackbar.show(err.message, 'error');\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { data, apiUrl } = cloneDeep(props)\r\n    const { status } = cloneDeep(data)\r\n    setFormData(data)\r\n    setStatus(status)\r\n    setApiUrl(apiUrl)\r\n  }, [props, isOpen])\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={handleModel} className={clsx(classes.themeButton, classes.noTextTransform)}>Change Status</Button>\r\n      {isOpen &&\r\n        <Dialog\r\n          disableBackdropClick\r\n          disableEscapeKeyDown\r\n          fullWidth\r\n          maxWidth='sm'\r\n          aria-labelledby='dialog-title'\r\n          open={isOpen}\r\n        >\r\n          <DialogTitle id='dialog-title' onClose={handleModel}>Change Status</DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Autocomplete\r\n                  options={CcpaStatus}\r\n                  value={CcpaStatus.find((data: any) => data.id == status) || NoOption}\r\n                  getOptionLabel={(option: any) => option.name}\r\n                  getOptionSelected={(option) => option.id == status}\r\n                  onChange={(event: any, newValue: any) => {\r\n                    setStatus(newValue?.id || '');\r\n                  }}\r\n                  renderInput={(params: any) => (\r\n                    <TextField\r\n                      {...params}\r\n                      label='Change Status'\r\n                      variant='outlined'\r\n                      inputProps={{\r\n                        ...params.inputProps,\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n\r\n          <DialogActions>\r\n            <Button onClick={handleModel} variant='outlined' color='secondary'>Cancel</Button>\r\n            <Button className={classes.themeButton} onClick={() => onSubmit()} variant='outlined'>\r\n              {submitting ? <CircularProgress size={24} className={classes.lColor} /> : 'Change'}\r\n            </Button>\r\n          </DialogActions>\r\n\r\n        </Dialog>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AppUserCCPA;\r\n"]},"metadata":{},"sourceType":"module"}