{"ast":null,"code":"var _jsxFileName = \"D:\\\\Pyramidion\\\\WebApp\\\\Izze-Admin\\\\src\\\\pages\\\\AppUsers\\\\AppNutrition.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { Button, Card, CircularProgress, Grid, Table, TableBody, TableCell, TableRow, TextField } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport { makeStyles } from '@material-ui/styles';\nimport { Formik } from 'formik';\nimport clsx from 'clsx';\nimport * as Yup from 'yup';\nimport getDropValues, { DietTypeDrop, FitnessGoalDrop, FitnessGoalWomenDrop, LifeStyleDrop, NoOption } from '../../utils/PlanDropdowns';\nimport useSnackbar from '../../hook/useSnackbar';\nimport useService from '../../hook/useService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  editCardRoot: {\n    padding: theme.spacing(2)\n  },\n  marginLeft1: {\n    marginLeft: theme.spacing(1)\n  },\n  themeButton: {\n    color: theme.palette.white,\n    backgroundColor: theme.palette.green.main,\n    '&:hover': {\n      backgroundColor: theme.palette.green.dark\n    }\n  },\n  actionGrid: {\n    display: 'flex',\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n  },\n  editButtonDiv: {\n    display: 'flex',\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    paddingBottom: theme.spacing(2)\n  }\n}));\n\nconst AppNutrition = props => {\n  _s();\n\n  const classes = useStyles();\n  const [isEdit, setIsEdit] = useState(false);\n  const {\n    data,\n    onRefresh\n  } = props;\n  const [formData, setFormData] = useState(data);\n  useEffect(() => {\n    setFormData(props.data);\n  }, [props.data]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!isEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.editButtonDiv,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setIsEdit(true),\n        className: classes.themeButton,\n        variant: \"outlined\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }, this), !isEdit && /*#__PURE__*/_jsxDEV(ViewCard, {\n      data: formData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }, this), isEdit && /*#__PURE__*/_jsxDEV(EditCard, {\n      data: formData,\n      onClose: () => setIsEdit(false),\n      onSuccess: () => onRefresh()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AppNutrition, \"kOZqXWHspKKEaYMq3NYIuhfmNTM=\", false, function () {\n  return [useStyles];\n});\n\n_c = AppNutrition;\n\nconst EditCard = props => {\n  _s2();\n\n  const classes = useStyles();\n  const {\n    onClose,\n    onSuccess\n  } = props;\n  const formikRef = useRef(null);\n  const Snackbar = useSnackbar();\n  const {\n    Post\n  } = useService();\n  const formInitialValue = {\n    id: \"\",\n    fitnessGoal: \"\",\n    lifestyle: \"\",\n    diet_type: \"\",\n    weight: 0,\n    weightUnit: \"kgs\",\n    height: 0,\n    heightUnit: \"cm\"\n  };\n  console.log(props.data);\n  const [initialValue, setInitialValue] = useState(formInitialValue);\n\n  const onSubmit = (value, {\n    setSubmitting,\n    resetForm\n  }) => {\n    setSubmitting(true);\n    Post('app/updateMealPlan', value).then(res => {\n      Snackbar.show(res.message, 'success');\n      setSubmitting(false);\n      resetForm();\n      onClose();\n      onSuccess();\n    }).catch(err => {\n      setSubmitting(false);\n\n      if (err.message === 'Request failed with status code 500') {\n        Snackbar.show('No combination found', 'error');\n      } else {\n        Snackbar.show(err.message, 'error');\n      }\n    });\n  };\n\n  useLayoutEffect(() => {\n    const {\n      _id,\n      fitnessGoal,\n      lifestyle,\n      diet_type,\n      weight,\n      height\n    } = props.data;\n    setInitialValue(prevState => ({ ...prevState,\n      id: _id,\n      fitnessGoal,\n      lifestyle,\n      diet_type,\n      weight,\n      height\n    }));\n  }, [props.data]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.editCardRoot,\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      innerRef: formikRef,\n      enableReinitialize: true,\n      initialValues: initialValue,\n      validationSchema: Yup.object().shape({\n        fitnessGoal: Yup.string().trim().required('Fitness goal is required'),\n        lifestyle: Yup.string().trim().required('Life style is required'),\n        diet_type: Yup.string().trim().required('Diet type is required'),\n        weight: Yup.number().required('Weight is required'),\n        weightUnit: Yup.string().trim().required('Weight unit is required'),\n        height: Yup.number().required('Height is required'),\n        heightUnit: Yup.string().trim().required('Height unit is required')\n      }),\n      onSubmit: onSubmit,\n      children: ({\n        values,\n        errors,\n        touched,\n        handleChange,\n        handleBlur,\n        setFieldValue,\n        submitForm,\n        isSubmitting\n      }) => {\n        var _props$data;\n\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n                options: ((_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.gender) !== 'She/Her/Hers' ? FitnessGoalDrop : FitnessGoalWomenDrop,\n                value: FitnessGoalDrop.find(data => data.id == values.fitnessGoal) || NoOption,\n                getOptionLabel: option => option.name,\n                getOptionSelected: option => option.id == values.fitnessGoal,\n                onChange: (event, newValue) => {\n                  setFieldValue('fitnessGoal', (newValue === null || newValue === void 0 ? void 0 : newValue.id) || '');\n                },\n                onBlur: handleBlur,\n                renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n                  label: \"Fitness goals\",\n                  variant: \"outlined\",\n                  error: Boolean(touched.fitnessGoal && errors.fitnessGoal),\n                  helperText: touched.fitnessGoal && errors.fitnessGoal,\n                  inputProps: { ...params.inputProps\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n                options: LifeStyleDrop,\n                value: LifeStyleDrop.find(data => data.id == values.lifestyle) || NoOption,\n                getOptionLabel: option => option.name,\n                getOptionSelected: option => option.id == values.lifestyle,\n                onChange: (event, newValue) => {\n                  setFieldValue('lifestyle', (newValue === null || newValue === void 0 ? void 0 : newValue.id) || '');\n                },\n                onBlur: handleBlur,\n                renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n                  label: \"Life style\",\n                  variant: \"outlined\",\n                  error: Boolean(touched.lifestyle && errors.lifestyle),\n                  helperText: touched.lifestyle && errors.lifestyle,\n                  inputProps: { ...params.inputProps\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n                options: DietTypeDrop,\n                value: DietTypeDrop.find(data => data.id == values.diet_type) || NoOption,\n                getOptionLabel: option => option.name,\n                getOptionSelected: option => option.id == values.diet_type,\n                onChange: (event, newValue) => {\n                  setFieldValue('diet_type', (newValue === null || newValue === void 0 ? void 0 : newValue.id) || '');\n                },\n                onBlur: handleBlur,\n                renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n                  label: \"Diet Types\",\n                  variant: \"outlined\",\n                  error: Boolean(touched.diet_type && errors.diet_type),\n                  helperText: touched.diet_type && errors.diet_type,\n                  inputProps: { ...params.inputProps\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Weight\",\n                name: \"weight\",\n                variant: \"outlined\",\n                error: Boolean(touched.weight && errors.weight),\n                helperText: touched.weight && errors.weight,\n                value: values === null || values === void 0 ? void 0 : values.weight,\n                onChange: handleChange,\n                onBlur: handleBlur,\n                InputProps: {\n                  endAdornment: values === null || values === void 0 ? void 0 : values.weightUnit\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Height\",\n                name: \"height\",\n                variant: \"outlined\",\n                error: Boolean(touched.height && errors.height),\n                helperText: touched.height && errors.height,\n                value: values === null || values === void 0 ? void 0 : values.height,\n                onChange: handleChange,\n                onBlur: handleBlur,\n                InputProps: {\n                  endAdornment: values === null || values === void 0 ? void 0 : values.heightUnit\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              className: classes.actionGrid,\n              item: true,\n              xs: 12,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => onClose(),\n                variant: \"outlined\",\n                color: \"secondary\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: clsx(classes.themeButton, classes.marginLeft1),\n                onClick: () => submitForm(),\n                disabled: isSubmitting,\n                variant: \"outlined\",\n                children: isSubmitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  size: 24,\n                  style: {\n                    color: 'white'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this) : 'Update'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)\n        }, void 0, false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(EditCard, \"N2Q4wQEx04Yo3H/ingRFpIIl5NQ=\", false, function () {\n  return [useStyles, useSnackbar, useService];\n});\n\n_c2 = EditCard;\n\nconst ViewCard = props => {\n  _s3();\n\n  const classes = useStyles();\n  const {\n    data\n  } = props;\n  const [formData, setFormData] = useState({});\n  useEffect(() => {\n    setFormData(data);\n  }, [props]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      children: /*#__PURE__*/_jsxDEV(TableBody, {\n        children: [/*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Fitness Goals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: getDropValues(FitnessGoalDrop, formData === null || formData === void 0 ? void 0 : formData.fitnessGoal)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Life Style\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: getDropValues(LifeStyleDrop, formData === null || formData === void 0 ? void 0 : formData.lifestyle)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Diet Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: getDropValues(DietTypeDrop, formData === null || formData === void 0 ? void 0 : formData.diet_type)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Height\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: (formData === null || formData === void 0 ? void 0 : formData.height) !== null ? formData === null || formData === void 0 ? void 0 : formData.height : '' + ' ' + (formData === null || formData === void 0 ? void 0 : formData.heightUnit) !== null ? formData === null || formData === void 0 ? void 0 : formData.heightUnit : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Weight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: (formData === null || formData === void 0 ? void 0 : formData.weight) !== null ? formData === null || formData === void 0 ? void 0 : formData.weight : '' + ' ' + (formData === null || formData === void 0 ? void 0 : formData.weightUnit) !== null ? formData === null || formData === void 0 ? void 0 : formData.weightUnit : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(ViewCard, \"/JjL4q6hbvUkM8aIr5aZAnfsDh0=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = ViewCard;\nexport default AppNutrition;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"AppNutrition\");\n$RefreshReg$(_c2, \"EditCard\");\n$RefreshReg$(_c3, \"ViewCard\");","map":{"version":3,"sources":["D:/Pyramidion/WebApp/Izze-Admin/src/pages/AppUsers/AppNutrition.tsx"],"names":["React","useEffect","useLayoutEffect","useRef","useState","Button","Card","CircularProgress","Grid","Table","TableBody","TableCell","TableRow","TextField","Autocomplete","makeStyles","Formik","clsx","Yup","getDropValues","DietTypeDrop","FitnessGoalDrop","FitnessGoalWomenDrop","LifeStyleDrop","NoOption","useSnackbar","useService","useStyles","theme","editCardRoot","padding","spacing","marginLeft1","marginLeft","themeButton","color","palette","white","backgroundColor","green","main","dark","actionGrid","display","alignItems","justifyContent","editButtonDiv","paddingBottom","AppNutrition","props","classes","isEdit","setIsEdit","data","onRefresh","formData","setFormData","EditCard","onClose","onSuccess","formikRef","Snackbar","Post","formInitialValue","id","fitnessGoal","lifestyle","diet_type","weight","weightUnit","height","heightUnit","console","log","initialValue","setInitialValue","onSubmit","value","setSubmitting","resetForm","then","res","show","message","catch","err","_id","prevState","object","shape","string","trim","required","number","values","errors","touched","handleChange","handleBlur","setFieldValue","submitForm","isSubmitting","gender","find","option","name","event","newValue","params","Boolean","inputProps","endAdornment","ViewCard"],"mappings":"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","sourcesContent":["import React, { memo, useEffect, useLayoutEffect, useRef, useState } from 'react';\r\nimport {\r\n  Button,\r\n  Card, CircularProgress, Grid, Table, TableBody, TableCell,\r\n  TableRow,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Formik } from 'formik';\r\nimport clsx from 'clsx';\r\nimport * as Yup from 'yup';\r\nimport getDropValues, { DietTypeDrop, FitnessGoalDrop, FitnessGoalWomenDrop, LifeStyleDrop, NoOption } from '../../utils/PlanDropdowns';\r\nimport useSnackbar from '../../hook/useSnackbar';\r\nimport useService from '../../hook/useService';\r\n\r\nconst useStyles = makeStyles((theme: any) => ({\r\n  editCardRoot: {\r\n    padding: theme.spacing(2)\r\n  },\r\n  marginLeft1: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  themeButton: {\r\n    color: theme.palette.white,\r\n\r\n    backgroundColor: theme.palette.green.main,\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.green.dark,\r\n    },\r\n  },\r\n  actionGrid: {\r\n    display: 'flex',\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\"\r\n  },\r\n  editButtonDiv: {\r\n    display: 'flex',\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    paddingBottom: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nconst AppNutrition = (props: any) => {\r\n  const classes = useStyles();\r\n  const [isEdit, setIsEdit] = useState(false)\r\n  const { data, onRefresh } = props;\r\n  const [formData, setFormData] = useState<any>(data);\r\n  useEffect(() => {\r\n    setFormData(props.data)\r\n  }, [props.data]);\r\n\r\n  return (\r\n    <>\r\n      {!isEdit && <div className={classes.editButtonDiv}>\r\n        <Button onClick={() => setIsEdit(true)} className={classes.themeButton} variant='outlined'>\r\n          Edit\r\n        </Button>\r\n      </div>\r\n      }\r\n      {!isEdit && <ViewCard data={formData} />}\r\n      {isEdit && <EditCard data={formData} onClose={() => setIsEdit(false)} onSuccess={() => onRefresh()} />}\r\n    </>\r\n  );\r\n};\r\n\r\nconst EditCard = (props: any) => {\r\n  const classes = useStyles();\r\n  const { onClose, onSuccess } = props;\r\n  const formikRef = useRef<any>(null);\r\n  const Snackbar = useSnackbar();\r\n  const { Post } = useService();\r\n\r\n  const formInitialValue = {\r\n    id: \"\",\r\n    fitnessGoal: \"\",\r\n    lifestyle: \"\",\r\n    diet_type: \"\",\r\n    weight: 0,\r\n    weightUnit: \"kgs\",\r\n    height: 0,\r\n    heightUnit: \"cm\"\r\n  }\r\n\r\n  console.log(props.data)\r\n\r\n  const [initialValue, setInitialValue] = useState<any>(formInitialValue);\r\n\r\n  const onSubmit = (value: any, { setSubmitting, resetForm }: any) => {\r\n    setSubmitting(true);\r\n\r\n    Post('app/updateMealPlan', value)\r\n      .then((res: any) => {\r\n        Snackbar.show(res.message, 'success');\r\n        setSubmitting(false);\r\n        resetForm();\r\n        onClose();\r\n        onSuccess();\r\n      })\r\n      .catch((err: any) => {\r\n        setSubmitting(false);\r\n        if(err.message === 'Request failed with status code 500'){\r\n          Snackbar.show('No combination found', 'error');\r\n        }\r\n        else {\r\n          Snackbar.show(err.message, 'error');\r\n        }\r\n      });\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const { _id, fitnessGoal, lifestyle, diet_type, weight, height } = props.data\r\n    setInitialValue((prevState: any) => ({ ...prevState, id: _id, fitnessGoal, lifestyle, diet_type, weight, height }))\r\n  }, [props.data]);\r\n\r\n\r\n  return (\r\n    <Card className={classes.editCardRoot}>\r\n      <Formik\r\n        innerRef={formikRef}\r\n        enableReinitialize\r\n        initialValues={initialValue}\r\n        validationSchema={\r\n          Yup.object().shape({\r\n            fitnessGoal: Yup.string().trim().required('Fitness goal is required'),\r\n            lifestyle: Yup.string().trim().required('Life style is required'),\r\n            diet_type: Yup.string().trim().required('Diet type is required'),\r\n            weight: Yup.number().required('Weight is required'),\r\n            weightUnit: Yup.string().trim().required('Weight unit is required'),\r\n            height: Yup.number().required('Height is required'),\r\n            heightUnit: Yup.string().trim().required('Height unit is required'),\r\n          })\r\n        }\r\n        onSubmit={onSubmit}\r\n      >\r\n        {({ values, errors, touched, handleChange, handleBlur, setFieldValue, submitForm, isSubmitting }) => (\r\n          <>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={4}>\r\n                <Autocomplete\r\n                  options={props.data?.gender !== 'She/Her/Hers' ? FitnessGoalDrop : FitnessGoalWomenDrop}\r\n                  value={FitnessGoalDrop.find((data: any) => data.id == values.fitnessGoal) || NoOption}\r\n                  getOptionLabel={(option: any) => option.name}\r\n                  getOptionSelected={(option) => option.id == values.fitnessGoal}\r\n                  onChange={(event: any, newValue: any) => {\r\n                    setFieldValue('fitnessGoal', newValue?.id || '');\r\n                  }}\r\n                  onBlur={handleBlur}\r\n                  renderInput={(params: any) => (\r\n                    <TextField\r\n                      {...params}\r\n                      label='Fitness goals'\r\n                      variant='outlined'\r\n                      error={Boolean(touched.fitnessGoal && errors.fitnessGoal)}\r\n                      helperText={touched.fitnessGoal && errors.fitnessGoal}\r\n                      inputProps={{\r\n                        ...params.inputProps,\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={4}>\r\n                <Autocomplete\r\n                  options={LifeStyleDrop}\r\n                  value={LifeStyleDrop.find((data: any) => data.id == values.lifestyle) || NoOption}\r\n                  getOptionLabel={(option: any) => option.name}\r\n                  getOptionSelected={(option) => option.id == values.lifestyle}\r\n                  onChange={(event: any, newValue: any) => {\r\n                    setFieldValue('lifestyle', newValue?.id || '');\r\n                  }}\r\n                  onBlur={handleBlur}\r\n                  renderInput={(params: any) => (\r\n                    <TextField\r\n                      {...params}\r\n                      label='Life style'\r\n                      variant='outlined'\r\n                      error={Boolean(touched.lifestyle && errors.lifestyle)}\r\n                      helperText={touched.lifestyle && errors.lifestyle}\r\n                      inputProps={{\r\n                        ...params.inputProps,\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={4}>\r\n                <Autocomplete\r\n                  options={DietTypeDrop}\r\n                  value={DietTypeDrop.find((data: any) => data.id == values.diet_type) || NoOption}\r\n                  getOptionLabel={(option: any) => option.name}\r\n                  getOptionSelected={(option) => option.id == values.diet_type}\r\n                  onChange={(event: any, newValue: any) => {\r\n                    setFieldValue('diet_type', newValue?.id || '');\r\n                  }}\r\n                  onBlur={handleBlur}\r\n                  renderInput={(params: any) => (\r\n                    <TextField\r\n                      {...params}\r\n                      label='Diet Types'\r\n                      variant='outlined'\r\n                      error={Boolean(touched.diet_type && errors.diet_type)}\r\n                      helperText={touched.diet_type && errors.diet_type}\r\n                      inputProps={{\r\n                        ...params.inputProps,\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label='Weight'\r\n                  name='weight'\r\n                  variant='outlined'\r\n                  error={Boolean(touched.weight && errors.weight)}\r\n                  helperText={touched.weight && errors.weight}\r\n                  value={values?.weight}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  InputProps={{\r\n                    endAdornment: values?.weightUnit\r\n                  }}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label='Height'\r\n                  name='height'\r\n                  variant='outlined'\r\n                  error={Boolean(touched.height && errors.height)}\r\n                  helperText={touched.height && errors.height}\r\n                  value={values?.height}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  InputProps={{\r\n                    endAdornment: values?.heightUnit\r\n                  }}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid className={classes.actionGrid} item xs={12}>\r\n                <Button onClick={() => onClose()} variant='outlined' color='secondary'>\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  className={clsx(classes.themeButton, classes.marginLeft1)}\r\n                  onClick={() => submitForm()}\r\n                  disabled={isSubmitting}\r\n                  variant='outlined'\r\n                >\r\n                  {isSubmitting ? (\r\n                    <CircularProgress size={24} style={{ color: 'white' }} />\r\n                  ) : 'Update'}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst ViewCard = (props: any) => {\r\n  const classes = useStyles();\r\n\r\n  const { data } = props;\r\n  const [formData, setFormData] = useState<any>({});\r\n  useEffect(() => {\r\n    setFormData(data)\r\n  }, [props]);\r\n\r\n  return (\r\n    <Card>\r\n      <Table>\r\n        <TableBody>\r\n          <TableRow >\r\n            <TableCell>Fitness Goals</TableCell>\r\n            <TableCell>{getDropValues(FitnessGoalDrop, formData?.fitnessGoal)}</TableCell>\r\n          </TableRow>\r\n          <TableRow >\r\n            <TableCell>Life Style</TableCell>\r\n            <TableCell>{getDropValues(LifeStyleDrop, formData?.lifestyle)}</TableCell>\r\n          </TableRow>\r\n          <TableRow >\r\n            <TableCell>Diet Type</TableCell>\r\n            <TableCell>{getDropValues(DietTypeDrop, formData?.diet_type)}</TableCell>\r\n          </TableRow>\r\n          <TableRow >\r\n            <TableCell>Height</TableCell>\r\n            <TableCell>{formData?.height !== null ? formData?.height : '' + ' ' + formData?.heightUnit !== null ? formData?.heightUnit : ''}</TableCell>\r\n            {/* <TableCell>{formData?.height + ' ' + formData?.heightUnit}</TableCell> */}\r\n          </TableRow>\r\n          <TableRow >\r\n            <TableCell>Weight</TableCell>\r\n            <TableCell>{formData?.weight !== null ? formData?.weight : '' + ' ' + formData?.weightUnit !== null ? formData?.weightUnit : ''}</TableCell>\r\n            {/* <TableCell>{formData?.weight + ' ' + formData?.weightUnit}</TableCell> */}\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </Card>\r\n  );\r\n};\r\n\r\n\r\nexport default AppNutrition;\r\n"]},"metadata":{},"sourceType":"module"}